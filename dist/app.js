!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=178)}([function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,n,r){if(e.customInspect&&n&&R(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return _(i)||(i=c(e,i,r)),i}var o=u(e,n);if(o)return o;var a=Object.keys(n),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(R(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return l(n)}var v="",y=!1,b=["{","}"];if(f(n)&&(y=!0,b=["[","]"]),R(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(w(n)&&(v=" "+RegExp.prototype.toString.call(n)),S(n)&&(v=" "+Date.prototype.toUTCString.call(n)),C(n)&&(v=" "+l(n)),0===a.length&&(!y||0==n.length))return b[0]+v+b[1];if(r<0)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var T;return T=y?p(e,n,r,m,a):a.map(function(t){return d(e,n,r,m,t,y)}),e.seen.pop(),h(T,v,b)}function u(e,t){if(T(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?c(e,u.value,null):c(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),T(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function T(e){return void 0===e}function w(e){return E(e)&&"[object RegExp]"===I(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===I(e)}function C(e){return E(e)&&("[object Error]"===I(e)||e instanceof Error)}function R(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function I(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function x(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])g(s)||!E(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(T(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var N,M={};t.debuglog=function(e){if(T(N)&&(N=Object({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var n=r.pid;M[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else M[e]=function(){};return M[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=_,t.isSymbol=b,t.isUndefined=T,t.isRegExp=w,t.isObject=E,t.isDate=S,t.isError=C,t.isFunction=R,t.isPrimitive=k,t.isBuffer=n(335);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=n(336),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(12),n(11))},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,c){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,c],p=0;u=new Error(t.replace(/%s/g,function(){return l[p++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){!function(n,r){e.exports=t=r()}(0,function(){var e=e||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=0;i<t;i+=4){var a=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new o.init(r,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=4*a,c=i/s;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var u=c*a,l=e.min(4*u,i);if(u){for(var p=0;p<u;p+=a)this._doProcessBlock(r,p);var d=r.splice(0,u);n.sigBytes-=l}return new o.init(d,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);return e})},function(e,t,n){"use strict";e.exports=n(32)},function(e,t,n){"use strict";var r=n(17),i=r;e.exports=i},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)o.call(n,l)&&(c[l]=n[l]);if(i){s=i(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(c[s[p]]=n[s[p]])}}return c}},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(f)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[g]=n}function a(e){var t=e._hostNode;t&&(delete t[g],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var c=n[s],u=i(c)._domID;if(0!==u){for(;null!==a;a=a.nextSibling)if(r(a,u)){o(c,a);continue e}p("32",u)}}e._flags|=m.hasCachedChildNodes}}function c(e){if(e[g])return e[g];for(var t=[];!e[g];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[g]);e=t.pop())n=r,t.length&&s(r,e);return n}function u(e){var t=c(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode&&p("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=n(5),d=n(34),h=n(106),f=(n(1),d.ID_ATTRIBUTE_NAME),m=h,g="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:c,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:s,precacheNode:o,uncacheNode:a};e.exports=v},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,c=0;c<i;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw new T.typeErrors.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack or MediaStreamTrack")}function i(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function o(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce(function(e,n){var r=t(n);return e.concat(r)},[])}function a(){return c()+"@"+T.REGISTRAR_SERVER}function s(){return"orchestrator@"+T.REGISTRAR_SERVER}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function u(e){function t(){n=null,e()}var n=null;return function(){n&&clearTimeout(n),n=setTimeout(t)}}function l(e,t,n,r){return new Promise(function(i,o){function a(){var e=[].slice.call(arguments);r&&t.removeListener(r,s),i.apply(null,e)}function s(){var e=[].slice.call(arguments);t.removeListener(n,a),o.apply(null,e)}t.once(n,a),r&&t.once(r,s),e()})}function p(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)}function d(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function h(e,t,n,r){if(!t[r]&&!r.match(/^on[a-z]+$/)){var i;try{i=typeof e[r]}catch(e){}"function"===i&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}function f(e,t,n){for(var r in e)h(e,t,n,r)}function m(e,t,n){Object.getOwnPropertyNames(e).forEach(function(r){g(e,t,n,r)})}function g(e,t,n,r){if(!(r in t))return r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):void Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}function v(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e}function y(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e}function _(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"Track"}function b(){return"undefined"!=typeof mozRTCPeerConnection?"unified":null}var T=n(19);e.exports.constants=T,e.exports.asLocalTrack=r,e.exports.difference=i,e.exports.flatMap=o,e.exports.makeClientSIPURI=a,e.exports.makeServerSIPURI=s,e.exports.makeUUID=c,e.exports.oncePerTick=u,e.exports.promiseFromEvents=l,e.exports.getOrNull=p,e.exports.defer=d,e.exports.delegateMethods=f,e.exports.proxyProperties=m,e.exports.legacyPromise=v,e.exports.buildLogLevels=y,e.exports.trackClass=_,e.exports.getSdpFormat=b},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,c=(s.Utf8,s.Base64),u=n.algo,l=u.EvpKDF,p=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(r.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),h=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=d.CBC=function(){function e(e,n,r){var i=this._iv;if(i){var o=i;this._iv=t}else var o=this._prevBlock;for(var a=0;a<r;a++)e[n+a]^=o[a]}var n=h.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),n}(),m=n.pad={},g=m.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},v=(r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:f,padding:g}),reset:function(){p.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=n.format={},_=y.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(t);else var r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return v.create({ciphertext:t,salt:r})}},b=r.SerializableCipher=i.extend({cfg:i.extend({format:_}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return v.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),T=n.kdf={},w=T.OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=l.create({keySize:t+n}).compute(e,r),a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,v.create({key:i,iv:a,salt:r})}},E=r.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}})}()})},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?f=h.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,p,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,f=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=o[1],c=o[2],u=o[3],l={css:s,media:c,sourceMap:u};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=_[_.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=y++;n=v||(v=s(t)),r=p.bind(null,n,u,!1),i=p.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=h.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=T(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=b(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,y=0,_=[],b=n(318);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=f[s.id];c.refs--,o.push(c)}if(e){r(i(e,t),t)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete f[c.id]}}}};var T=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(276);n.d(t,"MemoryRouter",function(){return r.a});var i=n(278);n.d(t,"Prompt",function(){return i.a});var o=n(279);n.d(t,"Redirect",function(){return o.a});var a=n(132);n.d(t,"Route",function(){return a.a});var s=n(82);n.d(t,"Router",function(){return s.a});var c=n(282);n.d(t,"StaticRouter",function(){return c.a});var u=n(283);n.d(t,"Switch",function(){return u.a});var l=n(83);n.d(t,"matchPath",function(){return l.a});var p=n(284);n.d(t,"withRouter",function(){return p.a})},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){e.exports=n(272)()},function(e,t,n){"use strict";function r(e){return["a","e","i","o","u"].indexOf(e.toLowerCase()[0])>=0?"an":"a"}e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.REGISTRAR_SERVER="endpoint.twilio.com",e.exports.WS_SERVER=function(e,t){switch(e){case"prod":switch(t){case"us1":return"wss://endpoint.twilio.com";default:return"wss://endpoint."+t+".twilio.com"}default:return"wss://endpoint."+e+"-"+t+".twilio.com"}},e.exports.ECS_SERVER=function(e,t){switch(e){case"prod":return"https://ecs."+t+".twilio.com";default:return"https://ecs."+e+"-"+t+".twilio.com"}},e.exports.ECS_TIMEOUT=60,e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.ICE_SERVERS_TIMEOUT_MS=3e3,e.exports.ICE_SERVERS_DEFAULT_TTL=3600,e.exports.DEFAULT_ICE_SERVERS=function(e){switch(e){case"prod":return[{urls:"stun:global.stun.twilio.com:3478?transport=udp"}];default:return[{urls:"stun:global.stun."+e+".twilio.com:3478?transport=udp"}]}},e.exports.headers={X_TWILIO_ACCESSTOKEN:"X-Twilio-AccessToken"},e.exports.typeErrors={INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+r(t)+" "+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of ",t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}}},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(){k.ReactReconcileTransaction&&T||l("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){return r(),T.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length&&l("124",t,v.length),v.sort(a),y++;for(var n=0;n<t;n++){var r=v[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(f.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var c=0;c<i.length;c++)e.callbackQueue.enqueue(i[c],r.getPublicInstance())}}function c(e){if(r(),!T.isBatchingUpdates)return void T.batchedUpdates(c,e);v.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function u(e,t){T.isBatchingUpdates||l("125"),_.enqueue(e,t),b=!0}var l=n(5),p=n(6),d=n(110),h=n(25),f=n(111),m=n(35),g=n(52),v=(n(1),[]),y=0,_=d.getPooled(),b=!1,T=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[w,E];p(i.prototype,g,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var C=function(){for(;v.length||b;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},R={injectReconcileTransaction:function(e){e||l("126"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||l("127"),"function"!=typeof e.batchedUpdates&&l("128"),"boolean"!=typeof e.isBatchingUpdates&&l("129"),T=e}},k={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:c,flushBatchedUpdates:C,injection:R,asap:u};e.exports=k},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var c=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=c?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(6),o=n(25),a=n(17),s=(n(4),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),c={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=c,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(5),i=(n(1),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},c=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,l=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=c,n},p={addPoolingTo:l,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=p},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={userApiUrl:"https://e33zq7nat7.execute-api.eu-west-1.amazonaws.com/dev",videoApiUrl:"https://tqr3q3fgxe.execute-api.eu-west-1.amazonaws.com/dev",authApiUrl:"https://tqr3q3fgxe.execute-api.eu-west-1.amazonaws.com/dev",levels:[{level:"a1",title:"A1: Beginner"},{level:"a2",title:"A2: Elementary"},{level:"b1",title:"B1: Intermediate"},{level:"b2",title:"B2: Upper Intermediate"},{level:"c1",title:"C1: Advanced"},{level:"native",title:"Native speaker"}],defaultLang:"en",popularLanguages:{en:"English",es:"Spanish",fr:"French",de:"German",it:"Italian",ja:"Japanese",zh:"Chinese",ru:"Russian",uz:"Uzbek"},languages:{ab:"Abkhaz",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula",gd:"Gaelic",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guaraní",gu:"Gujarati",ht:"Haitian",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",id:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiaq",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",ky:"Kirghiz",rn:"Kirundi",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian",li:"Limburgish",ln:"Lingala",lt:"Lithuanian",lu:"Luba-Katanga",lg:"Luganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",gv:"Manx",mr:"Marathi",mh:"Marshallese",mn:"Mongolian",mi:"Māori",na:"Nauru",nv:"Navajo",ng:"Ndonga",ne:"Nepali",nd:"North Ndebele",se:"Northern Sami",no:"Norwegian",ii:"Nuosu",oc:"Occitan",oj:"Ojibwe",or:"Oriya",om:"Oromo",os:"Ossetian",pa:"Panjabi",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pi:"Pāli",qu:"Quechua",ro:"Romanian",rm:"Romansh",ru:"Russian",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sr:"Serbian",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovene",so:"Somali",nr:"South Ndebele",st:"Southern Sotho",es:"Spanish",su:"Sundanese",sw:"Swahili",ss:"Swati",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapük",wa:"Walloon",cy:"Welsh",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang"}}},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(29),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?l(e,t,n):h(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|f(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=p(e,t),e}function h(e,t){if(o.isBuffer(t)){var n=0|f(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?i(e,0):p(e,t);if("Buffer"===t.type&&Q(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}var u;if(i){var l=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===c)return l*a}else-1!==l&&(u-=u-l),l=-1}else for(n+c>s&&(n=s-c),u=n;u>=0;u--){for(var p=!0,d=0;d<c;d++)if(o(e,u+d)!==o(t,d)){p=!1;break}if(p)return u}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return z(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return z(V(t),e,n,r)}function S(e,t,n,r){return E(e,t,n,r)}function C(e,t,n,r){return z(K(t),e,n,r)}function R(e,t,n,r){return z(W(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var c,u,l,p;switch(s){case 1:o<128&&(a=o);break;case 2:c=e[i+1],128==(192&c)&&(p=(31&o)<<6|63&c)>127&&(a=p);break;case 3:c=e[i+1],u=e[i+2],128==(192&c)&&128==(192&u)&&(p=(15&o)<<12|(63&c)<<6|63&u)>2047&&(p<55296||p>57343)&&(a=p);break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(p=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&p<1114112&&(a=p)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return A(r)}function A(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return i||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function X(e,t,n,r,i){return i||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return Y.toByteArray(H(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Y=n(341),J=n(342),Q=n(343);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return c(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,c=Math.min(a,s),u=this.slice(r,i),l=e.slice(t,n),p=0;p<c;++p)if(u[p]!==l[p]){a=u[p],s=l[p];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return X(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return X(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:F(new o(e,r).toString()),c=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(12))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=n(49),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var c=n(50);c.inherits=n(24);var u=n(141),l=n(144);c.inherits(r,u);for(var p=s(l.prototype),d=0;d<p.length;d++){var h=p[d];r.prototype[h]||(r.prototype[h]=l.prototype[h])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t,n){"use strict";function r(){N.call(this,20101,"Invalid Access Token")}function i(){N.call(this,53e3,"Signaling connection error")}function o(){N.call(this,53001,"Signaling connection disconnected")}function a(){N.call(this,53002,"Signaling connection timed out")}function s(){N.call(this,53003,"Client received an invalid signaling message")}function c(){N.call(this,53004,"Client sent an invalid signaling message")}function u(){N.call(this,53100,"Room name is invalid")}function l(){N.call(this,53101,"Room name is too long")}function p(){N.call(this,53102,"Room name contains invalid characters")}function d(){N.call(this,53103,"Unable to create Room")}function h(){N.call(this,53104,"Unable to connect to Room")}function f(){N.call(this,53105,"Room contains too many Participants")}function m(){N.call(this,53106,"Room not found")}function g(){N.call(this,53200,"Participant identity is invalid")}function v(){N.call(this,53201,"Participant identity is too long")}function y(){N.call(this,53202,"Participant identity contains invalid characters")}function _(){N.call(this,53203,"Participant has too many Tracks")}function b(){N.call(this,53204,"Participant not found")}function T(){N.call(this,53300,"Track is invalid")}function w(){N.call(this,53301,"Track name is invalid")}function E(){N.call(this,53302,"Track name is too long")}function S(){N.call(this,53303,"Track name contains invalid characters")}function C(){N.call(this,53400,"Client is unable to create or apply a local media description")}function R(){N.call(this,53401,"Server is unable to create or apply a local media description")}function k(){N.call(this,53402,"Client is unable to apply a remote media description")}function I(){N.call(this,53403,"Server is unable to apply a remote media description")}function A(){N.call(this,53404,"No supported codec")}function x(){N.call(this,53500,"Unable to acquire configuration")}function O(){N.call(this,53501,"Unable to acquire TURN credentials")}var P=n(0).inherits,N=n(417),M={};t.createTwilioError=function(e,t){return e="number"==typeof e?e:0,t="string"==typeof t&&t?t:"Unknown error",M[e]?new M[e]:new N(e,t)},P(r,N),t.AccessTokenInvalidError=r,Object.defineProperty(M,20101,{value:r}),P(i,N),t.SignalingConnectionError=i,Object.defineProperty(M,53e3,{value:i}),P(o,N),t.SignalingConnectionDisconnectedError=o,Object.defineProperty(M,53001,{value:o}),P(a,N),t.SignalingConnectionTimeoutError=a,Object.defineProperty(M,53002,{value:a}),P(s,N),t.SignalingIncomingMessageInvalidError=s,Object.defineProperty(M,53003,{value:s}),P(c,N),t.SignalingOutgoingMessageInvalidError=c,Object.defineProperty(M,53004,{value:c}),P(u,N),t.RoomNameInvalidError=u,Object.defineProperty(M,53100,{value:u}),P(l,N),t.RoomNameTooLongError=l,Object.defineProperty(M,53101,{value:l}),P(p,N),t.RoomNameCharsInvalidError=p,Object.defineProperty(M,53102,{value:p}),P(d,N),t.RoomCreateFailedError=d,Object.defineProperty(M,53103,{value:d}),P(h,N),t.RoomConnectFailedError=h,Object.defineProperty(M,53104,{value:h}),P(f,N),t.RoomMaxParticipantsExceededError=f,Object.defineProperty(M,53105,{value:f}),P(m,N),t.RoomNotFoundError=m,Object.defineProperty(M,53106,{value:m}),P(g,N),t.ParticipantIdentityInvalidError=g,Object.defineProperty(M,53200,{value:g}),P(v,N),t.ParticipantIdentityTooLongError=v,Object.defineProperty(M,53201,{value:v}),P(y,N),t.ParticipantIdentityCharsInvalidError=y,Object.defineProperty(M,53202,{value:y}),P(_,N),t.ParticipantMaxTracksExceededError=_,Object.defineProperty(M,53203,{value:_}),P(b,N),t.ParticipantNotFoundError=b,Object.defineProperty(M,53204,{value:b}),P(T,N),t.TrackInvalidError=T,Object.defineProperty(M,53300,{value:T}),P(w,N),t.TrackNameInvalidError=w,Object.defineProperty(M,53301,{value:w}),P(E,N),t.TrackNameTooLongError=E,Object.defineProperty(M,53302,{value:E}),P(S,N),t.TrackNameCharsInvalidError=S,Object.defineProperty(M,53303,{value:S}),P(C,N),t.MediaClientLocalDescFailedError=C,Object.defineProperty(M,53400,{value:C}),P(R,N),t.MediaServerLocalDescFailedError=R,Object.defineProperty(M,53401,{value:R}),P(k,N),t.MediaClientRemoteDescFailedError=k,Object.defineProperty(M,53402,{value:k}),P(I,N),t.MediaServerRemoteDescFailedError=I,Object.defineProperty(M,53403,{value:I}),P(A,N),t.MediaNoSupportedCodecError=A,Object.defineProperty(M,53404,{value:A}),P(x,N),t.ConfigurationAcquireFailedError=x,Object.defineProperty(M,53500,{value:x}),P(O,N),t.ConfigurationAcquireTurnFailedError=O,Object.defineProperty(M,53501,{value:O})},function(e,t,n){"use strict";var r=n(6),i=n(100),o=n(180),a=n(185),s=n(33),c=n(186),u=n(189),l=n(190),p=n(192),d=s.createElement,h=s.createFactory,f=s.cloneElement,m=r,g=function(e){return e},v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i.Component,PureComponent:i.PureComponent,createElement:d,cloneElement:f,isValidElement:s.isValidElement,PropTypes:c,createClass:l,createFactory:h,createMixin:g,DOM:a,version:u,__spread:m};e.exports=v},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(6),a=n(22),s=(n(4),n(102),Object.prototype.hasOwnProperty),c=n(103),u={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,n,r,i,o,a){var s={$$typeof:c,type:e,key:t,ref:n,props:a,_owner:o};return s};l.createElement=function(e,t,n){var o,c={},p=null,d=null;if(null!=t){r(t)&&(d=t.ref),i(t)&&(p=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!u.hasOwnProperty(o)&&(c[o]=t[o])}var h=arguments.length-2;if(1===h)c.children=n;else if(h>1){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];c.children=f}if(e&&e.defaultProps){var g=e.defaultProps;for(o in g)void 0===c[o]&&(c[o]=g[o])}return l(e,p,d,0,0,a.current,c)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var c,p=o({},e.props),d=e.key,h=e.ref,f=(e._self,e._source,e._owner);if(null!=t){r(t)&&(h=t.ref,f=a.current),i(t)&&(d=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(c in t)s.call(t,c)&&!u.hasOwnProperty(c)&&(void 0===t[c]&&void 0!==m?p[c]=m[c]:p[c]=t[c])}var g=arguments.length-2;if(1===g)p.children=n;else if(g>1){for(var v=Array(g),y=0;y<g;y++)v[y]=arguments[y+2];p.children=v}return l(e.type,d,h,0,0,f,p)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===c},e.exports=l},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(5),o=(n(1),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},c=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)&&i("48",p);var d=p.toLowerCase(),h=n[p],f={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(h,t.MUST_USE_PROPERTY),hasBooleanValue:r(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1||i("50",p),c.hasOwnProperty(p)){var m=c[p];f.attributeName=m}a.hasOwnProperty(p)&&(f.attributeNamespace=a[p]),u.hasOwnProperty(p)&&(f.propertyName=u[p]),l.hasOwnProperty(p)&&(f.mutationMethod=l[p]),s.properties[p]=f}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(202),o=(n(20),n(4),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";function r(e){if(f){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&h(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){f?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){f?e.html=t:p(e.node,t)}function s(e,t){f?e.text=t:h(e.node,t)}function c(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:c}}var l=n(70),p=n(54),d=n(71),h=n(115),f="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=d(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===l.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});u.insertTreeBefore=m,u.replaceChildWithTree=i,u.queueChild=o,u.queueHTML=a,u.queueText=s,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(271);n.d(t,"BrowserRouter",function(){return r.a});var i=n(286);n.d(t,"HashRouter",function(){return i.a});var o=n(133);n.d(t,"Link",function(){return o.a});var a=n(288);n.d(t,"MemoryRouter",function(){return a.a});var s=n(289);n.d(t,"NavLink",function(){return s.a});var c=n(290);n.d(t,"Prompt",function(){return c.a});var u=n(291);n.d(t,"Redirect",function(){return u.a});var l=n(292);n.d(t,"Route",function(){return l.a});var p=n(293);n.d(t,"Router",function(){return p.a});var d=n(294);n.d(t,"StaticRouter",function(){return d.a});var h=n(295);n.d(t,"Switch",function(){return h.a});var f=n(296);n.d(t,"matchPath",function(){return f.a});var m=n(297);n.d(t,"withRouter",function(){return m.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(301),i=function(){localStorage.setItem("user",JSON.stringify(a.getState()))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=Object.assign({},e);switch(t.type){case"loginNeeded":n.loginNeeded=!e.userId;break;case"login":Object.assign(n,t.data);break;case"logout":n={};break;case"expire":Object.assign(n,{userId:null,userAccessToken:null,expiresAt:null});break;case"update":Object.assign(n,t.data)}return null==n.points&&(n.points=50),n.userId&&(n.loginNeeded=!1),n},a=(0,r.createStore)(o,function(){return JSON.parse(localStorage.getItem("user"))||{}}(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.subscribe(i),t.default=a},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=t[o>>>2]>>>24-o%4*8&255,s=t[o+1>>>2]>>>24-(o+1)%4*8&255,c=t[o+2>>>2]>>>24-(o+2)%4*8&255,u=a<<16|s<<8|c,l=0;l<4&&o+.75*l<n;l++)i.push(r.charAt(u>>>6*(3-l)&63));var p=r.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(t=o)}for(var a=[],s=0,c=0;c<t;c++)if(c%4){var u=n.indexOf(e.charAt(c-1))<<c%4*2,l=n.indexOf(e.charAt(c))>>>6-c%4*2,p=u|l;a[s>>>2]|=p<<24-s%4*8,s++}return r.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(t){function n(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function r(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function i(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function o(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}var a=e,s=a.lib,c=s.WordArray,u=s.Hasher,l=a.algo,p=[];!function(){for(var e=0;e<64;e++)p[e]=4294967296*t.abs(t.sin(e+1))|0}();var d=l.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var s=t+a,c=e[s];e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var u=this._hash.words,l=e[t+0],d=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],_=e[t+8],b=e[t+9],T=e[t+10],w=e[t+11],E=e[t+12],S=e[t+13],C=e[t+14],R=e[t+15],k=u[0],I=u[1],A=u[2],x=u[3];k=n(k,I,A,x,l,7,p[0]),x=n(x,k,I,A,d,12,p[1]),A=n(A,x,k,I,h,17,p[2]),I=n(I,A,x,k,f,22,p[3]),k=n(k,I,A,x,m,7,p[4]),x=n(x,k,I,A,g,12,p[5]),A=n(A,x,k,I,v,17,p[6]),I=n(I,A,x,k,y,22,p[7]),k=n(k,I,A,x,_,7,p[8]),x=n(x,k,I,A,b,12,p[9]),A=n(A,x,k,I,T,17,p[10]),I=n(I,A,x,k,w,22,p[11]),k=n(k,I,A,x,E,7,p[12]),x=n(x,k,I,A,S,12,p[13]),A=n(A,x,k,I,C,17,p[14]),I=n(I,A,x,k,R,22,p[15]),k=r(k,I,A,x,d,5,p[16]),x=r(x,k,I,A,v,9,p[17]),A=r(A,x,k,I,w,14,p[18]),I=r(I,A,x,k,l,20,p[19]),k=r(k,I,A,x,g,5,p[20]),x=r(x,k,I,A,T,9,p[21]),A=r(A,x,k,I,R,14,p[22]),I=r(I,A,x,k,m,20,p[23]),k=r(k,I,A,x,b,5,p[24]),x=r(x,k,I,A,C,9,p[25]),A=r(A,x,k,I,f,14,p[26]),I=r(I,A,x,k,_,20,p[27]),k=r(k,I,A,x,S,5,p[28]),x=r(x,k,I,A,h,9,p[29]),A=r(A,x,k,I,y,14,p[30]),I=r(I,A,x,k,E,20,p[31]),k=i(k,I,A,x,g,4,p[32]),x=i(x,k,I,A,_,11,p[33]),A=i(A,x,k,I,w,16,p[34]),I=i(I,A,x,k,C,23,p[35]),k=i(k,I,A,x,d,4,p[36]),x=i(x,k,I,A,m,11,p[37]),A=i(A,x,k,I,y,16,p[38]),I=i(I,A,x,k,T,23,p[39]),k=i(k,I,A,x,S,4,p[40]),x=i(x,k,I,A,l,11,p[41]),A=i(A,x,k,I,f,16,p[42]),I=i(I,A,x,k,v,23,p[43]),k=i(k,I,A,x,b,4,p[44]),x=i(x,k,I,A,E,11,p[45]),A=i(A,x,k,I,R,16,p[46]),I=i(I,A,x,k,h,23,p[47]),k=o(k,I,A,x,l,6,p[48]),x=o(x,k,I,A,y,10,p[49]),A=o(A,x,k,I,C,15,p[50]),I=o(I,A,x,k,g,21,p[51]),k=o(k,I,A,x,E,6,p[52]),x=o(x,k,I,A,f,10,p[53]),A=o(A,x,k,I,T,15,p[54]),I=o(I,A,x,k,d,21,p[55]),k=o(k,I,A,x,_,6,p[56]),x=o(x,k,I,A,R,10,p[57]),A=o(A,x,k,I,v,15,p[58]),I=o(I,A,x,k,S,21,p[59]),k=o(k,I,A,x,m,6,p[60]),x=o(x,k,I,A,w,10,p[61]),A=o(A,x,k,I,h,15,p[62]),I=o(I,A,x,k,b,21,p[63]),u[0]=u[0]+k|0,u[1]=u[1]+I|0,u[2]=u[2]+A|0,u[3]=u[3]+x|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}});a.MD5=u._createHelper(d),a.HmacMD5=u._createHmacHelper(d)}(Math),e.MD5})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(87),n(88))}(0,function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),a=o.words,s=n.keySize,c=n.iterations;a.length<s;){u&&r.update(u);var u=r.update(e).finalize(t);r.reset();for(var l=1;l<c;l++)u=r.finalize(u),r.reset();o.concat(u)}return o.sigBytes=4*s,o}});t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),e.EvpKDF})},function(e,t,n){"use strict";function r(e,t){l.call(this);var n=null,r=e;t=c(t),Object.defineProperties(this,{_lock:{get:function(){return n},set:function(e){n=e}},_reachableStates:{value:a(t)},_state:{get:function(){return r},set:function(e){r=e}},_states:{value:t},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==n}},state:{enumerable:!0,get:function(){return r}}});var i=this;this.on("stateChanged",function(e){i._whenDeferreds.forEach(function(t){t.when(e,t.resolve,t.reject)})})}function i(e,t,n){return e.get(t).has(n)}function o(e){var t=d.defer();return t.name=e,t.depth=0,t}function a(e){return Array.from(e.keys()).reduce(function(t,n){return t.set(n,s(e,n))},new Map)}function s(e,t,n){return n=n||new Set,e.get(t).forEach(function(t){n.has(t)||(n.add(t),s(e,t,n).forEach(n.add,n))}),n}function c(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}function u(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}var l=n(8).EventEmitter,p=n(0).inherits,d=n(9);p(r,l),r.prototype._whenPromise=function(e){if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var t=d.defer(),n=this;return t.when=e,this._whenDeferreds.add(t),t.promise.then(function(e){return n._whenDeferreds.delete(t),e},function(e){throw n._whenDeferreds.delete(t),e})},r.prototype.bracket=function(e,t){function n(e){if(i.hasLock(r)&&i.releaseLockCompletely(r),e)throw e}var r,i=this;return this.takeLock(e).then(function(e){return r=e,t(r)}).then(function(e){return n(),e},n)},r.prototype.hasLock=function(e){return this._lock===e},r.prototype.preempt=function(e,t,n){if(!i(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var o=null;t&&(o=this.takeLockSync(t));var a=o?null:this.takeLockSync("preemption");return this.transition(e,o||a,n),r&&r.resolve(),a&&this.releaseLock(a),o},r.prototype.releaseLock=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},r.prototype.releaseLockCompletely=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},r.prototype.takeLock=function(e){if("object"==typeof e){var t=e,n=this;return new Promise(function(e){e(n.takeLockSync(t))})}var r=e;if(this.isLocked){var i=this.takeLock.bind(this,r);return this._lock.promise.then(i)}return Promise.resolve(this.takeLockSync(r))},r.prototype.takeLockSync=function(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=o(n);return this._lock=r,r},r.prototype.transition=function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!i(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,["stateChanged",e].concat(n))},r.prototype.tryTransition=function(e,t,n){try{this.transition(e,t,n)}catch(e){return!1}return!0},r.prototype.when=function(e){var t=this;return this.state===e?Promise.resolve(this):i(this._reachableStates,this.state,e)?this._whenPromise(function(n,r,o){n===e?r(t):i(t._reachableStates,n,e)||o(u(n,e))}):Promise.reject(u(this.state,e))},e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return v(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?f.getParentInstance(t):null;f.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=v(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function c(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){g(e,o)}function l(e){g(e,a)}function p(e,t,n,r){f.traverseEnterLeave(n,r,s,e,t)}function d(e){g(e,c)}var h=n(45),f=n(64),m=n(107),g=n(108),v=(n(4),h.getListener),y={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};e.exports=y},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(5),a=n(63),s=n(64),c=n(65),u=n(107),l=n(108),p=(n(1),{}),d=null,h=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return h(e,!0)},m=function(e){return h(e,!1)},g=function(e){return"."+e._rootNodeID},v={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&o("94",t,typeof n);var r=g(e);(p[t]||(p[t]={}))[r]=n;var i=a.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];if(r){delete r[g(e)]}},deleteAllListeners:function(e){var t=g(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var i,o=a.plugins,s=0;s<o.length;s++){var c=o[s];if(c){var l=c.extractEvents(e,t,n,r);l&&(i=u(i,l))}}return i},enqueueEvents:function(e){e&&(d=u(d,e))},processEventQueue:function(e){var t=d;d=null,e?l(t,f):l(t,m),d&&o("95"),c.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};e.exports=v},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o=n(66),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(11))},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function c(e){return"symbol"==typeof e}function u(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function p(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=c,t.isUndefined=u,t.isRegExp=l,t.isObject=p,t.isDate=d,t.isError=h,t.isFunction=f,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,n(29).Buffer)},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(5),i=(n(1),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,c){this.isInTransaction()&&r("27");var u,l;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,c),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o=n(114),a=n(68),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r,i=n(15),o=n(70),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,c=n(71),u=c(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),l=null}e.exports=u},function(e,t,n){"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=r}return s!==a?i+t.substring(s,a):i}function i(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var o=/["'&<>]/;e.exports=i},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,p[e[m]]={}),p[e[m]]}var i,o=n(6),a=n(63),s=n(223),c=n(114),u=n(224),l=n(67),p={},d=!1,h=0,f={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=a.registrationNameDependencies[e],s=0;s<o.length;s++){var c=o[s];i.hasOwnProperty(c)&&i[c]||("topWheel"===c?l("wheel")?g.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):g.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===c?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):g.ReactEventListener.trapBubbledEvent("topScroll","scroll",g.ReactEventListener.WINDOW_HANDLE):"topFocus"===c||"topBlur"===c?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent("topFocus","focus",n),g.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),g.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):f.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,f[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=g.supportsEventPageXY()),!i&&!d){var e=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=g},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;c=new Error(t.replace(/%s/g,function(){return u[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=r},function(e,t,n){t=e.exports=n(141),t.Stream=t,t.Readable=t,t.Writable=n(144),t.Duplex=n(30),t.Transform=n(146),t.PassThrough=n(350)},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,a=n.x64={};a.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e})},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);a.call(this,i,e,t)}var i=n(159),o=n(0).inherits,a=n(160);o(r,i),r.prototype._end=a.prototype._end,r.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},r.prototype.attach=function(e){return e=i.prototype.attach.call(this,e),e.muted=!0,e},r.prototype.disable=a.prototype.disable,r.prototype.enable=a.prototype.enable,r.prototype.stop=a.prototype.stop,e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);if("string"!=typeof e)throw new c.INVALID_TYPE("moduleName","string");if(!t)throw new c.REQUIRED_ARGUMENT("component");"object"!=typeof n&&(n={}),o(n),Object.defineProperties(this,{_logLevels:{value:n},logLevel:{get:function(){return r.getLevelByName(n[e]||s)}},name:{get:t.toString.bind(t)}})}function i(e){if(!(e in u))throw new c.INVALID_VALUE("level",p)}function o(e){Object.keys(e).forEach(function(t){i(e[t].toUpperCase())})}var a=n(19),s=a.DEFAULT_LOG_LEVEL,c=n(19).typeErrors;Object.defineProperties(r,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:[{name:"DEBUG",logFn:console.log},{name:"INFO",logFn:console.info},{name:"WARN",logFn:console.warn},{name:"ERROR",logFn:console.error},{name:"OFF",logFn:function(){}}]}});var u={},l=[],p=r._levels.map(function(e,t){return u[e.name]=!0,l.push(t),e.name});r.getLevelByName=function(e){return isNaN(e)?(e=e.toUpperCase(),i(e),r[e]):parseInt(e,10)},r.prototype.createLog=function(e,t){return new r(e,t,this._logLevels)},r.prototype.setLevels=function(e){return o(e),Object.assign(this._logLevels,e),this},r.prototype.log=function(e,t){var n=r._levels[e];if(!n)throw new c.INVALID_VALUE("logLevel",l);if(this.logLevel<=e){var i=n.name,o=(new Date).toISOString().split("T").concat(["|",i,"in",this.name+":"]);n.logFn.apply(console,o.concat(t))}return this},r.prototype.debug=function(){return this.log(r.DEBUG,[].slice.call(arguments))},r.prototype.info=function(){return this.log(r.INFO,[].slice.call(arguments))},r.prototype.warn=function(){return this.log(r.WARN,[].slice.call(arguments))},r.prototype.error=function(){return this.log(r.ERROR,[].slice.call(arguments))},r.prototype.throw=function(e,t){throw e.clone&&(e=e.clone(t)),this.log(r.ERROR,e),e},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);o.call(this,a,e,t)}var i=n(0).inherits,o=n(160),a=n(162);i(r,a),r.prototype._end=o.prototype._end,r.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},r.prototype.enable=o.prototype.enable,r.prototype.disable=o.prototype.disable,r.prototype.stop=o.prototype.stop,e.exports=r},function(e,t,n){"use strict";function r(){if(s)for(var e in c){var t=c[e],n=s.indexOf(e);if(n>-1||a("96",e),!u.plugins[n]){t.extractEvents||a("97",e),u.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)||a("98",o,e)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]&&a("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(5),s=(n(1),null),c={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];c.hasOwnProperty(n)&&c[n]===i||(c[n]&&a("102",n),c[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=u.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in c)c.hasOwnProperty(e)&&delete c[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=v.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&f("103"),e.currentTarget=t?v.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,h,f=n(5),m=n(65),g=(n(1),n(4),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){h=e}}),v={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return h.traverseEnterLeave(e,t,n,r,i)},injection:g};e.exports=v},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=r},function(e,t,n){"use strict";/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(15);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return!!r&&!!n[r]}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){l.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],c(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(m(e,i,r),i===n)break;i=o}}function c(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(f(i,n),c(r,i,t)):c(r,e,t)}var l=n(36),p=n(208),d=(n(7),n(20),n(71)),h=n(54),f=n(115),m=d(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,v={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":o(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":h(e,s.content);break;case"TEXT_CONTENT":f(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};e.exports=v},function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=r},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function i(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function o(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(5),c=n(226),u=n(104),l=n(32),p=u(l.isValidElement),d=(n(1),n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:p.func},f={},m={checkPropTypes:function(e,t,n){for(var r in h){if(h.hasOwnProperty(r))var i=h[r](t,r,e,"prop",null,c);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(5),i=(n(1),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&r("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=r},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";function r(e){c.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(5),s=(n(22),n(47)),c=(n(20),n(21)),u=(n(1),n(4),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var i=o(e);if(!i)return null;i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],r(i)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=o(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(u.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){(n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,i(e))}});e.exports=u},function(e,t,n){"use strict";var r=(n(6),n(17)),i=(n(4),r);e.exports=i},function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(274),a=r(o),s=n(275),c=r(s),u=n(48);t.createLocation=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=(0,u.parsePath)(e),o.state=t):(o=i({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,c.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=n.n(a),c=n(57),u=n.n(c),l=n(3),p=n.n(l),d=n(18),h=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:f({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;u()(null==n||1===p.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?p.a.Children.only(e):null},t}(p.a.Component);m.propTypes={history:h.a.object.isRequired,children:h.a.node},m.contextTypes={router:h.a.object},m.childContextTypes={router:h.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(280),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],c=i()(e,s,t),u={re:c,keys:s};return a<1e4&&(r[e]=u,a++),u},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,c=n.strict,u=void 0!==c&&c,l=s(i,{end:a,strict:u}),p=l.re,d=l.keys,h=p.exec(e);if(!h)return null;var f=h[0],m=h.slice(1),g=e===f;return a&&!g?null:{path:i,url:"/"===i&&""===f?"/":f,isExact:g,params:d.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}};t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=a.default.userApiUrl,c=function(){function e(){r(this,e)}return i(e,null,[{key:"requestLoginToken",value:function(e,t){return fetch(new Request(s+"/auth",{mode:"cors",method:"POST",body:JSON.stringify({code:e,csrf:t})})).then(function(e){return e.json()})}},{key:"requestLoginAppId",value:function(){return fetch(new Request(s+"/credentials",{mode:"cors"})).then(function(e){return e.json()})}},{key:"getUserData",value:function(e,t){var n=new Headers;return n.append("Authorization","Bearer "+t),fetch(new Request(s+"/user/"+e,{mode:"cors",method:"GET",headers:n})).then(function(e){return e.json()})}},{key:"updateUserData",value:function(e,t,n){return fetch(new Request(s+"/user",{mode:"cors",method:"PUT",body:JSON.stringify(Object.assign({userId:e,userAccessToken:t},n))})).then(function(e){return e.json()})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(334),s=r(a),c=n(27),u=r(c),l=u.default.authApiUrl,p=void 0,d=function(){function e(t){i(this,e),this.topic=t}return o(e,[{key:"getKeys",value:function(){return p?Promise.resolve(p):fetch(new Request(l+"/auth",{mode:"cors",method:"GET"})).then(function(e){return e.json()}).then(function(e){return p=e})}}]),o(e,[{key:"connect",value:function(){var e=this;return window.addEventListener("unload",function(){return e.end}),this.getKeys().then(function(t){return e.client=s.default.device({region:t.region,protocol:"wss",accessKeyId:t.accessKey,secretKey:t.secretKey,sessionToken:t.sessionToken,port:443,host:t.iotEndpoint}),e.client.on("error",function(e){console.error(e)}),e.client.on("connect",function(){e.client.subscribe(e.topic)}),e.client})}},{key:"onMessage",value:function(e){var t=this;this.client.on("message",function(n,r){console.log("Received message in "+n+": "+r),n===t.topic&&e(JSON.parse(r))})}},{key:"publish",value:function(e){this.client&&this.client.publish(this.topic,JSON.stringify(e))}},{key:"end",value:function(){this.client&&this.client.end()}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e,t){function n(n){t.rejectUnauthorized&&e.emit("error",n),r.end()}var r;return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!1!==t.rejectUnauthorized,r=i.connect(t),r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",n)}),r.on("error",n),r}var i=n(368);e.exports=r},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)a[u]=0|e[t+u];else{var l=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=l<<1|l>>>31}var p=(r<<5|r>>>27)+c+a[u];p+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,c=s,s=o,o=i<<30|i>>>2,i=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s)}(),e.SHA1})},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){!function(){var t=e,n=t.lib,r=n.Base,i=t.enc,o=i.Utf8,a=t.algo;a.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()})},function(e,t){e.exports=function(e){return void 0===e||null===e}},function(e,t){},function(e,t){e.exports={_args:[[{raw:"twilio-video",scope:null,escapedName:"twilio-video",name:"twilio-video",rawSpec:"",spec:"latest",type:"tag"},"/Users/katspaugh/Sites/language-roulette"]],_from:"twilio-video@latest",_id:"twilio-video@1.2.0",_inCache:!0,_location:"/twilio-video",_nodeVersion:"7.10.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/twilio-video-1.2.0.tgz_1500663108763_0.19333970546722412"},_npmUser:{name:"markandrus",email:"markandrusroberts@gmail.com"},_npmVersion:"4.2.0",_phantomChildren:{},_requested:{raw:"twilio-video",scope:null,escapedName:"twilio-video",name:"twilio-video",rawSpec:"",spec:"latest",type:"tag"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/twilio-video/-/twilio-video-1.2.0.tgz",_shasum:"01a732cd815ced976ccc8d0352e85d273f32de4a",_shrinkwrap:null,_spec:"twilio-video",_where:"/Users/katspaugh/Sites/language-roulette",author:{name:"Mark Andrus Roberts",email:"mroberts@twilio.com"},browser:{ws:"./src/ws.js",xmlhttprequest:"./src/xmlhttprequest.js"},bugs:{url:"https://github.com/twilio/twilio-video.js/issues"},contributors:[{name:"Ryan Rowland",email:"rrowland@twilio.com"},{name:"Manjesh Malavalli",email:"mmalavalli@twilio.com"}],dependencies:{"sip.js":"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",ws:"^2.3.1",xmlhttprequest:"^1.8.0"},description:"Twilio Video JavaScript library",devDependencies:{browserify:"^14.3.0",cheerio:"^0.22.0",chromedriver:"2.28.0",envify:"^4.0.0",eslint:"^3.19.0",geckodriver:"1.4.0","ink-docstrap":"^1.3.0",istanbul:"^0.4.5",jsdoc:"^3.4.3",karma:"^1.6.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.0.0","karma-firefox-launcher":"^1.0.1","karma-mocha":"^1.3.0","karma-spec-reporter":"^0.0.31",mocha:"^3.2.0","mock-browser":"^0.92.14","npm-run-all":"^4.0.2",phantom:"^4.0.2","release-tool":"^0.2.2",requirejs:"^2.3.3",rimraf:"^2.6.1","selenium-webdriver":"3.3.0",sinon:"^2.1.0","travis-multirunner":"^3.1.0",twilio:"^2.11.1","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","webrtc-adapter":"^4.1.1"},directories:{},dist:{shasum:"01a732cd815ced976ccc8d0352e85d273f32de4a",tarball:"https://registry.npmjs.org/twilio-video/-/twilio-video-1.2.0.tgz"},engines:{node:">=0.12"},gitHead:"9a36a526ab3ed4ffe9e1efb97a441cf8755e6783",homepage:"https://twilio.com",keywords:["twilio","webrtc","library","javascript","video","rooms"],license:"BSD-3-Clause",main:"./lib/index.js",maintainers:[{name:"markandrus",email:"markandrusroberts@gmail.com"}],name:"twilio-video",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/twilio/twilio-video.js.git"},scripts:{build:"npm-run-all clean lint docs cover test:webrtc test:integration build:js build:min.js test:umd","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":'uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments "/^! twilio-video.js/" -b beautify=false,ascii_only=true',"build:quick":"npm-run-all clean lint docs build:js build:min.js","build:travis":"npm-run-all clean lint docs cover test:webrtc test:integration:travis build:js build:min.js test:umd test:framework",clean:"rimraf ./coverage ./dist",cover:"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js",docs:"node ./scripts/docs.js ./dist/docs",lint:"eslint ./lib",test:"npm-run-all test:unit test:integration","test:framework":"npm-run-all test:framework:angular test:framework:meteor test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular:test":"node ./scripts/framework.js twilio-video-angular","test:framework:meteor":"npm-run-all test:framework:meteor:*","test:framework:meteor:install":"cd ./test/framework/twilio-video-meteor && rimraf ./node_modules && npm install","test:framework:meteor:run":"mocha ./test/framework/twilio-video-meteor.js","test:framework:meteor:test":"node ./scripts/framework.js twilio-video-meteor","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"npm-run-all test:integration:node test:integration:browser","test:integration:browser":"node ./scripts/karma.js karma/integration.conf.js","test:integration:browser:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration:node":"mocha ./test/integration/index.js","test:integration:travis":"node ./scripts/integration.js","test:umd":"mocha ./test/umd/index.js","test:unit":"mocha ./test/unit/index.js","test:webrtc":"npm-run-all test:webrtc:*","test:webrtc:adapter":"karma start karma/webrtc.adapter.conf.js","test:webrtc:native":"karma start karma/webrtc.conf.js"},title:"Twilio Video",version:"1.2.0"}},function(e,t,n){"use strict";function r(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise(function(t,r){e(function(e){n._isCancelable=!1,t(e)},function(e){n._isCancelable=!1,r(e)},function(){return n._isCanceled})})})}r.reject=function(e){return new r(function(t,n){n(e)},function(){})},r.resolve=function(e){return new r(function(t){t(e)},function(){})},r.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},r.prototype.catch=function(){var e=[].slice.call(arguments),t=this._promise;return new r(function(n,r){t.catch.apply(t,e).then(n,r)},this._onCancel)},r.prototype.then=function(){var e=[].slice.call(arguments),t=this._promise;return new r(function(n,r){t.then.apply(t,e).then(n,r)},this._onCancel)},e.exports=r},function(e,t,n){"use strict";function r(e){var t=!(e&&("audio"in e||"video"in e));e=Object.assign({audio:t,getUserMedia:a,logLevel:p,LocalAudioTrack:s,LocalVideoTrack:c,MediaStreamTrack:u,Log:l,video:t},e);var n="[createLocalTracks #"+ ++d+"]",r=o(e.logLevel),h=new e.Log("default",n,r);return!1===e.audio&&!1===e.video?(h.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([])):e.tracks?(h.info("Adding user-provided LocalTracks"),h.debug("LocalTracks:",e.tracks),Promise.resolve(e.tracks)):e.getUserMedia({audio:e.audio,video:e.video}).then(function(t){var n=t.getTracks();return h.info("Call to getUserMedia successful; got MediaStreamTracks:",n),n.map(function(t){return i(t,Object.assign({log:h},e))})},function(e){throw h.warn("Call to getUserMedia failed:",e),e})}var i=n(9).asLocalTrack,o=n(9).buildLogLevels,a=n(408),s=n(60),c=n(62),u=n(96),l=n(61),p=n(19).DEFAULT_LOG_LEVEL,d=0;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){i.call(this);var r=!1;n=Object.assign({MediaStream:o},n),Object.defineProperties(this,{_attachments:{value:new Set},_instanceId:{value:++s},_isStarted:{get:function(){return r},set:function(e){r=e}},_log:{value:n.log.createLog("media",this)},_signaling:{value:t},_MediaStream:{value:n.MediaStream},id:{enumerable:!0,value:e.id},isEnabled:{enumerable:!0,get:function(){return t.isEnabled}},isStarted:{get:function(){return r}},kind:{enumerable:!0,value:e.kind},mediaStreamTrack:{enumerable:!0,value:e}}),this._initialize()}var i=n(8).EventEmitter,o=n(95),a=n(0).inherits,s=0;r.DISABLED="disabled",r.ENABLED="enabled";var c=r.STARTED="started";a(r,i),r.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null,this.emit(c,this)},r.prototype._initialize=function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)}),this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._reemit=function(){e.emit(e.isEnabled?"enabled":"disabled",e)},this._signaling.on("updated",this._reemit),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl)},r.prototype._end=function(){this._log.debug("Ended"),this._signaling.removeListener("updated",this._reemit),this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null},r.prototype.attach=function(e){return"string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e)},r.prototype._attach=function(e){var t=e.srcObject;t instanceof this._MediaStream||(t=new this._MediaStream);var n="audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks";return t[n]().forEach(function(e){t.removeTrack(e)}),t.addTrack(this.mediaStreamTrack),e.srcObject=t,e.autoplay=!0,this._attachments.has(e)||this._attachments.add(e),e},r.prototype._selectElement=function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},r.prototype._createElement=function(){return document.createElement(this.kind)},r.prototype.detach=function(e){var t;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},r.prototype._detachElements=function(e){return e.map(this._detachElement.bind(this))},r.prototype._detachElement=function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;return t instanceof this._MediaStream&&t.removeTrack(this.mediaStreamTrack),this._attachments.delete(e),e},r.prototype._getAllAttachedElements=function(){var e=[];return this._attachments.forEach(function(t){e.push(t)}),e},e.exports=r},function(e,t,n){"use strict";"undefined"!=typeof webkitMediaStream?e.exports=webkitMediaStream:"undefined"!=typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("WebRTC is not supported in this browser")}},function(e,t,n){"use strict";"undefined"!=typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("WebRTC is not supported in this browser")}},function(e,t,n){"use strict";function r(){o.call(this,"connecting",a),Object.defineProperties(this,{_identity:{writable:!0,value:null},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}})}var i=n(0).inherits,o=n(42),a={connecting:["connected"],connected:["disconnected"],disconnected:[]};i(r,o),r.prototype.addTrack=function(e){return this.tracks.set(e.id,e),this.emit("trackAdded",e),this},r.prototype.disconnect=function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},r.prototype.removeTrack=function(e){var t=this.tracks.delete(e.id);return t&&this.emit("trackRemoved",e),t},r.prototype.connect=function(e,t){return"connecting"===this.state&&(this._sid=e,this._identity=t,this.preempt("connected"),!0)},e.exports=r},function(e,t,n){"use strict";(function(t){var r=t.window||t,i=n(445),o=r.WebSocket?r.WebSocket:n(174),a=r.addEventListener?r.addEventListener.bind(r):null;e.exports=n(446)({addEventListener:a,console:r.console,Promise:r.Promise,WebSocket:o,timers:r,Transport:i})}).call(t,n(12))},function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*e)}function i(e){for(var t=e.length,n=t-1;n>=0;n--){var i=r(t),o=[e[i],e[n]];e[n]=o[0],e[i]=o[1]}return e}function o(e){return e[r(e.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=i,t.randomItem=o},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||c}function i(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||c}function o(){}var a=n(43),s=n(6),c=n(101),u=(n(102),n(51));n(1),n(179);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&a("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i,s(i.prototype,r.prototype),i.prototype.isPureReactComponent=!0,e.exports={Component:r,PureComponent:i}},function(e,t,n){"use strict";var r=(n(4),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=n(187);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r={hasCachedChildNodes:1};e.exports=r},function(e,t,n){"use strict";function r(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(5);n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(15),o=null;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(5),o=n(25),a=(n(1),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&i("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(a)},function(e,t,n){"use strict";var r={logTopLevelRenders:!1};e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function i(e){return e._wrapperState.valueTracker}function o(e,t){e._wrapperState.valueTracker=t}function a(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var c=n(7),u={_getTrackerFromNode:function(e){return i(c.getInstanceFromNode(e))},track:function(e){if(!i(e)){var t=c.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){u=""+e,s.set.call(this,e)}}),o(e,{getValue:function(){return u},setValue:function(e){u=""+e},stopTracking:function(){a(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=i(e);if(!t)return u.track(e),!0;var n=t.getValue(),r=s(c.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=i(e);t&&t.stopTracking()}};e.exports=u},function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r=n(15),i=n(55),o=n(54),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);o(e,i(t))})),e.exports=a},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};e.exports=s},function(e,t,n){"use strict";function r(e){return!!u.hasOwnProperty(e)||!c.hasOwnProperty(e)&&(s.test(e)?(u[e]=!0,!0):(c[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var o=n(34),a=(n(7),n(20),n(222)),s=(n(4),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),c={},u={},l={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,c=r.attributeNamespace;c?e.setAttributeNS(c,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=l},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=c.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(r,this),n}var a=n(6),s=n(72),c=n(7),u=n(21),l=(n(4),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||l||(l=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=p},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||!1===e)n=u.create(o);else if("object"==typeof e){var s=e,c=s.type;if("function"!=typeof c&&"string"!=typeof c){var d="";d+=r(s._owner),a("130",null==c?c:typeof c,d)}"string"==typeof s.type?n=l.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=l.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(5),s=n(6),c=n(231),u=n(122),l=n(123),p=(n(232),n(1),n(4),function(e){this.construct(e)});s(p.prototype,c,{_instantiateReactComponent:o}),e.exports=o},function(e,t,n){"use strict";var r=n(5),i=n(32),o=(n(1),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,e.exports=o},function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function i(e){return new c(e)}function o(e){return e instanceof c}var a=n(5),s=(n(1),null),c=null,u={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){c=e}},l={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:u};e.exports=l},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(o,e,""===t?l+r(e,0):t),1;var h,f,m=0,g=""===t?l:t+p;if(Array.isArray(e))for(var v=0;v<e.length;v++)h=e[v],f=g+r(h,v),m+=i(h,f,n,o);else{var y=c(e);if(y){var _,b=y.call(e);if(y!==e.entries)for(var T=0;!(_=b.next()).done;)h=_.value,f=g+r(h,T++),m+=i(h,f,n,o);else for(;!(_=b.next()).done;){var w=_.value;w&&(h=w[1],f=g+u.escape(w[0])+p+r(h,0),m+=i(h,f,n,o))}}else if("object"===d){var E="",S=String(e);a("31","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,E)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(5),s=(n(22),n(233)),c=n(234),u=(n(1),n(76)),l=(n(4),"."),p=":";e.exports=o},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function i(e){var t=u(e);if(t){var n=t.childIDs;l(e),n.forEach(i)}}function o(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function a(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=C.getDisplayName(e),r=C.getElement(e),i=C.getOwnerID(e);return i&&(t=C.getDisplayName(i)),o(n,r&&r._source,t)}var c,u,l,p,d,h,f,m=n(43),g=n(22),v=(n(1),n(4),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(v){var y=new Map,_=new Set;c=function(e,t){y.set(e,t)},u=function(e){return y.get(e)},l=function(e){y.delete(e)},p=function(){return Array.from(y.keys())},d=function(e){_.add(e)},h=function(e){_.delete(e)},f=function(){return Array.from(_.keys())}}else{var b={},T={},w=function(e){return"."+e},E=function(e){return parseInt(e.substr(1),10)};c=function(e,t){var n=w(e);b[n]=t},u=function(e){var t=w(e);return b[t]},l=function(e){var t=w(e);delete b[t]},p=function(){return Object.keys(b).map(E)},d=function(e){var t=w(e);T[t]=!0},h=function(e){var t=w(e);delete T[t]},f=function(){return Object.keys(T).map(E)}}var S=[],C={onSetChildren:function(e,t){var n=u(e);n||m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=u(i);o||m("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element&&m("141"),o.isMounted||m("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e&&m("142",i,o.parentID,e)}},onBeforeMountComponent:function(e,t,n){c(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=u(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=u(e);t||m("144"),t.isMounted=!0,0===t.parentID&&d(e)},onUpdateComponent:function(e){var t=u(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=u(e);if(t){t.isMounted=!1;0===t.parentID&&h(e)}S.push(e)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var e=0;e<S.length;e++){i(S[e])}S.length=0}},isMounted:function(e){var t=u(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=a(e),r=e._owner;t+=o(n,e._source,r&&r.getName())}var i=g.current,s=i&&i._debugID;return t+=C.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=C.getParentID(e);return t},getChildIDs:function(e){var t=u(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=C.getElement(e);return t?a(t):null},getElement:function(e){var t=u(e);return t?t.element:null},getOwnerID:function(e){var t=C.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=u(e);return t?t.parentID:null},getSource:function(e){var t=u(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=C.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=u(e);return t?t.updateCount:0},getRootIDs:f,getRegisteredIDs:p,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=g.current,i=r&&r._debugID;try{for(e&&n.push({name:i?C.getDisplayName(i):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});i;){var o=C.getElement(i),a=C.getParentID(i),s=C.getOwnerID(i),c=s?C.getDisplayName(s):null,u=o&&o._source;n.push({name:c,fileName:u?u.fileName:null,lineNumber:u?u.lineNumber:null}),i=a}}catch(e){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=C},function(e,t,n){"use strict";var r=n(17),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(246),o=n(248),a=n(116),s=n(128),c={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:c.hasSelectionCapabilities(e)?c.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(c.hasSelectionCapabilities(n)&&c.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=c},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===M?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(O)||""}function a(e,t,n,r,i){var o;if(T.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var c=S.mountComponent(e,n,null,_(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,$._mountImageIntoNode(c,t,e,r,n)}function s(e,t,n,r){var i=R.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);i.perform(a,null,e,t,i,n,r),R.ReactReconcileTransaction.release(i)}function c(e,t,n){for(S.unmountComponent(e,n),t.nodeType===M&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=i(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function l(e){return!(!e||e.nodeType!==N&&e.nodeType!==M&&e.nodeType!==D)}function p(e){var t=i(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var h=n(5),f=n(36),m=n(34),g=n(32),v=n(56),y=(n(22),n(7)),_=n(263),b=n(264),T=n(111),w=n(47),E=(n(20),n(265)),S=n(35),C=n(77),R=n(21),k=n(51),I=n(120),A=(n(1),n(54)),x=n(75),O=(n(4),m.ID_ATTRIBUTE_NAME),P=m.ROOT_ATTRIBUTE_NAME,N=1,M=9,D=11,U={},L=1,j=function(){this.rootID=L++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var $={TopLevelWrapper:j,_instancesByReactRootID:U,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return $.scrollMonitor(r,function(){C.enqueueElementInternal(e,t,n),i&&C.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){l(t)||h("37"),v.ensureScrollValueMonitoring();var i=I(e,!1);R.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return U[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&w.has(e)||h("38"),$._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){C.validateCallback(r,"ReactDOM.render"),g.isValidElement(t)||h("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=g.createElement(j,{child:t});if(e){var c=w.get(e);a=c._processChildContext(c._context)}else a=k;var l=d(n);if(l){var p=l._currentElement,f=p.props.child;if(x(f,t)){var m=l._renderedComponent.getPublicInstance(),v=r&&function(){r.call(m)};return $._updateRootComponent(l,s,a,n,v),m}$.unmountComponentAtNode(n)}var y=i(n),_=y&&!!o(y),b=u(n),T=_&&!l&&!b,E=$._renderNewRootComponent(s,n,T,a)._renderedComponent.getPublicInstance();return r&&r.call(E),E},render:function(e,t,n){return $._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){l(e)||h("40");var t=d(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(P);return!1}return delete U[t._instance.rootID],R.batchedUpdates(c,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(l(t)||h("41"),o){var s=i(t);if(E.canReuseMarkup(e,s))return void y.precacheNode(n,s);var c=s.getAttribute(E.CHECKSUM_ATTR_NAME);s.removeAttribute(E.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(E.CHECKSUM_ATTR_NAME,c);var p=e,d=r(p,u),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+u.substring(d-20,d+20);t.nodeType===M&&h("42",m)}if(t.nodeType===M&&h("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else A(t,e),y.precacheNode(n,t.firstChild)}};e.exports=$},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(121);e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=n.n(a),c=n(3),u=n.n(c),l=n(18),p=n.n(l),d=n(83),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,a=e.exact,s=t.route;if(n)return n;var c=(r||s.location).pathname;return i?Object(d.a)(c,{path:i,strict:o,exact:a}):s.match},t.prototype.componentWillMount=function(){var e=this.props,t=e.component,n=e.render,r=e.children;s()(!(t&&n),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(t&&r),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(n&&r),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,c=o.staticContext,l=this.props.location||s.location,p={match:e,location:l,history:a,staticContext:c};return r?e?u.a.createElement(r,p):null:i?e?i(p):null:n?"function"==typeof n?n(p):!Array.isArray(n)||n.length?u.a.Children.only(n):null:null},t}(u.a.Component);f.propTypes={computedMatch:p.a.object,path:p.a.string,exact:p.a.bool,strict:p.a.bool,component:p.a.func,render:p.a.func,children:p.a.oneOfType([p.a.func,p.a.node]),location:p.a.object},f.contextTypes={router:p.a.shape({history:p.a.object.isRequired,route:p.a.object.isRequired,staticContext:p.a.object})},f.childContextTypes={router:p.a.object.isRequired},t.a=f},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),c=n.n(s),u=n(18),l=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!d(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=r(e,["replace","to"]),i=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return c.a.createElement("a",p({},n,{onClick:this.handleClick,href:i}))},t}(c.a.Component);h.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired},h.defaultProps={replace:!1},h.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=h},function(e,t,n){"use strict";function r(e,t,n){function o(){v===g&&(v=g.slice())}function c(){return m}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),v.push(e),function(){if(t){t=!1,o();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!Object(i.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=f(m,e)}finally{y=!1}for(var t=g=v,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,l({type:s.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,m=t,g=[],v=g,y=!1;return l({type:s.INIT}),h={dispatch:l,subscribe:u,getState:c,replaceReducer:p},h[a.a]=d,h}n.d(t,"a",function(){return s}),t.b=r;var i=n(135),o=n(310),a=n.n(o),s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(i.a)(e)!=s)return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var i=n(302),o=n(307),a=n(309),s="[object Object]",c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,d=l.call(Object);t.a=r},function(e,t,n){"use strict";var r=n(303),i=r.a.Symbol;t.a=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){function r(e){return e>9?e:"0"+e}function i(){var e=new Date;return e.getUTCFullYear()+""+r(e.getUTCMonth()+1)+r(e.getUTCDate())+"T"+r(e.getUTCHours())+r(e.getUTCMinutes())+r(e.getUTCSeconds())+"Z"}function o(e){return e.substring(0,e.indexOf("T"))}function a(e,t,n,r){var i=m.HmacSHA256(t,"AWS4"+e,{asBytes:!0}),o=m.HmacSHA256(n,i,{asBytes:!0}),a=m.HmacSHA256(r,o,{asBytes:!0});return m.HmacSHA256("aws4_request",a,{asBytes:!0})}function s(e,t,n,r,i,o,s,c,u,l,p,d,h,f){var g="host:"+n.toLowerCase()+"\n",y=e+"\n"+r+"\n"+i+"\n"+g+"\nhost\n"+m.SHA256(l,{asBytes:!0});!0===h&&console.log("canonical request: "+y+"\n");var _=m.SHA256(y,{asBytes:!0});!0===h&&console.log("hashed canonical request: "+_+"\n");var b="AWS4-HMAC-SHA256\n"+d+"\n"+p+"/"+c+"/"+u+"/aws4_request\n"+_;!0===h&&console.log("string to sign: "+b+"\n");var T=a(s,p,c,u);!0===h&&console.log("signing key: "+T+"\n");var w=m.HmacSHA256(b,T,{asBytes:!0});!0===h&&console.log("signature: "+w+"\n");var E=i+"&X-Amz-Signature="+w;v(f)||(E+="&X-Amz-Security-Token="+encodeURIComponent(f));var S=t+n+r+"?"+E;return!0===h&&console.log("url: "+S+"\n"),S}function c(e,t,n,r){var a=i(),c=o(a),u="X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential="+t+"%2F"+c+"%2F"+e.region+"%2Fiotdata%2Faws4_request&X-Amz-Date="+a+"&X-Amz-SignedHeaders=host",l=e.host;return v(e.port)||443===e.port||(l=e.host+":"+e.port),s("GET","wss://",l,"/mqtt",u,t,n,e.region,"iotdata","",c,a,e.debug,r)}function u(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(this,e[n],parseInt(n,10))}function l(e){var t={},n={};return u(e.split(/\r?\n/),function(e){e=e.split(/(^|\s)[;#]/)[0];var r=e.match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)n=r[1];else if(n){var i=e.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(t[n]=t[n]||{},t[n][i[1]]=i[2])}}),t}function p(e){function t(e,t){0===C.filter(function(t){return t.topic===e}).length&&C.push({topic:e,options:t})}function r(e,t){var n=C.filter(function(t){return t.topic!==e});C=n}function i(e,n,i){var o=null;!1!==R&&("subscribe"===e?o=t:"unsubscribe"===e&&(o=r),"[object Array]"===Object.prototype.toString.call(n)?n.forEach(function(e,t,n){o(e,i)}):o(n,i))}function o(){return"inactive"===P}function a(t){if("wss"===e.protocol){var n;n=""===A||""===x?"wss://no-credentials-available":c(e,A,x,O),!0===e.debug&&console.log("using websockets, will connect to '"+n+"'..."),e.url=n}return V[e.protocol](t,e)}function s(){I=D,W.options.reconnectPeriod=I,j=null,P="stable"}function u(){var e=!0;return w>0&&m.length>=w&&("oldest"===E?m.shift():e=!1),e}function d(){var e=k.shift();if(v(e)){var t=S.shift();if(v(t)){var n=m.shift();v(n)||W.publish(n.topic,n.message,n.options,n.callback),0===m.length&&(clearInterval(N),N=null)}else i(t.type,t.topics,t.options),"subscribe"===t.type?v(t.callback)?W.subscribe(t.topics,t.options):W.subscribe(t.topics,t.options,t.callback):"unsubscribe"===t.type&&W.unsubscribe(t.topics,t.callback)}else v(e.callback)?W.subscribe(e.topic,e.options):W.subscribe(e.topic,e.options,e.callback)}if(!(this instanceof p))return new p(e);var h=this,m=[],T=!0,w=0,E="oldest";m.length=0;var S=[];S.length=0;var C=[],R=!0;C.length=0;var k=[];k.length=0;var I,A,x,O,P="inactive",N=null,M=250,D=1e3,U=2e4,L=128e3,j=null;if(v(e)||0===Object.keys(e).length)throw new Error(g.INVALID_CONNECT_OPTIONS);if(v(e.baseReconnectTimeMs)||(D=e.baseReconnectTimeMs),v(e.minimumConnectionTimeMs)||(U=e.minimumConnectionTimeMs),v(e.maximumReconnectTimeMs)||(L=e.maximumReconnectTimeMs),v(e.drainTimeMs)||(M=e.drainTimeMs),v(e.autoResubscribe)||(R=e.autoResubscribe),v(e.offlineQueueing)||(T=e.offlineQueueing),v(e.offlineQueueMaxSize)||(w=e.offlineQueueMaxSize),v(e.offlineQueueDropBehavior)||(E=e.offlineQueueDropBehavior),I=D,e.reconnectPeriod=I,e.fastDisconnectDetection=!0,e.baseReconnectTimeMs<=0)throw new Error(g.INVALID_RECONNECT_TIMING);if(L<D)throw new Error(g.INVALID_RECONNECT_TIMING);if(U<D)throw new Error(g.INVALID_RECONNECT_TIMING);if("newest"!==E&&"oldest"!==E)throw new Error(g.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(w<0)throw new Error(g.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(v(e.protocol)&&(e.protocol="mqtts"),v(e.host))throw new Error(g.INVALID_CONNECT_OPTIONS);if("mqtts"===e.protocol)v(e.port)&&(e.port=8883),y(e);else if("wss"===e.protocol){if(A=v(e.accessKeyId)?Object({NODE_ENV:"production"}).AWS_ACCESS_KEY_ID:e.accessKeyId,x=v(e.secretKey)?Object({NODE_ENV:"production"}).AWS_SECRET_ACCESS_KEY:e.secretKey,O=v(e.sessionToken)?Object({NODE_ENV:"production"}).AWS_SESSION_TOKEN:e.sessionToken,v(A)||v(x)){var $;try{$=v(e.filename)?function(){var e=Object({NODE_ENV:"production"}).HOME||Object({NODE_ENV:"production"}).USERPROFILE||(Object({NODE_ENV:"production"}).HOMEPATH?(Object({NODE_ENV:"production"}).HOMEDRIVE||"C:/")+Object({NODE_ENV:"production"}).HOMEPATH:null);return _.join(e,".aws","credentials")}():e.filename;var X=e.profile||Object({NODE_ENV:"production"}).AWS_PROFILE||"default",H=l(b.readFileSync($,"utf-8")),q=H[X];A=q.aws_access_key_id,x=q.aws_secret_access_key,O=q.aws_session_token}catch(e){console.log(e),console.log("Failed to read credentials from "+$)}}if(!v(e.host)){var B=/[a-zA-Z0-9]+\.iot\.([a-z]+-[a-z]+-[0-9]+)\.amazonaws\..+/,F=B.exec(e.host);if(null===F)throw console.log("Host endpoint is not valid"),new Error(g.INVALID_CONNECT_OPTIONS);e.region=F[1]}if(v(A)||v(x))throw console.log("To connect via WebSocket/SigV4, AWS Access Key ID and AWS Secret Key must be passed either in options or as environment variables; see README.md"),new Error(g.INVALID_CONNECT_OPTIONS);v(e.port)&&(e.port=443),v(e.websocketOptions)?e.websocketOptions={protocol:"mqttv3.1"}:e.websocketOptions.protocol="mqttv3.1"}v(e)||!0!==e.debug||(console.log(e),console.log("attempting new mqtt connection..."));var V={};V.mqtts=n(402),V.wss=n(403);var W=new f.MqttClient(a,e);W.on("connect",function(){null===j&&(j=setTimeout(s,U)),P="established",null===N&&(k=C.slice(0),N=setInterval(d,M)),h.emit("connect")}),W.on("close",function(){v(e)||!0!==e.debug||console.log("connection lost - will attempt reconnection in "+W.options.reconnectPeriod/1e3+" seconds..."),clearTimeout(j),j=null,clearInterval(N),N=null,P="inactive",h.emit("close")}),W.on("reconnect",function(){I*=2,I=Math.min(L,I),W.options.reconnectPeriod=I,h.emit("reconnect")}),W.on("offline",function(){h.emit("offline")}),W.on("error",function(e){h.emit("error",e)}),W.on("message",function(e,t,n){h.emit("message",e,t,n)}),this.publish=function(e,t,n,r){!0!==T||!o()&&null===N?!0!==T&&o()||W.publish(e,t,n,r):u()&&m.push({topic:e,message:t,options:n,callback:r})},this.subscribe=function(e,t,n){o()&&!1!==R?S.length<50?S.push({type:"subscribe",topics:e,options:t,callback:n}):h.emit("error",new Error("Maximum queued offline subscription reached")):(i("subscribe",e,t),v(n)?W.subscribe(e,t):W.subscribe(e,t,n))},this.unsubscribe=function(t,n){o()&&!1!==R?S.length<50&&S.push({type:"unsubscribe",topics:t,options:e,callback:n}):(i("unsubscribe",t),W.unsubscribe(t,n))},this.end=function(e,t){W.end(e,t)},this.handleMessage=function(e,t){W.handleMessage(e,t)},this.updateWebSocketCredentials=function(e,t,n,r){A=e,x=t,O=n},this.simulateNetworkFailure=function(){W.stream.emit("error",new Error("simulated connection error")),W.stream.end()}}var d=n(8),h=n(0).inherits,f=n(337),m=n(374),g=n(398),v=n(89),y=n(399),_=n(401),b=n(90);h(p,d.EventEmitter),e.exports=p,e.exports.DeviceClient=p,e.exports.prepareWebSocketUrl=c},function(e,t,n){"use strict";(function(t,r){function i(e){return L.from(e)}function o(e){return L.isBuffer(e)||e instanceof j}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?M(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){N=N||n(30),e=e||{},this.objectMode=!!e.objectMode,t instanceof N&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q||(q=n(145).StringDecoder),this.decoder=new q(e.encoding),this.encoding=e.encoding)}function c(e){if(N=N||n(30),!(this instanceof c))return new c(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),U.call(this)}function u(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var s;o||(s=p(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===L.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?l(e,a,t,!1):y(e,a)):l(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function l(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),y(e,t)}function p(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=W?e=W:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function f(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(H("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?P(v,e):v(e))}function v(e){H("emit readable"),e.emit("readable"),S(e)}function y(e,t){t.readingMore||(t.readingMore=!0,P(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(H("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function b(e){return function(){var t=e._readableState;H("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&D(e,"data")&&(t.flowing=!0,S(e))}}function T(e){H("readable nexttick read 0"),e.read(0)}function w(e,t){t.resumeScheduled||(t.resumeScheduled=!0,P(E,e,t))}function E(e,t){t.reading||(H("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(H("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=R(e,t.buffer,t.decoder),n}function R(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?k(e,t):I(e,t),r}function k(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function I(e,t){var n=L.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,P(x,t,e))}function x(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var P=n(49);e.exports=c;var N,M=n(340);c.ReadableState=s;var D=(n(8).EventEmitter,function(e,t){return e.listeners(t).length}),U=n(142),L=n(28).Buffer,j=t.Uint8Array||function(){},$=n(50);$.inherits=n(24);var X=n(344),H=void 0;H=X&&X.debuglog?X.debuglog("stream"):function(){};var q,B=n(345),F=n(143);$.inherits(c,U);var V=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),c.prototype.destroy=F.destroy,c.prototype._undestroy=F.undestroy,c.prototype._destroy=function(e,t){this.push(null),t(e)},c.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=L.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},c.prototype.unshift=function(e){return u(this,e,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(e){return q||(q=n(145).StringDecoder),this._readableState.decoder=new q(e),this._readableState.encoding=e,this};var W=8388608;c.prototype.read=function(e){H("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return H("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):g(this),null;if(0===(e=f(e,t))&&t.ended)return 0===t.length&&A(this),null;var r=t.needReadable;H("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,H("length less than watermark",r)),t.ended||t.reading?(r=!1,H("reading or ended",r)):r&&(H("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=f(n,t)));var i;return i=e>0?C(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==i&&this.emit("data",i),i},c.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(e,t){function n(e,t){H("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){H("onend"),e.end()}function o(){H("cleanup"),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",c),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",p),d.removeListener("data",s),v=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){H("ondata"),y=!1,!1!==e.write(t)||y||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==O(h.pipes,e))&&!v&&(H("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,y=!0),d.pause())}function c(t){H("onerror",t),p(),e.removeListener("error",c),0===D(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",l),p()}function l(){H("onfinish"),e.removeListener("close",u),p()}function p(){H("unpipe"),d.unpipe(e)}var d=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,H("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,m=f?i:p;h.endEmitted?P(m):d.once("end",m),e.on("unpipe",n);var g=b(d);e.on("drain",g);var v=!1,y=!1;return d.on("data",s),a(e,"error",c),e.once("close",u),e.once("finish",l),e.emit("pipe",d),h.flowing||(H("pipe resume"),d.resume()),e},c.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=O(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},c.prototype.on=function(e,t){var n=U.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):P(T,this))}return n},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var e=this._readableState;return e.flowing||(H("resume"),e.flowing=!0,w(this,e)),this},c.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(H("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(H("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){r.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<V.length;o++)e.on(V[o],r.emit.bind(r,V[o]));return r._read=function(t){H("wrapped _read",t),n&&(n=!1,e.resume())},r},c._fromList=C}).call(t,n(12),n(11))},function(e,t,n){e.exports=n(8).EventEmitter},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(o,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(49);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){k(t,e)}}function a(e){return M.from(e)}function s(e){return M.isBuffer(e)||e instanceof D}function c(){}function u(e,t){A=A||n(30),e=e||{},this.objectMode=!!e.objectMode,t instanceof A&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){if(A=A||n(30),!(L.call(l,this)||this instanceof A))return new l(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),N.call(this)}function p(e,t){var n=new Error("write after end");e.emit("error",n),I(t,n)}function d(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),I(r,o),i=!1),i}function h(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=M.from(t,n)),t}function f(e,t,n,r,i,o){if(!n){var a=h(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return c}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(I(i,r),I(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(v(n),t)g(e,n,r,t,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?x(_,e,n,o,i):_(e,n,o,i)}}function _(e,t,n,r){n||b(e,t),t.pendingcb--,r(),C(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;n;){var u=n.chunk,l=n.encoding,p=n.callback;if(m(e,t,!1,t.objectMode?1:u.length,u,l,p),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,I(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function C(e,t){var n=w(t);return n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function R(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?I(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function k(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var I=n(49);e.exports=l;var A,x=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:I;l.WritableState=u;var O=n(50);O.inherits=n(24);var P={deprecate:n(349)},N=n(142),M=n(28).Buffer,D=i.Uint8Array||function(){},U=n(143);O.inherits(l,N),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!L.call(this,e)||e&&e._writableState instanceof u}})):L=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=s(e)&&!r.objectMode;return o&&!M.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=c),r.ended?p(this,n):(o||d(this,r,e,n))&&(r.pendingcb++,i=f(this,r,o,e,t,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||T(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||R(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=U.destroy,l.prototype._undestroy=U.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(11),n(346).setImmediate,n(12))},function(e,t,n){function r(e){if(e&&!c(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=n(29).Buffer,c=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var s=n(30),c=n(50);c.inherits=n(24),c.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var r=n(351),i=function(){},o=function(e){return e.setHeader&&"function"==typeof e.abort},a=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},s=function(e,t,n){if("function"==typeof t)return s(e,null,t);t||(t={}),n=r(n||i);var c=e._writableState,u=e._readableState,l=t.readable||!1!==t.readable&&e.readable,p=t.writable||!1!==t.writable&&e.writable,d=function(){e.writable||h()},h=function(){p=!1,l||n.call(e)},f=function(){l=!1,p||n.call(e)},m=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},g=function(){return(!l||u&&u.ended)&&(!p||c&&c.ended)?void 0:n.call(e,new Error("premature close"))},v=function(){e.req.on("finish",h)};return o(e)?(e.on("complete",h),e.on("abort",g),e.req?v():e.on("request",v)):p&&!c&&(e.on("end",d),e.on("close",d)),a(e)&&e.on("exit",m),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",n),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",f),e.removeListener("error",n),e.removeListener("close",g)}};e.exports=s},function(e,t,n){"use strict";function r(e){return[0,1,2].map(function(t){return[0,1].map(function(n){return[0,1].map(function(r){var a=new i(1);return a.writeUInt8(o.codes[e]<<o.CMD_SHIFT|(n?o.DUP_MASK:0)|t<<o.QOS_SHIFT|r,0,!0),a})})})}var i=n(28).Buffer,o=e.exports;o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},o.codes={};for(var a in o.types){var s=o.types[a];o.codes[s]=a}o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.LENGTH_MASK=127,o.LENGTH_FIN_MASK=128,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=i.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=i.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=i.from([o.codes.connect<<o.CMD_SHIFT]),o.PUBLISH_HEADER=r("publish"),o.SUBSCRIBE_HEADER=r("subscribe"),o.UNSUBSCRIBE_HEADER=r("unsubscribe"),o.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},o.SUBACK_HEADER=i.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=i.from([3]),o.VERSION4=i.from([4]),o.QOS=[0,1,2].map(function(e){return i.from([e])}),o.EMPTY={pingreq:i.from([o.codes.pingreq<<4,0]),pingresp:i.from([o.codes.pingresp<<4,0]),disconnect:i.from([o.codes.disconnect<<4,0])}},function(e,t,n){"use strict";function r(e,t){switch(t.cork&&(t.cork(),R(i,t)),O&&(O=!1,A()),e.cmd){case"connect":return o(e,t);case"connack":return a(e,t);case"publish":return s(e,t);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return c(e,t);case"subscribe":return u(e,t);case"suback":return l(e,t);case"unsubscribe":return p(e,t);case"pingreq":case"pingresp":case"disconnect":return d(e,t);default:return t.emit("error",new Error("Unknown command")),!1}}function i(e){e.uncork()}function o(e,t){var n=e||{},r=n.protocolId||"MQTT",i=n.protocolVersion||4,o=n.will,a=n.clean,s=n.keepalive||0,c=n.clientId||"",u=n.username,l=n.password;void 0===a&&(a=!0);var p=0;if(!r||"string"!=typeof r&&!w.isBuffer(r))return t.emit("error",new Error("Invalid protocolId")),!1;if(p+=r.length+2,3!==i&&4!==i)return t.emit("error",new Error("Invalid protocol version")),!1;if(p+=1,"string"!=typeof c&&!w.isBuffer(c)||!c&&4!==i||!c&&!a){if(i<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*a==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else p+=c.length+2;if("number"!=typeof s||s<0||s>65535||s%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(p+=2,p+=1,o){if("object"!=typeof o)return t.emit("error",new Error("Invalid will")),!1;if(!o.topic||"string"!=typeof o.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(p+=w.byteLength(o.topic)+2,o.payload&&o.payload){if(!(o.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"==typeof o.payload?p+=w.byteLength(o.payload)+2:p+=o.payload.length+2}else p+=2}if(u){if(!u.length)return t.emit("error",new Error("Invalid username")),!1;p+=w.byteLength(u)+2}if(l){if(!l.length)return t.emit("error",new Error("Invalid password")),!1;p+=b(l)+2}t.write(T.CONNECT_HEADER),m(t,p),_(t,r),t.write(4===i?T.VERSION4:T.VERSION3);var d=0;return d|=u?T.USERNAME_MASK:0,d|=l?T.PASSWORD_MASK:0,d|=o&&o.retain?T.WILL_RETAIN_MASK:0,d|=o&&o.qos?o.qos<<T.WILL_QOS_SHIFT:0,d|=o?T.WILL_FLAG_MASK:0,d|=a?T.CLEAN_SESSION_MASK:0,t.write(w.from([d])),x(t,s),_(t,c),o&&(g(t,o.topic),_(t,o.payload)),u&&_(t,u),l&&_(t,l),!0}function a(e,t){var n=e||{},r=n.returnCode;return"number"!=typeof r?(t.emit("error",new Error("Invalid return code")),!1):(t.write(T.CONNACK_HEADER),m(t,2),t.write(e.sessionPresent?T.SESSIONPRESENT_HEADER:S),t.write(w.from([r])))}function s(e,t){var n=e||{},r=n.qos||0,i=n.retain?T.RETAIN_MASK:0,o=n.topic,a=n.payload||E,s=n.messageId,c=0;if("string"==typeof o)c+=w.byteLength(o)+2;else{if(!w.isBuffer(o))return t.emit("error",new Error("Invalid topic")),!1;c+=o.length+2}return w.isBuffer(a)?c+=a.length:c+=w.byteLength(a),r&&"number"!=typeof s?(t.emit("error",new Error("Invalid messageId")),!1):(r&&(c+=2),t.write(T.PUBLISH_HEADER[r][e.dup?1:0][i?1:0]),m(t,c),x(t,b(o)),t.write(o),r>0&&x(t,s),t.write(a))}function c(e,t){var n=e||{},r=n.cmd||"puback",i=n.messageId,o=n.dup&&"pubrel"===r?T.DUP_MASK:0,a=0;return"pubrel"===r&&(a=1),"number"!=typeof i?(t.emit("error",new Error("Invalid messageId")),!1):(t.write(T.ACKS[r][a][o][0]),m(t,2),x(t,i))}function u(e,t){var n=e||{},r=n.dup?T.DUP_MASK:0,i=n.messageId,o=n.subscriptions,a=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(a+=2,"object"!=typeof o||!o.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var s=0;s<o.length;s+=1){var c=o[s].topic,u=o[s].qos;if("string"!=typeof c)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof u)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;a+=w.byteLength(c)+2+1}t.write(T.SUBSCRIBE_HEADER[1][r?1:0][0]),m(t,a),x(t,i);for(var l=!0,p=0;p<o.length;p++){var d=o[p],h=d.topic,f=d.qos;g(t,h),l=t.write(T.QOS[f])}return l}function l(e,t){var n=e||{},r=n.messageId,i=n.granted,o=0;if("number"!=typeof r)return t.emit("error",new Error("Invalid messageId")),!1;if(o+=2,"object"!=typeof i||!i.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var a=0;a<i.length;a+=1){if("number"!=typeof i[a])return t.emit("error",new Error("Invalid qos vector")),!1;o+=1}return t.write(T.SUBACK_HEADER),m(t,o),x(t,r),t.write(w.from(i))}function p(e,t){var n=e||{},r=n.messageId,i=n.dup?T.DUP_MASK:0,o=n.unsubscriptions,a=0;if("number"!=typeof r)return t.emit("error",new Error("Invalid messageId")),!1;if(a+=2,"object"!=typeof o||!o.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var s=0;s<o.length;s+=1){if("string"!=typeof o[s])return t.emit("error",new Error("Invalid unsubscriptions")),!1;a+=w.byteLength(o[s])+2}t.write(T.UNSUBSCRIBE_HEADER[1][i?1:0][0]),m(t,a),x(t,r);for(var c=!0,u=0;u<o.length;u++)c=g(t,o[u]);return c}function d(e,t){return t.write(T.EMPTY[e.cmd])}function h(e){return e>=0&&e<128?1:e>=128&&e<16384?2:e>=16384&&e<2097152?3:e>=2097152&&e<268435456?4:0}function f(e){var t=0,n=0,r=w.allocUnsafe(h(e));do{t=e%128|0,e=e/128|0,e>0&&(t|=128),r.writeUInt8(t,n++,!0)}while(e>0);return r}function m(e,t){var n=P[t];n||(n=f(t),t<16384&&(P[t]=n)),e.write(n)}function g(e,t){var n=w.byteLength(t);x(e,n),e.write(t,"utf8")}function v(e,t){return e.write(k[t])}function y(e,t){return e.write(I(t))}function _(e,t){t&&"string"==typeof t?g(e,t):t?(x(e,t.length),e.write(t)):x(e,0)}function b(e){return e?w.isBuffer(e)?e.length:w.byteLength(e):0}var T=n(148),w=n(28).Buffer,E=w.allocUnsafe(0),S=w.from([0]),C=n(359),R=n(49),k=C.cache,I=C.generateNumber,A=C.generateCache,x=v,O=!0;Object.defineProperty(r,"cacheNumbers",{get:function(){return x===v},set:function(e){e?(k&&0!==Object.keys(k).length||(O=!0),x=v):(O=!1,x=y)}});var P={};e.exports=r},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=n(362),u=n(363);t.parse=i,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(f),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(364);r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var p=d.exec(s);if(p)return this.path=s,this.href=s,this.pathname=p[1],p[2]?(this.search=p[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=l.exec(s);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,s=s.substr(h.length)}if(n||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||h&&T[h]||(s=s.substr(2),this.slashes=!0)}if(!T[h]&&(S||h&&!w[h])){for(var C=-1,R=0;R<v.length;R++){var k=s.indexOf(v[R]);-1!==k&&(-1===C||k<C)&&(C=k)}var I,A;A=-1===C?s.lastIndexOf("@"):s.lastIndexOf("@",C),-1!==A&&(I=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(I)),C=-1;for(var R=0;R<g.length;R++){var k=s.indexOf(g[R]);-1!==k&&(-1===C||k<C)&&(C=k)}-1===C&&(C=s.length),this.host=s.slice(0,C),s=s.slice(C),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var O=this.hostname.split(/\./),R=0,P=O.length;R<P;R++){var N=O[R];if(N&&!N.match(y)){for(var M="",D=0,U=N.length;D<U;D++)N.charCodeAt(D)>127?M+="x":M+=N[D];if(!M.match(y)){var L=O.slice(0,R),j=O.slice(R+1),$=N.match(_);$&&(L.push($[1]),j.unshift($[2])),j.length&&(s="/"+j.join(".")+s),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=c.toASCII(this.hostname));var X=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+X,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!b[f])for(var R=0,P=m.length;R<P;R++){var q=m[R];if(-1!==s.indexOf(q)){var B=encodeURIComponent(q);B===q&&(B=escape(q)),s=s.split(q).join(B)}}var F=s.indexOf("#");-1!==F&&(this.hash=s.substr(F),s=s.slice(0,F));var V=s.indexOf("?");if(-1!==V?(this.search=s.substr(V),this.query=s.substr(V+1),t&&(this.query=E.parse(this.query)),s=s.slice(0,V)):t&&(this.search="",this.query={}),s&&(this.pathname=s),w[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var X=this.pathname||"",W=this.search||"";this.path=X+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(n[l]=e[l])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!w[e.protocol]){for(var p=Object.keys(e),d=0;d<p.length;d++){var h=p[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||T[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=y||v||n.host&&e.pathname,b=_,E=n.pathname&&n.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!w[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===E[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=E.shift();var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var R=E.slice(-1)[0],k=(n.host||e.host||E.length>1)&&("."===R||".."===R)||""===R,I=0,A=E.length;A>=0;A--)R=E[A],"."===R?E.splice(A,1):".."===R?(E.splice(A,1),I++):I&&(E.splice(A,1),I--);if(!_&&!b)for(;I--;I)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),k&&"/"!==E.join("/").substr(-1)&&E.push("");var x=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(S){n.hostname=n.host=x?"":E.length?E.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return _=_||n.host&&E.length,_&&!x&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e,t){var n,r;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",n=t.port,r=t.hostname,i.createConnection(n,r)}var i=n(367);e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t){var n={protocol:"mqtt"};t.wsOptions||(t.wsOptions={});var r=t.hostname||"localhost",i=t.path||"/";t.port||("wss"===t.protocol?t.port=443:t.port=80);var a=t.protocol+"://"+r+":"+t.port+i;return"MQIsdp"===t.protocolId&&3===t.protocolVersion&&(n.protocol="mqttv3.1"),"wss"===t.protocol&&s.forEach(function(e){t.hasOwnProperty(e)&&!t.wsOptions.hasOwnProperty(e)&&(t.wsOptions[e]=t[e])}),o(a,[n.protocol],t.wsOptions)}function i(e,t){var n,r,i={protocol:"mqtt"};if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");return r=a.parse(document.URL),t.protocol||("https:"===r.protocol?t.protocol="wss":t.protocol="ws"),t.hostname||(t.hostname=t.host),t.hostname||(t.hostname=r.hostname,t.port||(t.port=r.port)),"MQIsdp"===t.protocolId&&3===t.protocolVersion&&(i.protocol="mqttv3.1"),t.port||("wss"===t.protocol?t.port=443:t.port=80),t.path||(t.path="/"),n=t.protocol+"://"+t.hostname+":"+t.port+t.path,o(n,i)}var o=n(154),a=n(150),s=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];"browser"!==t.title?e.exports=r:e.exports=i}).call(t,n(11))},function(e,t,n){"use strict";(function(t,r,i){function o(e,n,o){function u(e,t,n){C&&"string"==typeof e&&(e=new i(e,"utf8")),y.send(e,n)}function l(e,t,n){if(y.bufferedAmount>E)return void setTimeout(l,S,e,t,n);C&&"string"==typeof e&&(e=new i(e,"utf8"));try{y.send(e)}catch(e){return n(e)}n()}function p(e){y.close(),e()}function d(){v.setReadable(w),v.setWritable(w),v.emit("connect")}function h(){v.end(),v.destroy()}function f(e){v.destroy(e)}function m(e){var t=e.data;t=new i(t instanceof ArrayBuffer?new Uint8Array(t):t),w.push(t)}function g(){y.close()}var v,y,_="browser"===t.title,b=!!r.WebSocket,T=_?l:u,w=a.obj(T,p);n&&!Array.isArray(n)&&"object"==typeof n&&(o=n,n=null,("string"==typeof o.protocol||Array.isArray(o.protocol))&&(n=o.protocol)),o||(o={});var E=o.browserBufferSize||524288,S=o.browserBufferTimeout||1e3;"object"==typeof e?y=e:(y=b&&_?new c(e,n):new c(e,n,o),y.binaryType="arraybuffer"),y.readyState===c.OPEN?v=w:(v=s.obj(),y.onopen=d),v.socket=y,y.onclose=h,y.onerror=f,y.onmessage=m,w.on("close",g);var C=o.binary||void 0===o.binary;return v}var a=n(369),s=n(371),c=n(373);e.exports=o}).call(t,n(11),n(12),n(29).Buffer)},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,s=[],c=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)(function(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0})(n)&&(r<8&&(s[r]=e(t.pow(n,.5))),c[r]=e(t.pow(n,1/3)),r++),n++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],p=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var f=u[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=u[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[h]=m+u[h-7]+v+u[h-16]}var y=s&l^~s&p,_=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),T=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25),w=d+T+y+c[h]+u[h],E=b+_;d=p,p=l,l=s,s=a+w|0,a=o,o=i,i=r,r=w+E|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(59))}(0,function(e){return function(){function t(){return a.create.apply(a,arguments)}var n=e,r=n.lib,i=r.Hasher,o=n.x64,a=o.Word,s=o.WordArray,c=n.algo,u=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=t()}();var p=c.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],p=n[6],d=n[7],h=r.high,f=r.low,m=i.high,g=i.low,v=o.high,y=o.low,_=a.high,b=a.low,T=s.high,w=s.low,E=c.high,S=c.low,C=p.high,R=p.low,k=d.high,I=d.low,A=h,x=f,O=m,P=g,N=v,M=y,D=_,U=b,L=T,j=w,$=E,X=S,H=C,q=R,B=k,F=I,V=0;V<80;V++){var W=l[V];if(V<16)var K=W.high=0|e[t+2*V],z=W.low=0|e[t+2*V+1];else{var G=l[V-15],Y=G.high,J=G.low,Q=(Y>>>1|J<<31)^(Y>>>8|J<<24)^Y>>>7,Z=(J>>>1|Y<<31)^(J>>>8|Y<<24)^(J>>>7|Y<<25),ee=l[V-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=l[V-7],ae=oe.high,se=oe.low,ce=l[V-16],ue=ce.high,le=ce.low,z=Z+se,K=Q+ae+(z>>>0<Z>>>0?1:0),z=z+ie,K=K+re+(z>>>0<ie>>>0?1:0),z=z+le,K=K+ue+(z>>>0<le>>>0?1:0);W.high=K,W.low=z}var pe=L&$^~L&H,de=j&X^~j&q,he=A&O^A&N^O&N,fe=x&P^x&M^P&M,me=(A>>>28|x<<4)^(A<<30|x>>>2)^(A<<25|x>>>7),ge=(x>>>28|A<<4)^(x<<30|A>>>2)^(x<<25|A>>>7),ve=(L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9),ye=(j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9),_e=u[V],be=_e.high,Te=_e.low,we=F+ye,Ee=B+ve+(we>>>0<F>>>0?1:0),we=we+de,Ee=Ee+pe+(we>>>0<de>>>0?1:0),we=we+Te,Ee=Ee+be+(we>>>0<Te>>>0?1:0),we=we+z,Ee=Ee+K+(we>>>0<z>>>0?1:0),Se=ge+fe,Ce=me+he+(Se>>>0<ge>>>0?1:0);B=H,F=q,H=$,q=X,$=L,X=j,j=U+we|0,L=D+Ee+(j>>>0<U>>>0?1:0)|0,D=N,U=M,N=O,M=P,O=A,P=x,x=we+Se|0,A=Ee+Ce+(x>>>0<we>>>0?1:0)|0}f=r.low=f+x,r.high=h+A+(f>>>0<x>>>0?1:0),g=i.low=g+P,i.high=m+O+(g>>>0<P>>>0?1:0),y=o.low=y+M,o.high=v+N+(y>>>0<M>>>0?1:0),b=a.low=b+U,a.high=_+D+(b>>>0<U>>>0?1:0),w=s.low=w+j,s.high=T+L+(w>>>0<j>>>0?1:0),S=c.low=S+X,c.high=E+$+(S>>>0<X>>>0?1:0),R=p.low=R+q,p.high=C+H+(R>>>0<q>>>0?1:0),I=d.low=I+F,d.high=k+B+(I>>>0<F>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});n.SHA512=i._createHelper(p),n.HmacSHA512=i._createHmacHelper(p)}(),e.SHA512})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=a.default.videoApiUrl,c=a.default.userApiUrl,u=function(){function e(){r(this,e)}return i(e,null,[{key:"requestToken",value:function(){return fetch(new Request(s+"/token",{mode:"cors",method:"GET"})).then(function(e){return e.json()})}},{key:"requestRooms",value:function(){return fetch(new Request(s+"/rooms",{mode:"cors",method:"GET"})).then(function(e){return e.json()})}},{key:"createRoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return fetch(new Request(s+"/rooms",{mode:"cors",method:"POST",body:JSON.stringify({uniqueName:e,maxParticipants:t,enableTurn:!0,statusCallback:c+"/update-video-status"})})).then(function(e){return e.json()})}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(405),p=r(l),d=n(157),h=r(d),f=n(481),m=r(f),g=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.previewTracks=null,e.activeRoom=null,e.refs={localMedia:null,remoteMedia:null},e.state={hasPreview:!1},e._getLocalMedia=function(t){return e.refs.localMedia=t},e._getRemoteMedia=function(t){return e.refs.remoteMedia=t},e._onPreviewClick=function(){return e.onPreviewClick()},e}return a(t,e),s(t,[{key:"attachTracks",value:function(e,t){e.forEach(function(e){t.appendChild(e.attach())})}},{key:"attachParticipantTracks",value:function(e,t){var n=Array.from(e.tracks.values());this.attachTracks(n,t)}},{key:"detachTracks",value:function(e){e.forEach(function(e){e.detach().forEach(function(e){e.remove()})})}},{key:"detachParticipantTracks",value:function(e){var t=Array.from(e.tracks.values());this.detachTracks(t)}},{key:"roomJoined",value:function(e){var t=this;this.activeRoom=e,console.info("Joined as "+this.identity);var n=this.refs.localMedia;n.querySelector("video")||(this.attachParticipantTracks(e.localParticipant,n),this.setState({hasPreview:!0})),this.props.onConnect(),e.participants.forEach(function(e){console.info("Already in Room: "+e.identity);var n=t.refs.remoteMedia;t.attachParticipantTracks(e,n)}),e.on("participantConnected",function(e){console.info("Joining: "+e.identity),t.props.onConnect()}),e.on("trackAdded",function(e,n){console.info(n.identity+" added track: "+e.kind);var r=t.refs.remoteMedia;t.attachTracks([e],r)}),e.on("trackRemoved",function(e,n){console.info(n.identity+" removed track: "+e.kind),t.detachTracks([e])}),e.on("participantDisconnected",function(e){console.info("Participant "+e.identity+" left the room"),t.detachParticipantTracks(e),t.props.onDisconnect()}),e.on("disconnected",function(){console.info("Left"),t.previewTracks&&t.previewTracks.forEach(function(e){return e.stop()}),t.detachParticipantTracks(e.localParticipant),e.participants.forEach(function(e){return t.detachParticipantTracks(e)}),t.activeRoom=null,t.setState({hasPreview:!1}),t.props.onDisconnect()})}},{key:"leaveRoomIfJoined",value:function(){this.activeRoom&&this.activeRoom.disconnect()}},{key:"joinRoom",value:function(e){var t=this;console.info("Joining room "+e+"...");var n={name:e};this.previewTracks&&(n.tracks=this.previewTracks),p.default.connect(this.token,n).then(function(e){return t.roomJoined(e)},function(e){return console.info("Could not connect to Twilio: "+e.message)})}},{key:"getToken",value:function(){var e=this;return this.token?Promise.resolve():h.default.requestToken().then(function(t){e.identity=t.identity,e.token=t.token})}},{key:"onPreviewClick",value:function(){var e=this;(this.previewTracks?Promise.resolve(this.previewTracks):p.default.createLocalTracks()).then(function(t){e.previewTracks=t;var n=e.refs.localMedia;n.querySelector("video")||e.attachTracks(t,n),e.setState({hasPreview:!0})},function(e){console.error("Unable to access local media",e),console.info("Unable to access Camera and Microphone")})}},{key:"componentWillMount",value:function(){var e=this;this.props.roomName&&this.getToken().then(function(){e.props.roomName&&e.joinRoom(e.props.roomName)}),this._onBeforeUnload=function(){return e.leaveRoomIfJoined()},window.addEventListener("beforeunload",this._onBeforeUnload)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.roomName!==this.props.roomName&&(this.leaveRoomIfJoined(),e.roomName&&this.getToken().then(function(){return t.joinRoom(e.roomName)}))}},{key:"componentWillUnmount",value:function(){this.leaveRoomIfJoined(),this._onBeforeUnload&&window.removeEventListener("beforeunload",this._onBeforeUnload)}},{key:"render",value:function(){return u.default.createElement("div",{className:m.default.container},u.default.createElement("div",{className:m.default.remoteMedia,ref:this._getRemoteMedia},u.default.createElement("div",{className:m.default.center},u.default.createElement("span",null,"Waiting for a partner..."))),u.default.createElement("div",{className:m.default.localMedia,ref:this._getLocalMedia},this.state.hasPreview?null:u.default.createElement("div",{className:m.default.center},u.default.createElement("button",{className:m.default.button,onClick:this._onPreviewClick},"Preview my video"))))}}]),t}(c.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var i=n(0).inherits,o=n(94);i(r,o),r.prototype.toString=function(){return"[AudioTrack #"+this._instanceId+": "+this.id+"]"},r.prototype.attach=o.prototype.attach,r.prototype.detach=o.prototype.detach,e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=new o(t);n=Object.assign({logLevel:s},n);var c=i(n.logLevel);n.log=n.log||new a("default",this,c),e.call(this,t,r,n),Object.defineProperties(this,{_didCallEnd:{value:!1,writable:!0},isStopped:{get:function(){return"ended"===this.mediaStreamTrack.readyState}}})}var i=n(9).buildLogLevels,o=n(409),a=n(61),s=n(19).DEFAULT_LOG_LEVEL,c=n(94);r.prototype._end=function(){this._didCallEnd||(c.prototype._end.call(this),this._didCallEnd=!0,this.emit("stopped",this))},r.prototype.toString=function(){return"[LocalTrack #"+this._instanceId+": "+this.id+"]"},r.prototype.enable=function(e){return e="boolean"!=typeof e||e,this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this._signaling.enable(e),this},r.prototype.disable=function(){return this.enable(!1)},r.prototype.stop=function(){return this._log.info("Stopping"),this.mediaStreamTrack.stop(),this._end(),this},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){i.call(this);var r;Object.defineProperties(this,{_isEnabled:{value:n,writable:!0},_mediaStreamTrack:{get:function(){return r},set:function(e){r=e,this._mediaStreamTrackDeferred.resolve(r)}},_mediaStreamTrackDeferred:{value:a.defer()},id:{enumerable:!0,value:e},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},kind:{enumerable:!0,value:t},mediaStreamTrack:{enumerable:!0,get:function(){return r}}})}var i=n(8).EventEmitter,o=n(0).inherits,a=n(9);o(r,i),r.prototype.disable=function(){return this.enable(!1)},r.prototype.enable=function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},r.prototype.getMediaStreamTrack=function(){return this._mediaStreamTrackDeferred.promise},r.prototype.setMediaStreamTrack=function(e){return this._mediaStreamTrack=e,this},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return s.call(this,e,t,n),Object.defineProperties(this,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),Object.defineProperty(this,"_dimensionsChangedElem",{value:i(this)}),this}function i(e){if("undefined"==typeof document)throw new Error("document is undefined");var t=document.createElement(e.kind);return t.muted=!0,t.onloadedmetadata=function(){o(e,t)&&(e.dimensions.width=t.videoWidth,e.dimensions.height=t.videoHeight)},t.onresize=function(){o(e,t)&&(e.dimensions.width=t.videoWidth,e.dimensions.height=t.videoHeight,e.isStarted&&(e._log.debug("Dimensions changed:",e.dimensions),e.emit(c,e)))},t=e.attach(t),e._attachments.delete(t),t}function o(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}var a=n(0).inherits,s=n(94),c=r.DIMENSIONS_CHANGED="dimensionsChanged";a(r,s),r.prototype.toString=function(){return"[VideoTrack #"+this._instanceId+": "+this.id+"]"},r.prototype._start=function(e){return this.dimensions.width=e.videoWidth,this.dimensions.height=e.videoHeight,this._log.debug("Dimensions:",this.dimensions),s.prototype._start.call(this,e)},r.prototype.attach=function(e){return e=s.prototype.attach.call(this,e),e.muted=!0,e},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);u.call(this),t=Object.assign({AudioTrack:s,VideoTrack:c,tracks:[]},t);var n=i(t.tracks);Object.defineProperties(this,{_AudioTrack:{value:t.AudioTrack},_instanceId:{value:++d},_log:{value:t.log.createLog("default",this)},_signaling:{value:e},_trackEventReemitters:{value:new Map},_VideoTrack:{value:t.VideoTrack},audioTracks:{enumerable:!0,value:new Map(n.audioTracks)},identity:{enumerable:!0,get:function(){return e.identity}},sid:{enumerable:!0,get:function(){return e.sid}},state:{enumerable:!0,get:function(){return e.state}},tracks:{enumerable:!0,value:new Map(n.tracks)},videoTracks:{enumerable:!0,value:new Map(n.videoTracks)}}),this.tracks.forEach(a.bind(null,this)),o(this,e),this._handleTrackSignalingEvents(),this._log.info("Created a new Participant"+(this.identity?": "+this.identity:""))}function i(e){var t=e.map(function(e){return[e.id,e]});return{audioTracks:t.filter(function(e){return"audio"===e[1].kind}),tracks:t,videoTracks:t.filter(function(e){return"video"===e[1].kind})}}function o(e,t){var n=e._log;"disconnected"!==e.state&&t.on("stateChanged",function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e.tracks.forEach(function(t){e._trackEventReemitters.get(t.id).forEach(function(e,n){t.removeListener(n,e)})}),e._trackEventReemitters.clear())})}function a(e,t){var n=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach(function(r){var i=r[0],o=r[1];n.set(i,function(){var t=[o].concat([].slice.call(arguments));return e.emit.apply(e,t)}),t.on(i,n.get(i))}),e._trackEventReemitters.set(t.id,n))}var s=n(159),c=n(162),u=n(8).EventEmitter,l=n(0).inherits,p=n(9),d=0;l(r,u),r.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["disabled","trackDisabled"],["enabled","trackEnabled"],["started","trackStarted"]]},r.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},r.prototype._addTrack=function(e){var t=this._log;return this.tracks.has(e.id)?null:(this.tracks.set(e.id,e),"audio"===e.kind?this.audioTracks.set(e.id,e):this.videoTracks.set(e.id,e),a(this,e),t.info("Added a new "+p.trackClass(e)+":",e.id),t.debug(p.trackClass(e)+":",e),this.emit("trackAdded",e),e)},r.prototype._handleTrackSignalingEvents=function(){function e(e){e.getMediaStreamTrack().then(function(t){var o="audio"===e.kind?i:a,s=new o(t,e,{log:n});r._addTrack(s)})}function t(e){e.getMediaStreamTrack().then(function(){var t=r.tracks.get(e.id);t&&r._removeTrack(t)})}var n=this._log,r=this;if("disconnected"!==this.state){var i=this._AudioTrack,o=this._signaling,a=this._VideoTrack;o.on("trackAdded",e),o.on("trackRemoved",t),o.tracks.forEach(e),o.on("stateChanged",function r(i){"disconnected"===i&&(n.debug("Removing TrackSignaling listeners"),o.removeListener("stateChanged",r),o.removeListener("trackAdded",e),o.removeListener("trackRemoved",t))})}},r.prototype._removeTrack=function(e){if(!this.tracks.has(e.id))return null;e=this.tracks.get(e.id),this.tracks.delete(e.id),("audio"===e.kind?this.audioTracks:this.videoTracks).delete(e.id),(this._trackEventReemitters.get(e.id)||new Map).forEach(function(t,n){e.removeListener(n,t)});var t=this._log;return t.info("Removed a "+p.trackClass(e)+":",e.id),t.debug(p.trackClass(e)+":",e),this.emit("trackRemoved",e),e},e.exports=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);var t=e&&"rollback"===e.type?null:new RTCSessionDescription(e),n=t?null:"rollback",i=e.sdp;Object.defineProperties(this,{_description:{get:function(){return t}},sdp:{enumerable:!0,get:function(){return t?t.sdp:i},set:function(e){if(t)return void(t.sdp=e);i=e}},type:{enumerable:!0,get:function(){return t?t.type:n},set:function(e){if("rollback"===e&&t){var r=t.sdp;t=null,this.sdp=r}else{if(t)return void(t.type=e);if(-1===["offer","answer","pranswer","rollback"].indexOf(e))return}n=e}}})}e.exports=r},function(e,t,n){"use strict";function r(){Object.defineProperties(this,{_eventEmitter:{value:new i}})}var i=n(8).EventEmitter;r.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},r.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},r.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=r},function(e,t,n){"use strict";function r(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce(function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t},new Set)}function i(e,t){return r(e,t)}function o(e){return i("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function a(e){return i("^a=msid:.+ +(.+) *$",e)}function s(e,t){return r("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function c(e){return Array.from(r("^a=ssrc:([0-9]+) +.*$",e))}function u(e,t){var n=e.split("\r\nm=").slice(1),r=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),i=n.filter(function(e){return e.match(r)});return new Set(g(i,c))}function l(e,t,n){return new Map(Array.from(e(n)).map(function(e){return[e,t(n,e)]}))}function p(e){return l(o,s,e)}function d(e){return l(a,u,e)}function h(e,t,n){var r=e(n),i=new Map;r.forEach(function(e,r){if(!t.has(r))return void t.set(r,e);var o=Array.from(t.get(r)),a=Array.from(e);o.forEach(function(e,t){var r=a[t];i.set(r,e);var o="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(o,"gm"),s)})});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(e){var t=e.match(new RegExp(o));if(t){var r=t[1],a=t[2],s=a.split(" ").map(function(e){var t=i.get(e);return t||e}).join(" ");n=n.replace(t[0],r+s)}}),n}function f(e,t){return h(p,e,t)}function m(e,t){return h(d,e,t)}var g=n(9).flatMap;t.getPlanBTrackIds=o,t.getUnifiedPlanTrackIds=a,t.getPlanBSSRCs=s,t.getUnifiedPlanSSRCs=u,t.updatePlanBTrackIdsToSSRCs=f,t.updateUnifiedPlanTrackIdsToSSRCs=m},function(e,t,n){"use strict";e.exports=RTCSessionDescription||mozRTCSessionDescription},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),Object.defineProperties(this,{bytesSent:{value:"number"==typeof t.bytesSent?t.bytesSent:null,enumerable:!0},packetsSent:{value:"number"==typeof t.packetsSent?t.packetsSent:null,enumerable:!0},roundTripTime:{value:"number"==typeof t.roundTripTime?t.roundTripTime:null,enumerable:!0}})}var i=n(0).inherits,o=n(169);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof t.codecName?t.codecName:null,enumerable:!0}})}e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),Object.defineProperties(this,{bytesReceived:{value:"number"==typeof t.bytesReceived?t.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof t.packetsReceived?t.packetsReceived:null,enumerable:!0}})}var i=n(0).inherits,o=n(169);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(){i.call(this),Object.defineProperties(this,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}})}var i=n(8).EventEmitter;(0,n(0).inherits)(r,i),r.prototype.disable=function(){return this.enable(!1)},r.prototype.enable=function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){r=Object.assign({RecordingSignaling:o},r),a.call(this,"connected",s);var i=r.RecordingSignaling;Object.defineProperties(this,{_options:{value:r},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:n},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new i},sid:{enumerable:!0,value:t}})}var i=n(0).inherits,o=n(171),a=n(42),s={connected:["disconnected"],disconnected:[]};i(r,a),r.prototype._disconnect=function(e){return"connected"===this.state&&(this.preempt("disconnected",null,[e]),!0)},r.prototype.connectParticipant=function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))}),this.emit("participantConnected",e),!0))},r.prototype.disconnect=function(){return this._disconnect()},e.exports=r},function(e,t,n){"use strict";function r(e){o.call(this,e.id,e.kind,e.enabled)}var i=n(0).inherits,o=n(161);i(r,o),r.getState=function(e){return{enabled:e.isEnabled,id:e.id,kind:e.kind}},r.prototype.update=function(e){return this.enable(e.enabled),this},e.exports=r},function(e,t){e.exports=WebSocket},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e);Object.defineProperties(this,{createMessage:{enumerable:!0,value:t},peerConnectionManager:{enumerable:!0,value:e}})}function i(e){try{return JSON.parse(e.body)}catch(e){return null}}var o=n(98);r.defaultFactory=function(){},r.defaultFactory.isSupported=function(){return o.WebRTC.isSupported()},r.prototype.close=function(){this.peerConnectionManager.close()},r.prototype.getDescription=function(){var e=Object.assign({peer_connections:this.peerConnectionManager.getStates()},this.createMessage());return Promise.resolve({body:JSON.stringify(e),contentType:"application/room-signaling+json"})},r.prototype.hasDescription=function(){return!0},r.prototype.hold=function(){},r.prototype.isReady=function(){return!0},r.prototype.isMuted=function(){return{audio:!1,video:!1}},r.prototype.mute=function(){},r.prototype.render=function(){},r.prototype.setDescription=function(e){var t=i(e);if(t){var n=t.peer_connections;if(n)return this.peerConnectionManager.update(n)}return Promise.resolve()},r.prototype.unhold=function(){},r.prototype.unmute=function(){},r.prototype.updateIceServers=function(){},e.exports=r},function(e,t,n){"use strict";function r(e,t){t=Object.assign({createLocalTracks:a,logLevel:s},t);var n={};n.logLevel=t.logLevel,delete t.logLevel;var r=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,r(n).then(function(e){return e[0]})}function i(e){return r("audio",e)}function o(e){return r("video",e)}var a=n(93),s=n(19).DEFAULT_LOG_LEVEL;e.exports={audio:i,video:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(483),p=r(l),d=n(487),h=r(d),f=n(491),m=r(f),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(p.default,{title:"Conversation topics"},{Picture:u.default.createElement(h.default,{roomName:this.props.roomName}),Video:u.default.createElement(m.default,{lang:this.props.lang,roomName:this.props.roomName})})}}]),t}(c.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(3),o=r(i),a=n(193),s=r(a),c=n(270),u=r(c);s.default.render(o.default.createElement(u.default),document.querySelector("#app-root"))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);v(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function c(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,c=a.call(s,t,e.count++);Array.isArray(c)?u(c,i,n,g.thatReturnsArgument):null!=c&&(m.isValidElement(c)&&(c=m.cloneAndReplaceKey(c,o+(!c.key||t&&t.key===c.key?"":r(c.key)+"/")+n)),i.push(c))}function u(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,i,o);v(e,c,u),s.release(u)}function l(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return v(e,p,null)}function h(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=n(181),m=n(33),g=n(17),v=n(182),y=f.twoArgumentPooler,_=f.fourArgumentPooler,b=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,_);var T={forEach:a,map:l,mapIntoWithKeyPrefixInternal:u,count:d,toArray:h};e.exports=T},function(e,t,n){"use strict";var r=n(43),i=(n(1),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},c=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,l=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=c,n},p={addPoolingTo:l,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=p},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(o,e,""===t?l+r(e,0):t),1;var h,f,m=0,g=""===t?l:t+p;if(Array.isArray(e))for(var v=0;v<e.length;v++)h=e[v],f=g+r(h,v),m+=i(h,f,n,o);else{var y=c(e);if(y){var _,b=y.call(e);if(y!==e.entries)for(var T=0;!(_=b.next()).done;)h=_.value,f=g+r(h,T++),m+=i(h,f,n,o);else for(;!(_=b.next()).done;){var w=_.value;w&&(h=w[1],f=g+u.escape(w[0])+p+r(h,0),m+=i(h,f,n,o))}}else if("object"===d){var E="",S=String(e);a("31","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,E)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(43),s=(n(22),n(103)),c=n(183),u=(n(1),n(184)),l=(n(4),"."),p=":";e.exports=o},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"==typeof t)return t}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";var r=n(33),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},function(e,t,n){"use strict";var r=n(33),i=r.isValidElement,o=n(104);e.exports=o(i)},function(e,t,n){"use strict";var r=n(17),i=n(1),o=n(4),a=n(105),s=n(188);e.exports=function(e,t){function n(e){var t=e&&(S&&e[S]||e[C]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function l(e){function n(n,r,o,s,c,l,p){if(s=s||R,l=l||o,p!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[o]?n?new u(null===r[o]?"The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,o,s,c,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,i,o,a){var s=t[n];if(b(s)!==e)return new u("Invalid "+i+" `"+o+"` of type `"+T(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return l(t)}function d(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new u("Invalid "+i+" `"+o+"` of type `"+b(s)+"` supplied to `"+r+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,r,i,o+"["+c+"]",a);if(l instanceof Error)return l}return null}return l(t)}function h(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||R;return new u("Invalid "+i+" `"+o+"` of type `"+E(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return l(t)}function f(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(c(a,e[s]))return null;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(t):r.thatReturnsNull}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=b(s);if("object"!==c)return new u("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var p=e(s,l,r,i,o+"."+l,a);if(p instanceof Error)return p}return null}return l(t)}function g(e){function t(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(i),n),r.thatReturnsNull}return l(t)}function v(e){function t(t,n,r,i,o){var s=t[n],c=b(s);if("object"!==c)return new u("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var p=e[l];if(p){var d=p(s,l,r,i,o+"."+l,a);if(d)return d}}return null}return l(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!y(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function T(e){if(void 0===e||null===e)return""+e;var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=T(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function E(e){return e.constructor&&e.constructor.name?e.constructor.name:R}var S="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",R="<<anonymous>>",k={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return l(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new u("Invalid "+i+" `"+o+"` of type `"+b(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return l(t)}(),instanceOf:h,node:function(){function e(e,t,n,r,i){return y(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return l(e)}(),objectOf:m,oneOf:f,oneOfType:g,shape:v};return u.prototype=Error.prototype,k.checkPropTypes=s,k.PropTypes=k,k}},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";e.exports="15.6.1"},function(e,t,n){"use strict";var r=n(100),i=r.Component,o=n(33),a=o.isValidElement,s=n(101),c=n(191);e.exports=c(i,a,s)},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=y.hasOwnProperty(t)?y[t]:null;w.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(c)&&_.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==c){var u=n[a],l=r.hasOwnProperty(a);if(i(l,a),_.hasOwnProperty(a))_[a](e,u);else{var p=y.hasOwnProperty(a),f="function"==typeof u,m=f&&!p&&!l&&!1!==n.autobind;if(m)o.push(a,u),r[a]=u;else if(l){var g=y[a];s(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?r[a]=d(r[a],u):"DEFINE_MANY"===g&&(r[a]=h(r[a],u))}else r[a]=u}}}else;}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in _;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;s(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function p(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=f(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new E,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(u.bind(null,t)),u(t,b),u(t,e),u(t,T),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in y)t.prototype[i]||(t.prototype[i]=null);return t}var v=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},b={componentDidMount:function(){this.__isMounted=!0}},T={componentWillUnmount:function(){this.__isMounted=!1}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},E=function(){};return o(E.prototype,e.prototype,w),g}var o=n(6),a=n(51),s=n(1),c="mixins";e.exports=i},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)||i("143"),e}var i=n(43),o=n(33);n(1);e.exports=r},function(e,t,n){"use strict";e.exports=n(194)},function(e,t,n){"use strict";var r=n(7),i=n(195),o=n(129),a=n(35),s=n(21),c=n(267),u=n(268),l=n(130),p=n(269);n(4);i.inject();var d={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:c,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=d},function(e,t,n){"use strict";function r(){E||(E=!0,y.EventEmitter.injectReactEventListener(v),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(f),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:c,ChangeEventPlugin:a,SelectEventPlugin:T,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(i),y.DOMProperty.injectDOMPropertyConfig(u),y.DOMProperty.injectDOMPropertyConfig(b),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new h(e)}),y.Updates.injectReconcileTransaction(_),y.Updates.injectBatchingStrategy(g),y.Component.injectEnvironment(l))}var i=n(196),o=n(197),a=n(201),s=n(204),c=n(205),u=n(206),l=n(207),p=n(213),d=n(7),h=n(238),f=n(239),m=n(240),g=n(241),v=n(242),y=n(244),_=n(245),b=n(251),T=n(252),w=n(253),E=!1;e.exports={inject:r}},function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=r},function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case"topCompositionStart":return C.compositionStart;case"topCompositionEnd":return C.compositionEnd;case"topCompositionUpdate":return C.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==v.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var c,u;if(_?c=i(e):k?a(e,n)&&(c=C.compositionEnd):o(e,n)&&(c=C.compositionStart),!c)return null;w&&(k||c!==C.compositionStart?c===C.compositionEnd&&k&&(u=k.getData()):k=f.getPooled(r));var l=m.getPooled(c,t,n,r);if(u)l.data=u;else{var p=s(n);null!==p&&(l.data=p)}return d.accumulateTwoPhaseDispatches(l),l}function u(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==E?null:(R=!0,S);case"topTextInput":var n=t.data;return n===S&&R?null:n;default:return null}}function l(e,t){if(k){if("topCompositionEnd"===e||!_&&a(e,t)){var n=k.getData();return f.release(k),k=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return w?null:t.data;default:return null}}function p(e,t,n,r){var i;if(!(i=T?u(e,n):l(e,n)))return null;var o=g.getPooled(C.beforeInput,t,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var d=n(44),h=n(15),f=n(198),m=n(199),g=n(200),v=[9,13,27,32],y=229,_=h.canUseDOM&&"CompositionEvent"in window,b=null;h.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var T=h.canUseDOM&&"TextEvent"in window&&!b&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),w=h.canUseDOM&&(!_||b&&b>8&&b<=11),E=32,S=String.fromCharCode(E),C={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},R=!1,k=null,I={eventTypes:C,extractEvents:function(e,t,n,r){return[c(e,t,n,r),p(e,t,n,r)]}};e.exports=I},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(6),o=n(25),a=n(109);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=R.getPooled(O.change,e,t,n);return r.type="change",w.accumulateTwoPhaseDispatches(r),r}function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=r(N,e,I(e));C.batchedUpdates(a,t)}function a(e){T.enqueueEvents(e),T.processEventQueue(!1)}function s(e,t){P=e,N=t,P.attachEvent("onchange",o)}function c(){P&&(P.detachEvent("onchange",o),P=null,N=null)}function u(e,t){var n=k.updateValueIfChanged(e),r=!0===t.simulated&&U._allowSimulatedPassThrough;if(n||r)return e}function l(e,t){if("topChange"===e)return t}function p(e,t,n){"topFocus"===e?(c(),s(t,n)):"topBlur"===e&&c()}function d(e,t){P=e,N=t,P.attachEvent("onpropertychange",f)}function h(){P&&(P.detachEvent("onpropertychange",f),P=null,N=null)}function f(e){"value"===e.propertyName&&u(N,e)&&o(e)}function m(e,t,n){"topFocus"===e?(h(),d(t,n)):"topBlur"===e&&h()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return u(N,n)}function v(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function y(e,t,n){if("topClick"===e)return u(t,n)}function _(e,t,n){if("topInput"===e||"topChange"===e)return u(t,n)}function b(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var T=n(45),w=n(44),E=n(15),S=n(7),C=n(21),R=n(23),k=n(112),I=n(66),A=n(67),x=n(113),O={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},P=null,N=null,M=!1;E.canUseDOM&&(M=A("change")&&(!document.documentMode||document.documentMode>8));var D=!1;E.canUseDOM&&(D=A("input")&&(!("documentMode"in document)||document.documentMode>9));var U={eventTypes:O,_allowSimulatedPassThrough:!0,_isInputEventSupported:D,extractEvents:function(e,t,n,o){var a,s,c=t?S.getNodeFromInstance(t):window;if(i(c)?M?a=l:s=p:x(c)?D?a=_:(a=g,s=m):v(c)&&(a=y),a){var u=a(e,t,n);if(u){return r(u,n,o)}}s&&s(e,c,t),"topBlur"===e&&b(t,c)}};e.exports=U},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(203),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i=n(5),o=(n(1),{addComponentAsRefTo:function(e,t,n){r(n)||i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||i("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=r},function(e,t,n){"use strict";var r=n(44),i=n(7),o=n(53),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var c;if(s.window===s)c=s;else{var u=s.ownerDocument;c=u?u.defaultView||u.parentWindow:window}var l,p;if("topMouseOut"===e){l=t;var d=n.relatedTarget||n.toElement;p=d?i.getClosestInstanceFromNode(d):null}else l=null,p=t;if(l===p)return null;var h=null==l?c:i.getNodeFromInstance(l),f=null==p?c:i.getNodeFromInstance(p),m=o.getPooled(a.mouseLeave,l,n,s);m.type="mouseleave",m.target=h,m.relatedTarget=f;var g=o.getPooled(a.mouseEnter,p,n,s);return g.type="mouseenter",g.target=f,g.relatedTarget=h,r.accumulateEnterLeaveDispatches(m,g,l,p),[m,g]}};e.exports=s},function(e,t,n){"use strict";var r=n(34),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=u},function(e,t,n){"use strict";var r=n(69),i=n(212),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";var r=n(5),i=n(36),o=n(15),a=n(209),s=n(17),c=(n(1),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=c},function(e,t,n){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u||c(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t||c(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(15),a=n(210),s=n(211),c=n(1),u=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1),"number"!=typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"==typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(1);e.exports=o},function(e,t,n){"use strict";function r(e){return a||o(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var i=n(15),o=n(1),a=i.canUseDOM?document.createElement("div"):null,s={},c=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:c,option:c,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";var r=n(69),i=n(7),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(G[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&g("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&g("60"),"object"==typeof t.dangerouslySetInnerHTML&&B in t.dangerouslySetInnerHTML||g("61")),null!=t.style&&"object"!=typeof t.style&&g("62",r(e)))}function o(e,t,n,r){if(!(r instanceof M)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===V,s=o?i._node:i._ownerDocument;X(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;S.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;A.postMountWrapper(e)}function c(){var e=this;P.postMountWrapper(e)}function u(){var e=this;x.postMountWrapper(e)}function l(){U.track(this)}function p(){var e=this;e._rootNodeID||g("63");var t=$(e);switch(t||g("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[R.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in W)W.hasOwnProperty(n)&&e._wrapperState.listeners.push(R.trapBubbledEvent(n,W[n],t));break;case"source":e._wrapperState.listeners=[R.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[R.trapBubbledEvent("topError","error",t),R.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[R.trapBubbledEvent("topReset","reset",t),R.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[R.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){O.postUpdateWrapper(this)}function h(e){Q.call(J,e)||(Y.test(e)||g("65",e),J[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;h(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var g=n(5),v=n(6),y=n(214),_=n(215),b=n(36),T=n(70),w=n(34),E=n(118),S=n(45),C=n(63),R=n(56),k=n(106),I=n(7),A=n(225),x=n(227),O=n(119),P=n(228),N=(n(20),n(229)),M=n(236),D=(n(17),n(55)),U=(n(1),n(67),n(74),n(112)),L=(n(78),n(4),k),j=S.deleteListener,$=I.getNodeFromInstance,X=R.listenTo,H=C.registrationNameModules,q={string:!0,number:!0},B="__html",F={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},V=11,W={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},z={listing:!0,pre:!0,textarea:!0},G=v({menuitem:!0},K),Y=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},Q={}.hasOwnProperty,Z=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=Z++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(p,this);break;case"input":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(l,this),e.getReactMountReady().enqueue(p,this);break;case"option":x.mountWrapper(this,o,t),o=x.getHostProps(this,o);break;case"select":O.mountWrapper(this,o,t),o=O.getHostProps(this,o),e.getReactMountReady().enqueue(p,this);break;case"textarea":P.mountWrapper(this,o,t),o=P.getHostProps(this,o),e.getReactMountReady().enqueue(l,this),e.getReactMountReady().enqueue(p,this)}i(this,o);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===T.svg&&"foreignobject"===d)&&(a=T.html),a===T.html&&("svg"===this._tag?a=T.svg:"math"===this._tag&&(a=T.mathml)),this._namespaceURI=a;var h;if(e.useCreateElement){var f,m=n._ownerDocument;if(a===T.html)if("script"===this._tag){var g=m.createElement("div"),v=this._currentElement.type;g.innerHTML="<"+v+"></"+v+">",f=g.removeChild(g.firstChild)}else f=o.is?m.createElement(this._currentElement.type,o.is):m.createElement(this._currentElement.type);else f=m.createElementNS(a,this._currentElement.type);I.precacheNode(this,f),this._flags|=L.hasCachedChildNodes,this._hostParent||E.setAttributeForRoot(f),this._updateDOMProperties(null,o,e);var _=b(f);this._createInitialChildren(e,o,r,_),h=_}else{var w=this._createOpenTagMarkupAndPutListeners(e,o),S=this._createContentMarkup(e,o,r);h=!S&&K[this._tag]?w+"/>":w+">"+S+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(c,this),o.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":case"button":o.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return h},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(H.hasOwnProperty(r))i&&o(this,r,i,e);else{"style"===r&&(i&&(i=this._previousStyleCopy=v({},t.style)),i=_.createMarkupForStyles(i,this));var a=null;null!=this._tag&&f(this._tag,t)?F.hasOwnProperty(r)||(a=E.createMarkupForCustomAttribute(r,i)):a=E.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+E.createMarkupForRoot()),n+=" "+E.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=q[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=D(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return z[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=q[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),c=0;c<s.length;c++)b.queueChild(r,s[c])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"input":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"option":o=x.getHostProps(this,o),a=x.getHostProps(this,a);break;case"select":o=O.getHostProps(this,o),a=O.getHostProps(this,a);break;case"textarea":o=P.getHostProps(this,o),a=P.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":P.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else H.hasOwnProperty(r)?e[r]&&j(this,r):f(this._tag,e)?F.hasOwnProperty(r)||E.deleteValueForAttribute($(this),r):(w.properties[r]||w.isCustomAttribute(r))&&E.deleteValueForProperty($(this),r);for(r in t){var c=t[r],u="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&c!==u&&(null!=c||null!=u))if("style"===r)if(c?c=this._previousStyleCopy=v({},c):this._previousStyleCopy=null,u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(a=a||{},a[i]=c[i])}else a=c;else if(H.hasOwnProperty(r))c?o(this,r,c,n):u&&j(this,r);else if(f(this._tag,t))F.hasOwnProperty(r)||E.setValueForAttribute($(this),r,c);else if(w.properties[r]||w.isCustomAttribute(r)){var l=$(this);null!=c?E.setValueForProperty(l,r,c):E.deleteValueForProperty(l,r)}}a&&_.setValueForStyles($(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=q[typeof e.children]?e.children:null,o=q[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,c=null!=i?null:e.children,u=null!=o?null:t.children,l=null!=i||null!=a,p=null!=o||null!=s;null!=c&&null==u?this.updateChildren(null,n,r):l&&!p&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return $(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":U.stopTracking(this);break;case"html":case"head":case"body":g("66",this._tag)}this.unmountChildren(e),I.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return $(this)}},v(m.prototype,m.Mixin,N.Mixin),e.exports=m},function(e,t,n){"use strict";var r=n(7),i=n(116),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";var r=n(117),i=n(15),o=(n(20),n(216),n(218)),a=n(219),s=n(221),c=(n(4),s(function(e){return a(e)})),u=!1,l="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=e[r];null!=a&&(n+=c(r)+":",n+=o(r,a,t,i)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--"),c=o(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=l),s)i.setProperty(a,c);else if(c)i[a]=c;else{var p=u&&r.shorthandPropertyExpansions[a];if(p)for(var d in p)i[d]="";else i[a]=""}}}};e.exports=d},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(217),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var i=isNaN(t);if(r||i||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(117),o=(n(4),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(220),o=/^ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=r},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(55);e.exports=r},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(45),o={handleTopLevel:function(e,t,n,o){r(i.extractEvents(e,t,n,o))}};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in c)return s[e]=t[n];return""}var o=n(15),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},c={};o.canUseDOM&&(c=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function i(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);p.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=l.getNodeFromInstance(this),s=o;s.parentNode;)s=s.parentNode;for(var c=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<c.length;d++){var h=c[d];if(h!==o&&h.form===o.form){var f=l.getInstanceFromNode(h);f||a("90"),p.asap(r,f)}}}return n}var a=n(5),s=n(6),c=n(118),u=n(72),l=n(7),p=n(21),d=(n(1),n(4),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&c.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=l.getNodeFromInstance(e),i=u.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var o=parseFloat(r.value,10)||0;(i!=o||i==o&&r.value!=i)&&(r.value=""+i)}else r.value!==""+i&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=d},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:c||(c=!0))}),t}var i=n(6),o=n(32),a=n(7),s=n(119),c=(n(4),!1),u={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var c;if(c=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var u=0;u<i.length;u++)if(""+i[u]===c){a=!0;break}}else a=""+i===c}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){a.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=u},function(e,t,n){"use strict";function r(){this._rootNodeID&&l.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return u.asap(r,this),n}var o=n(5),a=n(6),s=n(72),c=n(7),u=n(21),l=(n(1),n(4),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,c=t.children;null!=c&&(null!=a&&o("92"),Array.isArray(c)&&(c.length<=1||o("93"),c=c[0]),a=""+c),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=c.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=l},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function c(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){p.processChildrenUpdates(e,t)}var l=n(5),p=n(73),d=(n(47),n(20),n(22),n(35)),h=n(230),f=(n(17),n(235)),m=(n(1),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=f(t,s),h.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],c=0,u=d.mountComponent(s,t,this,this._hostContainerInfo,n,c);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&l("118");u(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&l("118");u(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,l=null,p=0,h=0,f=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var g=r&&r[s],v=a[s];g===v?(l=c(l,this.moveChild(g,m,p,h)),h=Math.max(g._mountIndex,h),g._mountIndex=p):(g&&(h=Math.max(g._mountIndex,h)),l=c(l,this._mountChildAtIndex(v,o[f],m,p,t,n)),f++),p++,m=d.getHostNode(v)}for(s in i)i.hasOwnProperty(s)&&(l=c(l,this._unmountChild(r[s],i[s])));l&&u(this,l),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(35),o=n(120),a=(n(76),n(75)),s=n(124);n(4);void 0!==t&&Object({NODE_ENV:"production"});var c={instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,c,u,l,p){if(t||e){var d,h;for(d in t)if(t.hasOwnProperty(d)){h=e&&e[d];var f=h&&h._currentElement,m=t[d];if(null!=h&&a(f,m))i.receiveComponent(h,m,s,l),t[d]=h;else{h&&(r[d]=i.getHostNode(h),i.unmountComponent(h,!1));var g=o(m,!0);t[d]=g;var v=i.mountComponent(g,s,c,u,l,p);n.push(v)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(h=e[d],r[d]=i.getHostNode(h),i.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};e.exports=c}).call(t,n(11))},function(e,t,n){"use strict";function r(e){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=n(5),s=n(6),c=n(32),u=n(73),l=n(22),p=n(65),d=n(47),h=(n(20),n(121)),f=n(35),m=n(51),g=(n(1),n(74)),v=n(75),y=(n(4),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var _=1,b={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var u,l=this._currentElement.props,p=this._processContext(s),h=this._currentElement.type,f=e.getUpdateQueue(),g=i(h),v=this._constructComponent(g,l,p,f);g||null!=v&&null!=v.render?o(h)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(u=v,null===v||!1===v||c.isValidElement(v)||a("105",h.displayName||h.name||"Component"),v=new r(h),this._compositeType=y.StatelessFunctional);v.props=l,v.context=p,v.refs=m,v.updater=f,this._instance=v,d.set(v,this);var b=v.state;void 0===b&&(v.state=b=null),("object"!=typeof b||Array.isArray(b))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var T;return T=v.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,s):this.performInitialMount(u,t,n,e,s),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),T},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var c=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=c;var u=f.mountComponent(c,r,t,n,this._processChildContext(i),a);return u},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var i in t)i in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",i);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o&&a("136",this.getName()||"ReactCompositeComponent");var s,c=!1;this._context===i?s=o.context:(s=this._processContext(i),c=!0);var u=t.props,l=n.props;t!==n&&(c=!0),c&&o.componentWillReceiveProps&&o.componentWillReceiveProps(l,s);var p=this._processPendingState(l,s),d=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?d=o.shouldComponentUpdate(l,p,s):this._compositeType===y.PureClass&&(d=!g(u,l)||!g(o.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,p,s,e,i)):(this._currentElement=n,this._context=i,o.props=l,o.state=p,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var c=r[a];s(o,"function"==typeof c?c.call(n,o,e,t):c)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,c,u=this._instance,l=Boolean(u.componentDidUpdate);l&&(a=u.props,s=u.state,c=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,c),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(v(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var a=f.getHostNode(n);f.unmountComponent(n,!1);var s=h.getType(i);this._renderedNodeType=s;var c=this._instantiateReactComponent(i,s!==h.EMPTY);this._renderedComponent=c;var u=f.mountComponent(c,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(a,u,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;return e.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){l.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||c.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=b},function(e,t,n){"use strict";function r(){return i++}var i=1;e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"==typeof t)return t}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(76),n(124));n(4);void 0!==t&&Object({NODE_ENV:"production"}),e.exports=i}).call(t,n(11))},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(6),o=n(25),a=n(52),s=(n(20),n(237)),c=[],u={enqueue:function(){}},l={getTransactionWrappers:function(){return c},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a,l),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(77),o=(n(4),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&i.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&i.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&i.enqueueSetState(e,t)},e}());e.exports=o},function(e,t,n){"use strict";var r=n(6),i=n(36),o=n(7),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var c=n._ownerDocument,u=c.createComment(s);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||c("33"),"_hostNode"in t||c("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e||c("35"),"_hostNode"in t||c("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e||c("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var c=[];t&&t!==a;)c.push(t),t=t._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],"bubbled",i);for(u=c.length;u-- >0;)n(c[u],"captured",o)}var c=n(5);n(1);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(69),a=n(36),s=n(7),c=n(55),u=(n(1),n(78),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var u=n._ownerDocument,l=u.createComment(o),p=u.createComment(" /react-text "),d=a(u.createDocumentFragment());return a.queueChild(d,a(l)),this._stringText&&a.queueChild(d,a(u.createTextNode(this._stringText))),a.queueChild(d,a(p)),s.precacheNode(this,l),this._closingComment=p,d}var h=c(this._stringText);return e.renderToStaticMarkup?h:"\x3c!--"+o+"--\x3e"+h+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=u},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(6),o=n(21),a=n(52),s=n(17),c={initialize:s,close:function(){d.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},l=[u,c];i(r.prototype,a,{getTransactionWrappers:function(){return l}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,i,o):p.perform(e,null,t,n,r,i,o)}};e.exports=d},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=h(e.nativeEvent),n=p.getClosestInstanceFromNode(t),i=n;do{e.ancestors.push(i),i=i&&r(i)}while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function a(e){e(f(window))}var s=n(6),c=n(126),u=n(15),l=n(25),p=n(7),d=n(21),h=n(66),f=n(243);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?c.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?c.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);c.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";var r=n(34),i=n(45),o=n(64),a=n(73),s=n(122),c=n(56),u=n(123),l=n(21),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:c.injection,HostComponent:u.injection,Updates:l.injection};e.exports=p},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(6),o=n(110),a=n(25),s=n(56),c=n(127),u=(n(20),n(52)),l=n(77),p={initialize:c.getSelectionInformation,close:c.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[p,d,h],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,u,m),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length;return{start:o,end:o+r}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var c=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=c?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(e),l.setEnd(s.startContainer,s.startOffset);var p=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),d=p?0:l.toString().length,h=d+u,f=document.createRange();f.setStart(n,i),f.setEnd(o,a);var m=f.collapsed;return{start:m?h:d,end:m?d:h}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(e,i),c=u(e,o);if(s&&c){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(p),n.extend(c.node,c.offset)):(p.setEnd(c.node,c.offset),n.addRange(p))}}}var c=n(15),u=n(247),l=n(109),p=c.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?i:o,setOffsets:p?a:s};e.exports=d},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}e.exports=o},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(249);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(250);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),e.exports=o},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(y||null==m||m!==l())return null;var n=r(m);if(!v||!d(v,n)){v=n;var i=u.getPooled(f.select,g,e,t);return i.type="select",i.target=m,o.accumulateTwoPhaseDispatches(i),i}return null}var o=n(44),a=n(15),s=n(7),c=n(127),u=n(23),l=n(128),p=n(113),d=n(74),h=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,f={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,v=null,y=!1,_=!1,b={eventTypes:f,extractEvents:function(e,t,n,r){if(!_)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(o)||"true"===o.contentEditable)&&(m=o,g=t,v=null);break;case"topBlur":m=null,g=null,v=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,i(n,r);case"topSelectionChange":if(h)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(_=!0)}};e.exports=b},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var o=n(5),a=n(126),s=n(44),c=n(7),u=n(254),l=n(255),p=n(23),d=n(256),h=n(257),f=n(53),m=n(259),g=n(260),v=n(261),y=n(46),_=n(262),b=n(17),T=n(79),w=(n(1),{}),E={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};w[e]=i,E[r]=i});var S={},C={eventTypes:w,extractEvents:function(e,t,n,r){var i=E[e];if(!i)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===T(n))return null;case"topKeyDown":case"topKeyUp":a=h;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=f;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=g;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=u;break;case"topTransitionEnd":a=v;break;case"topScroll":a=y;break;case"topWheel":a=_;break;case"topCopy":case"topCut":case"topPaste":a=l}a||o("86",e);var c=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(c),c},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var o=r(e),s=c.getNodeFromInstance(e);S[o]||(S[o]=a.listen(s,"click",b))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);S[n].remove(),delete S[n]}}};e.exports=C},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o=n(79),a=n(258),s=n(68),c={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,c),e.exports=r},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(79),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(53),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o=n(68),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(23),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(53),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(78),9);e.exports=r},function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};e.exports=r},function(e,t,n){"use strict";var r=n(266),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;r<o;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=r},function(e,t,n){"use strict";e.exports="15.6.1"},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?o.getNodeFromInstance(t):null;"function"==typeof e.render?i("44"):i("45",Object.keys(e))}var i=n(5),o=(n(22),n(7)),a=n(47),s=n(130);n(1),n(4);e.exports=r},function(e,t,n){"use strict";var r=n(129);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(37),s=n(298),c=r(s),u=n(324),l=r(u),p=n(327),d=r(p),h=n(330),f=r(h),m=n(333),g=r(m),v=n(500),y=r(v),_=n(503),b=r(_),T=n(506),w=(r(T),function(){return o.default.createElement(a.BrowserRouter,null,o.default.createElement("div",null,o.default.createElement(c.default,null),o.default.createElement(a.Route,{exact:!0,path:"/",component:f.default}),o.default.createElement(a.Route,{exact:!0,path:"/lobby",component:function(){return o.default.createElement(d.default,null,o.default.createElement(g.default,null))}}),o.default.createElement(a.Route,{exact:!0,path:"/call/:id",component:y.default}),o.default.createElement(a.Route,{exact:!0,path:"/dashboard",component:function(){return o.default.createElement(d.default,null,o.default.createElement(b.default,null))}}),o.default.createElement(l.default,null)))});t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=n(273),p=n.n(l),d=n(16),h=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(d.Router,{history:this.history,children:this.props.children})},t}(s.a.Component);h.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},t.a=h},function(e,t,n){"use strict";var r=n(17),i=n(1),o=n(105);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),s=r(a),c=n(57),u=r(c),l=n(80),p=n(48),d=n(81),h=r(d),f=n(131),m=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(f.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,f.supportsHistory)(),r=!(0,f.supportsPopStateOnHashChange)(),a=e.forceRefresh,c=void 0!==a&&a,d=e.getUserConfirmation,g=void 0===d?f.getConfirmation:d,v=e.keyLength,y=void 0===v?6:v,_=e.basename?(0,p.stripTrailingSlash)((0,p.addLeadingSlash)(e.basename)):"",b=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,a=i.search,c=i.hash,u=o+a+c;return(0,s.default)(!_||(0,p.hasBasename)(u,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+u+'" to begin with "'+_+'".'),_&&(u=(0,p.stripBasename)(u,_)),(0,l.createLocation)(u,r,n)},T=function(){return Math.random().toString(36).substr(2,y)},w=(0,h.default)(),E=function(e){o(q,e),q.length=t.length,w.notifyListeners(q.location,q.action)},S=function(e){(0,f.isExtraneousPopstateEvent)(e)||k(b(e.state))},C=function(){k(b(m()))},R=!1,k=function(e){if(R)R=!1,E();else{w.confirmTransitionTo(e,"POP",g,function(t){t?E({action:"POP",location:e}):I(e)})}},I=function(e){var t=q.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))},A=b(m()),x=[A.key],O=function(e){return _+(0,p.createPath)(e)},P=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,T(),q.location);w.confirmTransitionTo(o,"PUSH",g,function(e){if(e){var r=O(o),i=o.key,a=o.state;if(n)if(t.pushState({key:i,state:a},null,r),c)window.location.href=r;else{var u=x.indexOf(q.location.key),l=x.slice(0,-1===u?0:u+1);l.push(o.key),x=l,E({action:"PUSH",location:o})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},N=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,T(),q.location);w.confirmTransitionTo(o,"REPLACE",g,function(e){if(e){var r=O(o),i=o.key,a=o.state;if(n)if(t.replaceState({key:i,state:a},null,r),c)window.location.replace(r);else{var u=x.indexOf(q.location.key);-1!==u&&(x[u]=o.key),E({action:"REPLACE",location:o})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},M=function(e){t.go(e)},D=function(){return M(-1)},U=function(){return M(1)},L=0,j=function(e){L+=e,1===L?((0,f.addEventListener)(window,"popstate",S),r&&(0,f.addEventListener)(window,"hashchange",C)):0===L&&((0,f.removeEventListener)(window,"popstate",S),r&&(0,f.removeEventListener)(window,"hashchange",C))},$=!1,X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=w.setPrompt(e);return $||(j(1),$=!0),function(){return $&&($=!1,j(-1)),t()}},H=function(e){var t=w.appendListener(e);return j(1),function(){j(-1),t()}},q={length:t.length,action:"POP",location:A,createHref:O,push:P,replace:N,go:M,goBack:D,goForward:U,block:X,listen:H};return q};t.default=g},function(e,t,n){"use strict";var r=function(e){return"/"===e.charAt(0)},i=function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),c=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var u=void 0;if(o.length){var l=o[o.length-1];u="."===l||".."===l||""===l}else u=!1;for(var p=0,d=o.length;d>=0;d--){var h=o[d];"."===h?i(o,d):".."===h?(i(o,d),p++):p&&(i(o,d),p--)}if(!c)for(;p--;p)o.unshift("..");!c||""===o[0]||o[0]&&r(o[0])||o.unshift("");var f=o.join("/");return u&&"/"!==f.substr(-1)&&(f+="/"),f};e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var i=void 0===t?"undefined":r(t);if(i!==(void 0===n?"undefined":r(n)))return!1;if("object"===i){var o=t.valueOf(),a=n.valueOf();if(o!==t||a!==n)return e(o,a);var s=Object.keys(t),c=Object.keys(n);return s.length===c.length&&s.every(function(r){return e(t[r],n[r])})}return!1};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=n(277),p=n.n(l),d=n(82),h=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(s.a.Component);h.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},t.a=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),s=r(a),c=n(48),u=n(80),l=n(81),p=r(l),d=function(e,t,n){return Math.min(Math.max(e,t),n)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,l=void 0===a?0:a,h=e.keyLength,f=void 0===h?6:h,m=(0,p.default)(),g=function(e){o(A,e),A.length=A.entries.length,m.notifyListeners(A.location,A.action)},v=function(){return Math.random().toString(36).substr(2,f)},y=d(l,0,r.length-1),_=r.map(function(e){return"string"==typeof e?(0,u.createLocation)(e,void 0,v()):(0,u.createLocation)(e,void 0,e.key||v())}),b=c.createPath,T=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(e,n,v(),A.location);m.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=A.index,n=t+1,i=A.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),g({action:"PUSH",location:r,index:n,entries:i})}})},w=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(e,n,v(),A.location);m.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(A.entries[A.index]=r,g({action:"REPLACE",location:r}))})},E=function(e){var n=d(A.index+e,0,A.entries.length-1),r=A.entries[n];m.confirmTransitionTo(r,"POP",t,function(e){e?g({action:"POP",location:r,index:n}):g()})},S=function(){return E(-1)},C=function(){return E(1)},R=function(e){var t=A.index+e;return t>=0&&t<A.entries.length},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},I=function(e){return m.appendListener(e)},A={length:_.length,action:"POP",location:_[y],index:y,entries:_,createHref:b,push:T,replace:w,go:E,goBack:S,goForward:C,canGo:R,block:k,listen:I};return A};t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);l.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},l.defaultProps={when:!0},l.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired},t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(s.a.Component);l.propTypes={push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object])},l.defaultProps={push:!1},l.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired},t.a=l},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=y.exec(e));){var l=n[0],p=n[1],d=n.index;if(a+=e.slice(o,d),o=d+l.length,p)a+=p[1];else{var h=e[o],f=n[2],m=n[3],g=n[4],v=n[5],_=n[6],b=n[7];a&&(r.push(a),a="");var T=null!=f&&null!=h&&h!==f,w="+"===_||"*"===_,E="?"===_||"*"===_,S=n[2]||s,C=g||v;r.push({name:m||i++,prefix:f||"",delimiter:S,optional:E,repeat:w,partial:T,asterisk:!!b,pattern:C?u(C):b?".*":"[^"+c(S)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},c=r||{},u=c.pretty?o:encodeURIComponent,l=0;l<e.length;l++){var p=e[l];if("string"!=typeof p){var d,h=s[p.name];if(null==h){if(p.optional){p.partial&&(i+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(v(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=u(h[f]),!t[l].test(d))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===f?p.prefix:p.delimiter)+d}}else{if(d=p.asterisk?a(h):u(h),!t[l].test(d))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+d+'"');i+=p.prefix+d}}else i+=p}return i}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function d(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function h(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(g(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",p(n)),t)}function f(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){v(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=c(s);else{var u=c(s.prefix),d="(?:"+s.pattern+")";t.push(s),s.repeat&&(d+="(?:"+u+d+")*"),d=s.optional?s.partial?u+"("+d+")?":"(?:"+u+"("+d+"))?":u+"("+d+")",o+=d}}var h=c(n.delimiter||"/"),f=o.slice(-h.length)===h;return r||(o=(f?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+h+"|$)",l(new RegExp("^"+o,p(n)),t)}function g(e,t,n){return v(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?d(e,t):v(e)?h(e,t,n):f(e,t,n)}var v=n(281);e.exports=g,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(57),c=n.n(s),u=n(3),l=n.n(u),p=n(18),d=n.n(p),h=n(48),f=(n.n(h),n(82)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}},v=function(e,t){return e?m({},t,{pathname:Object(h.addLeadingSlash)(e)+t.pathname}):t},y=function(e,t){if(!e)return t;var n=Object(h.addLeadingSlash)(e);return 0!==t.pathname.indexOf(n)?t:m({},t,{pathname:t.pathname.substr(n.length)})},_=function(e){return"string"==typeof e?Object(h.parsePath)(e):g(e)},b=function(e){return"string"==typeof e?e:Object(h.createPath)(e)},T=function(e){return function(){c()(!1,"You cannot %s with <StaticRouter>",e)}},w=function(){},E=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(c))),r.createHref=function(e){return Object(h.addLeadingSlash)(r.props.basename+b(e))},r.handlePush=function(e){var t=r.props,n=t.basename,i=t.context;i.action="PUSH",i.location=v(n,_(e)),i.url=b(i.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,i=t.context;i.action="REPLACE",i.location=v(n,_(e)),i.url=b(i.location)},r.handleListen=function(){return w},r.handleBlock=function(){return w},a=n,o(r,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),i=r(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:y(t,_(n)),push:this.handlePush,replace:this.handleReplace,go:T("go"),goBack:T("goBack"),goForward:T("goForward"),listen:this.handleListen,block:this.handleBlock};return l.a.createElement(f.a,m({},i,{history:o}))},t}(l.a.Component);E.propTypes={basename:d.a.string,context:d.a.object.isRequired,location:d.a.oneOfType([d.a.string,d.a.object])},E.defaultProps={basename:"",location:"/"},E.childContextTypes={router:d.a.object.isRequired},t.a=E},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=n(26),p=n.n(l),d=n(83),h=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillReceiveProps=function(e){p()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),p()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,i=void 0;return s.a.Children.forEach(t,function(t){if(s.a.isValidElement(t)){var o=t.props,a=o.path,c=o.exact,u=o.strict,l=o.from,p=a||l;null==r&&(i=t,r=p?Object(d.a)(n.pathname,{path:p,exact:c,strict:u}):e.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},t}(s.a.Component);h.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},h.propTypes={children:u.a.node,location:u.a.object},t.a=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(3),o=n.n(i),a=n(18),s=n.n(a),c=n(285),u=n.n(c),l=n(132),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){var t=function(t){var n=t.wrappedComponentRef,i=r(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{render:function(t){return o.a.createElement(e,p({},i,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},u()(t,e)};t.a=d},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),c=n(18),u=n.n(c),l=n(287),p=n.n(l),d=n(16),h=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(d.Router,{history:this.history,children:this.props.children})},t}(s.a.Component);h.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node},t.a=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(26),a=r(o),s=n(57),c=r(s),u=n(80),l=n(48),p=n(81),d=r(p),h=n(131),f={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,l.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l.stripLeadingSlash,decodePath:l.addLeadingSlash},slash:{encodePath:l.addLeadingSlash,decodePath:l.addLeadingSlash}},m=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},g=function(e){return window.location.hash=e},v=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(h.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,h.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,o=void 0===r?h.getConfirmation:r,s=e.hashType,p=void 0===s?"slash":s,y=e.basename?(0,l.stripTrailingSlash)((0,l.addLeadingSlash)(e.basename)):"",_=f[p],b=_.encodePath,T=_.decodePath,w=function(){var e=T(m());return(0,a.default)(!y||(0,l.hasBasename)(e,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+y+'".'),y&&(e=(0,l.stripBasename)(e,y)),(0,u.createLocation)(e)},E=(0,d.default)(),S=function(e){i(V,e),V.length=t.length,E.notifyListeners(V.location,V.action)},C=!1,R=null,k=function(){var e=m(),t=b(e);if(e!==t)v(t);else{var n=w(),r=V.location;if(!C&&(0,u.locationsAreEqual)(r,n))return;if(R===(0,l.createPath)(n))return;R=null,I(n)}},I=function(e){if(C)C=!1,S();else{E.confirmTransitionTo(e,"POP",o,function(t){t?S({action:"POP",location:e}):A(e)})}},A=function(e){var t=V.location,n=N.lastIndexOf((0,l.createPath)(t));-1===n&&(n=0);var r=N.lastIndexOf((0,l.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,L(i))},x=m(),O=b(x);x!==O&&v(O);var P=w(),N=[(0,l.createPath)(P)],M=function(e){return"#"+b(y+(0,l.createPath)(e))},D=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,u.createLocation)(e,void 0,void 0,V.location);E.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(y+t);if(m()!==r){R=t,g(r);var i=N.lastIndexOf((0,l.createPath)(V.location)),o=N.slice(0,-1===i?0:i+1);o.push(t),N=o,S({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},U=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,u.createLocation)(e,void 0,void 0,V.location);E.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(y+t);m()!==r&&(R=t,v(r));var i=N.indexOf((0,l.createPath)(V.location));-1!==i&&(N[i]=t),S({action:"REPLACE",location:n})}})},L=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},j=function(){return L(-1)},$=function(){return L(1)},X=0,H=function(e){X+=e,1===X?(0,h.addEventListener)(window,"hashchange",k):0===X&&(0,h.removeEventListener)(window,"hashchange",k)},q=!1,B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return q||(H(1),q=!0),function(){return q&&(q=!1,H(-1)),t()}},F=function(e){var t=E.appendListener(e);return H(1),function(){H(-1),t()}},V={length:t.length,action:"POP",location:P,createHref:M,push:D,replace:U,go:L,goBack:j,goForward:$,block:B,listen:F};return V};t.default=y},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.MemoryRouter})},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(3),o=n.n(i),a=n(18),s=n.n(a),c=n(16),u=n(133),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e){var t=e.to,n=e.exact,i=e.strict,a=e.location,s=e.activeClassName,d=e.className,h=e.activeStyle,f=e.style,m=e.isActive,g=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive"]);return o.a.createElement(c.Route,{path:"object"===(void 0===t?"undefined":p(t))?t.pathname:t,exact:n,strict:i,location:a,children:function(e){var n=e.location,r=e.match,i=!!(m?m(r,n):r);return o.a.createElement(u.a,l({to:t,className:i?[s,d].filter(function(e){return e}).join(" "):d,style:i?l({},f,h):f},g))}})};d.propTypes={to:u.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func},d.defaultProps={activeClassName:"active"},t.a=d},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.Prompt})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.Redirect})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.Route})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.Router})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.StaticRouter})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.Switch})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.matchPath})},function(e,t,n){"use strict";var r=n(16);n.d(t,"a",function(){return r.withRouter})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(37),p=n(299),d=r(p),h=n(319),f=r(h),m=n(322),g=r(m),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:g.default.container},u.default.createElement("nav",null,u.default.createElement("div",{className:g.default.logo},u.default.createElement(l.Link,{to:"/"},"Language Roulette")),u.default.createElement("div",{className:g.default.info},u.default.createElement(f.default,null)),u.default.createElement("div",{className:g.default.login},u.default.createElement(d.default,null))))}}]),t}(u.default.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(37),p=n(300),d=r(p),h=n(84),f=r(h),m=n(38),g=r(m),v=n(316),y=r(v),_=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unsubscribe=null,e.state={displayedName:""},e}return a(t,e),s(t,[{key:"updateDisplay",value:function(e){this.setState({displayedName:e})}},{key:"updateStore",value:function(e){g.default.dispatch({type:"login",data:e})}},{key:"clearStore",value:function(){g.default.dispatch({type:"expire"})}},{key:"onStoreUpdate",value:function(){var e=g.default.getState();e.loginNeeded&&d.default.initialized&&this.openLogin(),this.updateDisplay(e.userId?e.email:"")}},{key:"openLogin",value:function(){var e=this;d.default.openLogin(g.default.getState().email).then(function(t){return e.updateStore(t)})}},{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=g.default.subscribe(function(){return e.onStoreUpdate()});var t=g.default.getState(),n=t.userId,r=t.userAccessToken,i=t.expiresAt,o=t.email;n&&r&&i>Date.now()?(this.updateDisplay(o),f.default.getUserData(n,r).then(function(t){return e.updateStore(t)}).catch(function(){return e.clearStore()})):this.clearStore(),d.default.init().then(function(){g.default.getState().loginNeeded&&e.openLogin()})}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this;return this.state.displayedName?u.default.createElement("div",{className:y.default.container},u.default.createElement(l.Link,{to:"/dashboard"},this.state.displayedName)):u.default.createElement("div",{className:y.default.container},u.default.createElement("button",{onClick:function(){return e.openLogin()}},"Login via email")," ")}}]),t}(u.default.PureComponent);t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(84),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e),this.initialized=!1}return i(e,[{key:"init",value:function(){var e=this;return a.default.requestLoginAppId().then(function(t){return new Promise(function(n){var r=function(){window.AccountKit.init(t),e.initialized=!0,n(!0)};window.AccountKit&&window.AccountKit.init?r():window.AccountKit_OnInteractive=r})})}},{key:"openLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,n){window.AccountKit.login("EMAIL",{emailAddress:e},function(e){"PARTIALLY_AUTHENTICATED"===e.status?a.default.requestLoginToken(e.code,e.state).then(t):"NOT_AUTHENTICATED"===e.status?n(e.status):"BAD_PARAMS"===e.status&&n(e.status)})})}}]),e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(134),i=n(313),o=n(314),a=n(315),s=n(139);n(138);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return i.a}),n.d(t,"bindActionCreators",function(){return o.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?c:s:u&&u in Object(e)?Object(o.a)(e):Object(a.a)(e)}var i=n(136),o=n(305),a=n(306),s="[object Null]",c="[object Undefined]",u=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(304),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(12))},function(e,t,n){"use strict";function r(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[c]=n:delete e[c]),i}var i=n(136),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,c=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return o.call(e)}var i=Object.prototype,o=i.toString;t.a=r},function(e,t,n){"use strict";var r=n(308),i=Object(r.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(311)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(312),a=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,a.default)(i);t.default=s}).call(t,n(12),n(137)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),c=void 0;try{i(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var i=!1,o={},a=0;a<s.length;a++){var u=s[a],l=n[u],p=e[u],d=l(p,t);if(void 0===d){var h=r(u,t);throw new Error(h)}o[u]=d,i=i||d!==p}return i?o:e}}t.a=o;var a=n(134);n(135),n(138)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(i[a]=r(s,t))}return i}t.a=i},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var s=e(n,r,a),c=s.dispatch,u=[],l={getState:s.getState,dispatch:function(e){return c(e)}};return u=t.map(function(e){return e(l)}),c=i.a.apply(void 0,u)(s.dispatch),o({},s,{dispatch:c})}}}t.a=r;var i=n(139),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(317);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Login__container{font-size:.8em}.Login__container button{color:#333;border:1px solid #555;border-radius:4px;background:transparent;padding:0 .7em;line-height:1.8;cursor:pointer;font-size:13px}.Login__container button:hover{color:#000;border-color:#000;background:rgba(0,0,0,.01)}.Login__container button:active{background:rgba(0,0,0,.1)}.Login__container small{font-size:12px}@media only screen and (max-width:767px){.Login__container small{display:none}}",""]),t.locals={container:"Login__container"}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(38),p=r(l),d=n(320),h=r(d),f=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unsubscribe=null,e.state={loggedIn:!1,points:0},e}return a(t,e),s(t,[{key:"updateState",value:function(){var e=p.default.getState();this.setState({loggedIn:Boolean(e.userId),points:e.points||0})}},{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=p.default.subscribe(function(){return e.updateState()}),this.updateState()}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){return this.state.loggedIn?u.default.createElement("div",{className:h.default.container},this.state.points," ❂"):null}}]),t}(c.PureComponent);t.default=f},function(e,t,n){var r=n(321);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Points__container{font-size:.8em}",""]),t.locals={container:"Points__container"}},function(e,t,n){var r=n(323);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,'.Nav__container{display:block;background:#fff844}.Nav__container nav{display:flex;flex-direction:row;align-items:center;padding:.5em 1em;margin:auto}@media only screen and (min-width:1024px){.Nav__container nav{width:900px}}.Nav__logo a{display:block;margin:-.5em 0;padding:.5em 2em;background:url("/images/spin.png") 0 no-repeat;background-size:1.5em 1.5em;text-decoration:none}.Nav__logo a:hover{text-decoration:underline}.Nav__info{flex:1;display:flex;flex-direction:row;justify-content:flex-end;padding:0 20px}.Nav__login{max-width:40%;overflow:hidden}',""]),t.locals={container:"Nav__container",logo:"Nav__logo",info:"Nav__info",login:"Nav__login"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=(n(37),n(325)),p=r(l),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:p.default.container},u.default.createElement("footer",null,u.default.createElement("div",null,"Language is a virus from outer space ",u.default.createElement("cite",null,"― William S. Burroughs")),u.default.createElement("div",null,"Language Roulette, 2017")))}}]),t}(u.default.PureComponent);t.default=d},function(e,t,n){var r=n(326);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Footer__container{width:100%;background-color:#fff844;position:absolute;z-index:1;bottom:0;left:0}.Footer__container footer{display:flex;flex-direction:row;flex-wrap:wrap;margin:auto;padding:1em;font-size:.8em}.Footer__container footer div:first-of-type{flex:1;padding-right:2em}.Footer__container footer cite{white-space:nowrap}@media only screen and (min-width:1024px){.Footer__container footer{width:900px}}",""]),t.locals={container:"Footer__container"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=(n(16),n(38)),p=r(l),d=n(328),h=r(d),f=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unsubscribe=null,e.state={loggedIn:!1},e}return a(t,e),s(t,[{key:"updateState",value:function(){p.default.getState().userId&&this.setState({loggedIn:!0})}},{key:"onLoginClick",value:function(){p.default.dispatch({type:"loginNeeded"})}},{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=p.default.subscribe(function(){return e.updateState()}),this.updateState()}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this;return this.state.loggedIn?u.default.createElement("div",null,this.props.children):u.default.createElement("div",{className:h.default.container},u.default.createElement("div",{className:h.default.center},u.default.createElement("button",{onClick:function(){return e.onLoginClick()}},"Login via email"),u.default.createElement("p",null,"Press the button to sign up or sign in (if you are already a member)")))}}]),t}(c.PureComponent);t.default=f},function(e,t,n){var r=n(329);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,"@keyframes BehindLogin__fade-in{0%{opacity:0}to{opacity:1}}.BehindLogin__container{min-height:70vh;padding:5vh;position:relative}.BehindLogin__center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:1;opacity:0;animation:BehindLogin__fade-in .3s .6s ease-in;animation-fill-mode:forwards;text-align:center}.BehindLogin__container button{color:#000;border:1px solid #fff844;border-radius:4px;background:#fff844;padding:.5em 1.5em;cursor:pointer;font-size:32px;margin:0 30px 1em;outline:none;text-decoration:none}.BehindLogin__container button:hover{color:#000;border-color:#999;background:#fff333;text-decoration:none}.BehindLogin__container button:active{background:#fff71e}",""]),t.locals={container:"BehindLogin__container",center:"BehindLogin__center","fade-in":"BehindLogin__fade-in",fadeIn:"BehindLogin__fade-in"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(37),p=n(38),d=r(p),h=n(84),f=r(h),m=n(27),g=r(m),v=n(331),y=r(v),_=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unsubscribe=null,e.state={language:"",level:"",loggedIn:!1},e}return a(t,e),s(t,[{key:"setValue",value:function(e){d.default.dispatch({type:"update",data:e})}},{key:"submit",value:function(e){var t=d.default.getState();t.userId?(d.default.dispatch({type:"update",data:this.state}),f.default.updateUserData(t.userId,t.userAccessToken,t)):(e.preventDefault(),d.default.dispatch({type:"loginNeeded"}))}},{key:"updateState",value:function(){var e=d.default.getState(),t=e.userId,n=e.language,r=e.level;this.setState({language:n,level:r,loggedIn:Boolean(t)})}},{key:"toggleHomeLinks",value:function(e){var t=document.querySelectorAll('a[href="/"]');[].forEach.call(t,function(t){return t.style.visibility=e?"":"hidden"})}},{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=d.default.subscribe(function(){return e.updateState()}),this.updateState()}},{key:"componentDidMount",value:function(){this.toggleHomeLinks(!1)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),this.toggleHomeLinks(!0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.language,r=t.level,i=(t.loggedIn,Object.keys(g.default.languages).filter(function(e){return!(e in g.default.popularLanguages)})),o=Object.keys(g.default.popularLanguages).map(function(e){return u.default.createElement("option",{key:e,value:e},g.default.languages[e])}).concat([u.default.createElement("option",{disabled:!0},"───────")]).concat(i.map(function(e){return u.default.createElement("option",{key:e,value:e},g.default.languages[e])})),a=g.default.levels.map(function(e){return u.default.createElement("option",{key:e.level,value:e.level},e.title)});return u.default.createElement("div",{className:y.default.front},u.default.createElement("section",null,u.default.createElement("div",{className:y.default.container},u.default.createElement("h1",null,"Language",u.default.createElement("span",null,u.default.createElement("img",{src:"/images/spin.png",className:y.default.spinningImage}),u.default.createElement("img",{src:"/images/pointer.png",className:y.default.pointerImage})),"Roulette"))),u.default.createElement("section",null,u.default.createElement("div",{className:y.default.container},u.default.createElement("div",{className:y.default.row},u.default.createElement("div",{className:y.default.column},u.default.createElement("h2",null,u.default.createElement("span",null,"I want to speak"),u.default.createElement("select",{value:n||g.default.defaultLang,onChange:function(t){return e.setValue({language:t.target.value})}},o))),u.default.createElement("div",{className:y.default.column},u.default.createElement("h2",null,u.default.createElement("span",null,"My level is"),u.default.createElement("select",{value:r||g.default.levels[0],onChange:function(t){return e.setValue({level:t.target.value})}},a)))))),u.default.createElement("section",null,u.default.createElement("div",{className:y.default.container},u.default.createElement("h3",null,"Learn a language through a video conversation"),u.default.createElement("p",null,"Earn ",u.default.createElement("b",null,"❂ points")," chatting in your native language. Spend the points to chat with natives in your target language."),u.default.createElement("p",null,"One minute is ",u.default.createElement("b",null,"1 ❂ point"),".",this.state.loggedIn?"":u.default.createElement("span",null," You get your first ",u.default.createElement("b",null,"50 ❂ points")," for free."),u.default.createElement("span",null," Make each count!")))),u.default.createElement("section",null,u.default.createElement("div",{className:y.default.container},u.default.createElement("div",{className:y.default.cta},u.default.createElement(l.Link,{to:"/lobby",onClick:function(t){e.submit(t)}},"Get started")))))}}]),t}(c.PureComponent);t.default=_},function(e,t,n){var r=n(332);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".FrontRoute__container{margin:0 auto;padding:0 1em;max-width:900px}.FrontRoute__front section{display:flex;flex-direction:row;align-content:center;align-items:center;margin:4vh 0}.FrontRoute__front section:nth-of-type(2){background-color:#fff844;padding:4vh 0;margin:0}.FrontRoute__front section h1{text-align:center;font-size:48px;font-weight:400;padding:0 1em;margin:3vh 2vw}.FrontRoute__front section h1 span{display:inline-block;vertical-align:middle;height:1.5em;width:1.5em;position:relative;margin:.25em}@keyframes FrontRoute__spin{0%{transform:rotate(0deg)}to{transform:rotate(2turn)}}@keyframes FrontRoute__spin2{0%{transform:rotate(0deg)}to{transform:rotate(540deg)}}.FrontRoute__spinningImage{position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;transform-origin:center center;animation:FrontRoute__spin .6s ease-out}.FrontRoute__front:hover .FrontRoute__spinningImage{animation:FrontRoute__spin2 .3s ease-out alternate;animation-fill-mode:forwards}.FrontRoute__pointerImage{position:absolute;left:50%;top:-7%;z-index:2;width:20%;height:20%;margin-left:-10%}.FrontRoute__front section h2{font-size:30px;font-weight:400;margin:0;width:100%;display:flex;flex-direction:row;align-content:center;align-items:center;justify-content:center}.FrontRoute__front section h3{margin-top:0;font-size:30px;font-weight:400}.FrontRoute__front section h2 span{white-space:nowrap;vertical-align:middle}.FrontRoute__front section h2 select{vertical-align:middle;font-size:.9em;margin-left:.5em;min-width:5em;max-width:7em;overflow:hidden}.FrontRoute__cta{display:block;text-align:center}.FrontRoute__cta a,.FrontRoute__cta a:visited{display:inline-block;color:#000;border:1px solid #fff844;border-radius:4px;background:#fff844;padding:.5em 1.5em;cursor:pointer;font-size:32px;outline:none;text-decoration:none}.FrontRoute__cta a:hover{color:#000;border-color:#999;background:#fff333;text-decoration:none}.FrontRoute__cta a:active{background:#fff71e}.FrontRoute__row{display:flex;flex-direction:row;flex-wrap:wrap;align-content:space-between;align-items:center;width:100%;overflow:hidden}.FrontRoute__column{flex:1;margin:1em}.FrontRoute__column:not(:last-of-type){margin-right:60px}.FrontRoute__container b{color:#ddd000}",""]),t.locals={container:"FrontRoute__container",front:"FrontRoute__front",spinningImage:"FrontRoute__spinningImage",spin:"FrontRoute__spin",spin2:"FrontRoute__spin2",pointerImage:"FrontRoute__pointerImage",cta:"FrontRoute__cta",row:"FrontRoute__row",column:"FrontRoute__column"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(38),p=r(l),d=n(85),h=r(d),f=n(157),m=r(f),g=n(158),v=r(g),y=n(177),_=r(y),b=n(495),T=r(b),w=n(27),E=r(w),S=n(498),C=r(S),R=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.userData=p.default.getState(),e.lang=e.userData.language,e.ownRoomName=null,e.pubSub=null,e.isWaiting=!0,e.isRoomCreated=!1,e.state={roomName:null,connected:!1},e._onConnect=function(){return e.onConnect()},e._onDisconnect=function(){return e.onDisconnect()},e}return a(t,e),s(t,[{key:"isTeacher",value:function(){return"native"===this.userData.level}},{key:"isMatchingRoom",value:function(e){var t=[this.isTeacher()?"student":"teacher",this.lang,""].join("-");return 0===e.indexOf(t)}},{key:"setRoom",value:function(e){this.setState({roomName:e})}},{key:"connectToRoom",value:function(e){this.isWaiting=!1,this.pubSub.publish({roomName:e,joined:!0}),this.setRoom(e)}},{key:"createRoom",value:function(){var e=this;this.isWaiting=!0;var t=function(){e.isRoomCreated=!0,e.pubSub.publish({roomName:e.ownRoomName,created:!0})};this.isRoomCreated?t():m.default.createRoom(this.ownRoomName).then(t)}},{key:"findMatch",value:function(){var e=this;m.default.requestRooms().then(function(t){var n=e.isWaiting&&t.find(function(t){return e.isMatchingRoom(t.uniqueName)});t.some(function(t){return t.uniqueName===e.ownRoomName})&&(e.isRoomCreated=!0),n?e.connectToRoom(n.uniqueName):e.createRoom()})}},{key:"onMessage",value:function(e){if(this.isWaiting)return e.joined&&e.roomName===this.ownRoomName?void this.setRoom(e.roomName):void(!e.joined&&this.isMatchingRoom(e.roomName)&&this.connectToRoom(e.roomName))}},{key:"onDisconnect",value:function(){this.isWaiting=!0,this.setState({connected:!1,roomName:null}),this.findMatch()}},{key:"onConnect",value:function(){this.setState({connected:!0})}},{key:"componentWillMount",value:function(){var e=this;if(!navigator.getUserMedia&&!navigator.webkitGetUserMedia&&!navigator.mozGetUserMedia)return void alert("WebRTC is not available in your browser.");this.ownRoomName=[this.isTeacher()?"teacher":"student",this.lang,this.userData.userId].join("-"),this.pubSub=new h.default(this.lang),this.pubSub.connect().then(function(){e.pubSub.onMessage(function(t){return e.onMessage(t)}),e.findMatch()}),this._onUnload=function(){return e.pubSub.end()},window.addEventListener("beforeunload",this._onUnload)}},{key:"componentWillUnmount",value:function(){this._onUnload(),window.removeEventListener("beforeunload",this._onUnload)}},{key:"render",value:function(){return u.default.createElement("div",{className:C.default.container},u.default.createElement("h1",null,this.isTeacher()?"Teaching "+E.default.languages[this.lang]:"Learning "+E.default.languages[this.lang],u.default.createElement(T.default,null)),u.default.createElement("div",{className:C.default.row},u.default.createElement("div",{className:C.default.column70},u.default.createElement(_.default,{lang:this.lang,roomName:this.state.roomName})),u.default.createElement("div",{className:C.default.column},u.default.createElement("div",{className:C.default.videoChat},u.default.createElement(v.default,{roomName:this.state.roomName,onConnect:this._onConnect,onDisconnect:this._onDisconnect})))))}}]),t}(c.PureComponent);t.default=R},function(e,t,n){e.exports.device=n(140),e.exports.thingShadow=n(404)},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(t){function r(e){var t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function i(e,t){function n(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.hostname=t.host,e._reconnectCount++),c[t.protocol](e,t)}if("object"!=typeof e||t||(t=e,e=null),t=t||{},e){if(t=s(a.parse(e,!0),t),null===t.protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(r(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!c[t.protocol]){const i=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss"].filter(function(e,t){return(!i||t%2!=0)&&"function"==typeof c[e]})[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return new o(n,t)}var o=n(338),a=n(150),s=n(151),c={};"browser"!==t.title&&(c.mqtt=n(152),c.tcp=n(152),c.ssl=n(86),c.tls=n(86),c.mqtts=n(86)),c.ws=n(153),c.wss=n(153),e.exports=i,e.exports.connect=i,e.exports.MqttClient=o}).call(t,n(11))},function(e,t,n){"use strict";(function(t,r){function i(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function o(e,t,n){e.emit("packetsend",t),!d.writeToStream(t,e.stream)&&n?e.stream.once("drain",n):n&&n()}function a(e,t,n){e.outgoingStore.put(t,function(r){if(r)return n&&n(r);o(e,t,n)})}function s(){}function c(e,t){var n,r=this;if(!(this instanceof c))return new c(e,t);this.options=t||{};for(n in y)void 0===this.options[n]?this.options[n]=y[n]:this.options[n]=t[n];this.options.clientId=this.options.clientId||i(),this.streamBuilder=e,this.outgoingStore=this.options.outgoingStore||new l,this.incomingStore=this.options.incomingStore||new l,this.queueQoSZero=void 0===this.options.queueQoSZero||this.options.queueQoSZero,this._subscribedTopics={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.floor(65535*Math.random()),this.outgoing={},this.on("connect",function(){if(!this.disconnected){this.connected=!0;var e=null;e=this.outgoingStore.createStream(),e.once("readable",function(){function t(){var n,i=e.read(1);i&&(!r.disconnecting&&!r.reconnectTimer&&r.options.reconnectPeriod>0?(e.read(0),n=r.outgoing[i.messageId],r.outgoing[i.messageId]=function(e,r){n&&n(e,r),t()},r._sendPacket(i)):e.destroy&&e.destroy())}t()}).on("error",this.emit.bind(this,"error"))}}),this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",this._setupPingTimer),this.on("connect",function(){function e(){var n=t.shift(),i=null;n&&(i=n.packet,r._sendPacket(i,function(t){n.cb&&n.cb(t),e()}))}var t=this.queue;e()}),this.on("connect",function(){this.options.clean&&Object.keys(this._subscribedTopics).length>0&&this.subscribe(this._subscribedTopics)}),this.on("close",function(){null!==r.pingTimer&&(r.pingTimer.clear(),r.pingTimer=null)}),this.on("close",this._setupReconnect),u.EventEmitter.call(this),this._setupStream()}var u=n(8),l=n(339),p=n(147),d=n(353),h=n(58).Writable,f=n(24),m=n(360),g=n(361),v=t.setImmediate||function(e){r.nextTick(e)},y={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0};f(c,u.EventEmitter),c.prototype._setupStream=function(){function e(){var t=c.shift(),r=a;t?n._handlePacket(t,e):(a=null,r())}var t,n=this,r=new h,i=d.parser(this.options),a=null,c=[];this._clearReconnect(),this.stream=this.streamBuilder(this),i.on("packet",function(e){c.push(e)}),r._write=function(t,n,r){a=r,i.parse(t),e()},this.stream.pipe(r),this.stream.on("error",s),p(this.stream,this.emit.bind(this,"close")),t=Object.create(this.options),t.cmd="connect",o(this,t),i.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){n._cleanUp(!0)},this.options.connectTimeout)},c.prototype._handlePacket=function(e,t){switch(this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t()}},c.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},c.prototype.publish=function(e,t,n,r){var i;if("function"==typeof n&&(r=n,n=null),n||(n={qos:0,retain:!1}),this._checkDisconnecting(r))return this;switch(i={cmd:"publish",topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:this._nextId()},n.qos){case 1:case 2:this.outgoing[i.messageId]=r||s,this._sendPacket(i);break;default:this._sendPacket(i,r)}return this},c.prototype.subscribe=function(){var e,t,n=Array.prototype.slice.call(arguments),r=[],i=n.shift(),o=n.pop()||s,a=n.pop(),c=this;return"string"==typeof i&&(i=[i]),"function"!=typeof o&&(a=o,o=s),null!==(t=g.validateTopics(i))?(v(o,new Error("Invalid topic "+t)),this):this._checkDisconnecting(o)?this:(a||(a={qos:0}),Array.isArray(i)?i.forEach(function(e){r.push({topic:e,qos:a.qos})}):Object.keys(i).forEach(function(e){r.push({topic:e,qos:i[e]})}),e={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:this._nextId()},this.outgoing[e.messageId]=function(e,t){if(!e){r.forEach(function(e){c._subscribedTopics[e.topic]=e.qos});for(var n=t.granted,i=0;i<n.length;i+=1)r[i].qos=n[i]}o(e,r)},this._sendPacket(e),this)},c.prototype.unsubscribe=function(e,t){var n={cmd:"unsubscribe",qos:1,messageId:this._nextId()},r=this;return t=t||s,this._checkDisconnecting(t)?this:("string"==typeof e?n.unsubscriptions=[e]:"object"==typeof e&&e.length&&(n.unsubscriptions=e),n.unsubscriptions.forEach(function(e){delete r._subscribedTopics[e]}),this.outgoing[n.messageId]=t,this._sendPacket(n),this)},c.prototype.end=function(e,t){function n(){i.disconnected=!0,i.incomingStore.close(function(){i.outgoingStore.close(t)})}function r(){i._cleanUp(e,v.bind(null,n))}var i=this;return"function"==typeof e&&(t=e,e=!1),this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,r,10)):r(),this)},c.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},c.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod))},c.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},c.prototype._cleanUp=function(e,t){t&&this.stream.on("close",t),e?this.stream.destroy():this._sendPacket({cmd:"disconnect"},v.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null)},c.prototype._sendPacket=function(e,t){if(!this.connected)return void(e.qos>0||"publish"!==e.cmd||this.queueQoSZero?this.queue.push({packet:e,cb:t}):t&&t(new Error("No connection to broker")));if(this._shiftPingInterval(),"publish"!==e.cmd)return void o(this,e,t);switch(e.qos){case 2:case 1:a(this,e,t);break;case 0:default:o(this,e,t)}},c.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=m(function(){e._checkPing()},1e3*this.options.keepalive))},c.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},c.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},c.prototype._handlePingresp=function(){this.pingResp=!0},c.prototype._handleConnack=function(e){var t=e.returnCode,n=["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"];clearTimeout(this.connackTimer),0===t?(this.reconnecting=!1,this.emit("connect",e)):t>0&&this.emit("error",new Error("Connection refused: "+n[t]))},c.prototype._handlePublish=function(e,t){var n=e.topic.toString(),r=e.payload,i=e.qos,o=e.messageId,a=this;switch(i){case 2:this.incomingStore.put(e,function(){a._sendPacket({cmd:"pubrec",messageId:o},t)});break;case 1:this._sendPacket({cmd:"puback",messageId:o});case 0:this.emit("message",n,r,e),this.handleMessage(e,t)}},c.prototype.handleMessage=function(e,t){t()},c.prototype._handleAck=function(e){var t=e.messageId,n=e.cmd,r=null,i=this.outgoing[t],o=this;if(i){switch(n){case"pubcomp":case"puback":delete this.outgoing[t],this.outgoingStore.del(e,i);break;case"pubrec":r={cmd:"pubrel",qos:2,messageId:t},this._sendPacket(r);break;case"suback":delete this.outgoing[t],i(null,e);break;case"unsuback":delete this.outgoing[t],i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},c.prototype._handlePubrel=function(e,t){var n=e.messageId,r=this;r.incomingStore.get(e,function(i,o){if(i)return r.emit("error",i);"pubrel"!==o.cmd&&(r.emit("message",o.topic,o.payload,o),r.incomingStore.put(e)),r._sendPacket({cmd:"pubcomp",messageId:n},t)})},c.prototype._nextId=function(){var e=this.nextId++;return 65535===e&&(this.nextId=1),e},e.exports=c}).call(t,n(12),n(11))},function(e,t,n){"use strict";(function(t){function r(){if(!(this instanceof r))return new r;this._inflights={}}var i=n(58).Readable,o={objectMode:!0};r.prototype.put=function(e,t){return this._inflights[e.messageId]=e,t&&t(),this},r.prototype.createStream=function(){var e=new i(o),n=this._inflights,r=Object.keys(this._inflights),a=!1,s=0;return e._read=function(){!a&&s<r.length?this.push(n[r[s++]]):this.push(null)},e.destroy=function(){if(!a){var e=this;a=!0,t.nextTick(function(){e.emit("close")})}},e},r.prototype.del=function(e,t){return e=this._inflights[e.messageId],e?(delete this._inflights[e.messageId],t(null,e)):t&&t(new Error("missing packet")),this},r.prototype.get=function(e,t){return e=this._inflights[e.messageId],e?t(null,e):t&&t(new Error("missing packet")),this},r.prototype.close=function(e){this._inflights=null,e&&e()},e.exports=r}).call(t,n(11))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new p(3*s/4-o),n=o>0?s-4:s;var c=0;for(t=0;t<n;t+=4)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[c++]=255&i):1===o&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function c(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,c=n-r;a<c;a+=16383)o.push(s(e,a,a+16383>c?c:a+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=c;for(var u=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=d.length;h<f;++h)u[h]=d[h],l[d.charCodeAt(h)]=h;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?i-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,p=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+p>=1?d/c:d*Math.pow(2,1-p),t*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=f,a/=256,u-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(28).Buffer;e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(347);var o=n(348);t.setImmediate=o.setImmediate,t.clearImmediate=o.clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,s(c),c++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var e=p.documentElement;s=function(t){var n=p.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(12),n(11))},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(12))},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(12))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(146),o=n(50);o.inherits=n(24),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var o=n(352);e.exports=o(r),e.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){function n(e,t){function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return n(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}e.exports=n},function(e,t,n){"use strict";t.parser=n(354),t.generate=n(358),t.writeToStream=n(149)},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}var i=n(355),o=n(24),a=n(8).EventEmitter,s=n(357),c=n(148);o(r,a),r.prototype._resetState=function(){this.packet=new s,this.error=null,this._list=i(),this._stateCounter=0},r.prototype.parse=function(e){for(this.error&&this._resetState(),this._list.append(e);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)++this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},r.prototype._parseHeader=function(){var e=this._list.readUInt8(0);return this.packet.cmd=c.types[e>>c.CMD_SHIFT],this.packet.retain=0!=(e&c.RETAIN_MASK),this.packet.qos=e>>c.QOS_SHIFT&c.QOS_MASK,this.packet.dup=0!=(e&c.DUP_MASK),this._list.consume(1),!0},r.prototype._parseLength=function(){for(var e,t=0,n=1,r=0,i=!0;t<5&&(e=this._list.readUInt8(t++),r+=n*(e&c.LENGTH_MASK),n*=128,0!=(e&c.LENGTH_FIN_MASK));)if(this._list.length<=t){i=!1;break}return i&&(this.packet.length=r,this._list.consume(t)),i},r.prototype._parsePayload=function(){var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}e=!0}return e},r.prototype._parseConnect=function(){var e,t,n,r,i,o,a={},s=this.packet;if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==e&&"MQIsdp"!==e)return this._emitError(new Error("Invalid protocolId"));if(s.protocolId=e,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.protocolVersion=this._list.readUInt8(this._pos),3!==s.protocolVersion&&4!==s.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(++this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.username=this._list.readUInt8(this._pos)&c.USERNAME_MASK,a.password=this._list.readUInt8(this._pos)&c.PASSWORD_MASK,a.will=this._list.readUInt8(this._pos)&c.WILL_FLAG_MASK,a.will&&(s.will={},s.will.retain=0!=(this._list.readUInt8(this._pos)&c.WILL_RETAIN_MASK),s.will.qos=(this._list.readUInt8(this._pos)&c.WILL_QOS_MASK)>>c.WILL_QOS_SHIFT),s.clean=0!=(this._list.readUInt8(this._pos)&c.CLEAN_SESSION_MASK),this._pos++,s.keepalive=this._parseNum(),-1===s.keepalive)return this._emitError(new Error("Packet too short"));if(null===(t=this._parseString()))return this._emitError(new Error("Packet too short"));if(s.clientId=t,a.will){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(s.will.topic=n,null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));s.will.payload=r}if(a.username){if(null===(o=this._parseString()))return this._emitError(new Error("Cannot parse username"));s.username=o}if(a.password){if(null===(i=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));s.password=i}return s},r.prototype._parseConnack=function(){var e=this.packet;return this._list.length<2?null:(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&c.SESSIONPRESENT_MASK),e.returnCode=this._list.readUInt8(this._pos),-1===e.returnCode?this._emitError(new Error("Cannot parse return code")):void 0)},r.prototype._parsePublish=function(){var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));e.qos>0&&!this._parseMessageId()||(e.payload=this._list.slice(this._pos,e.length))},r.prototype._parseSubscribe=function(){var e,t,n=this.packet;if(1!==n.qos)return this._emitError(new Error("Wrong subscribe header"));if(n.subscriptions=[],this._parseMessageId())for(;this._pos<n.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));t=this._list.readUInt8(this._pos++),n.subscriptions.push({topic:e,qos:t})}},r.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},r.prototype._parseUnsubscribe=function(){var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId())for(;this._pos<e.length;){var t;if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));e.unsubscriptions.push(t)}},r.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},r.prototype._parseMessageId=function(){var e=this.packet;return e.messageId=this._parseNum(),null!==e.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},r.prototype._parseString=function(e){var t,n=this._parseNum(),r=n+this._pos;return-1===n||r>this._list.length||r>this.packet.length?null:(t=this._list.toString("utf8",this._pos,r),this._pos+=n,t)},r.prototype._parseBuffer=function(){var e,t=this._parseNum(),n=t+this._pos;return-1===t||n>this._list.length||n>this.packet.length?null:(e=this._list.slice(this._pos,n),this._pos+=t,e)},r.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,e},r.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new s,!0},r.prototype._emitError=function(e){this.error=e,this.emit("error",e)},e.exports=r},function(e,t,n){(function(t){function r(e){if(!(this instanceof r))return new r(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else this.append(e);i.call(this)}var i=n(356);n(0).inherits(r,i),r.prototype._offset=function(e){var t,n=0,r=0;if(0===e)return[0,0];for(;r<this._bufs.length;r++){if(t=n+this._bufs[r].length,e<t||r==this._bufs.length-1)return[r,e-n];n=t}},r.prototype.append=function(e){var n=0;if(t.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;n<e.length;n++)this.append(e[n]);else if(e instanceof r)for(;n<e._bufs.length;n++)this.append(e._bufs[n]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(new t(e)));return this},r.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},r.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},r.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},r.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype.get=function(e){return this.slice(e,e+1)[0]},r.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},r.prototype.copy=function(e,n,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||new t(0);if(i<=0)return e||new t(0);var o,a,s=!!e,c=this._offset(r),u=i-r,l=u,p=s&&n||0,d=c[1];if(0===r&&i==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:t.concat(this._bufs,this.length);for(a=0;a<this._bufs.length;a++)this._bufs[a].copy(e,p),p+=this._bufs[a].length;return e}if(l<=this._bufs[c[0]].length-d)return s?this._bufs[c[0]].copy(e,n,d,d+l):this._bufs[c[0]].slice(d,d+l);for(s||(e=new t(u)),a=c[0];a<this._bufs.length;a++){if(o=this._bufs[a].length-d,!(l>o)){this._bufs[a].copy(e,p,d,d+l);break}this._bufs[a].copy(e,p,d),p+=o,l-=o,d&&(d=0)}return e},r.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var n=this._offset(e),i=this._offset(t),o=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),0!=n[1]&&(o[0]=o[0].slice(n[1])),new r(o)},r.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},r.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){for(var e=0,t=new r;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},r.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){r.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),e.exports=r}).call(t,n(29).Buffer)},function(e,t,n){e.exports=n(30)},function(e,t){function n(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}e.exports=n},function(e,t,n){"use strict";function r(e){var t=new i;return a(e,t),t.concat()}function i(){this._array=new Array(20),this._i=0}var o=n(28).Buffer,a=n(149),s=n(8).EventEmitter;n(24)(i,s),i.prototype.write=function(e){return this._array[this._i++]=e,!0},i.prototype.concat=function(){var e,t,n=0,r=new Array(this._array.length),i=this._array,a=0;for(e=0;e<i.length&&i[e];e++)"string"!=typeof i[e]?r[e]=i[e].length:r[e]=o.byteLength(i[e]),n+=r[e];for(t=o.allocUnsafe(n),e=0;e<i.length&&i[e];e++)"string"!=typeof i[e]?(i[e].copy(t,a),a+=r[e]):(t.write(i[e],a),a+=r[e]);return t},e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.allocUnsafe(2);return t.writeUInt8(e>>8,0,!0),t.writeUInt8(255&e,1,!0),t}function i(){for(var e=0;e<a;e++)s[e]=r(e)}var o=n(28).Buffer,a=65536,s={};e.exports={cache:s,generateCache:i,generateNumber:r}},function(e,t,n){"use strict";function r(e,t,n){var r=this;this._callback=e,this._args=n,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=r._interval),r._interval&&clearInterval(r._interval),r._interval=setInterval(r._callback,e,r._args)},this.clear=function(){r._interval&&(clearInterval(r._interval),r._interval=void 0)},this.destroy=function(){r._interval&&clearInterval(r._interval),r._callback=void 0,r._interval=void 0,r._args=void 0}}function i(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new r(arguments[0],arguments[1],e)}e.exports=i},function(e,t,n){"use strict";function r(e){for(var t=e.split("/"),n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(-1!==t[n].indexOf("+")||-1!==t[n].indexOf("#"))return!1}return!0}function i(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!r(e[t]))return e[t];return null}e.exports={validateTopics:i}},function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(P[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(O,"."),r+s(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function p(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:T}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?M(e/C):e>>1,e+=M(e/t);e>N*E>>1;r+=T)e=M(e/N);return M(r+(N+1)*e/(e+S))}function f(e){var t,n,r,i,o,s,c,u,d,f,m=[],g=e.length,v=0,y=k,_=R;for(n=e.lastIndexOf(I),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,c=T;i>=g&&a("invalid-input"),u=p(e.charCodeAt(i++)),(u>=T||u>M((b-v)/s))&&a("overflow"),v+=u*s,d=c<=_?w:c>=_+E?E:c-_,!(u<d);c+=T)f=T-d,s>M(b/f)&&a("overflow"),s*=f;t=m.length+1,_=h(v-o,t,0==o),M(v/t)>b-y&&a("overflow"),y+=M(v/t),v%=t,m.splice(v++,0,y)}return l(m)}function m(e){var t,n,r,i,o,s,c,l,p,f,m,g,v,y,_,S=[];for(e=u(e),g=e.length,t=k,n=0,o=R,s=0;s<g;++s)(m=e[s])<128&&S.push(D(m));for(r=i=S.length,i&&S.push(I);r<g;){for(c=b,s=0;s<g;++s)(m=e[s])>=t&&m<c&&(c=m);for(v=r+1,c-t>M((b-n)/v)&&a("overflow"),n+=(c-t)*v,t=c,s=0;s<g;++s)if(m=e[s],m<t&&++n>b&&a("overflow"),m==t){for(l=n,p=T;f=p<=o?w:p>=o+E?E:p-o,!(l<f);p+=T)_=l-f,y=T-f,S.push(D(d(f+_%y,0))),l=M(_/y);S.push(D(d(l,0))),o=h(n,v,r==i),n=0,++r}++n,++t}return S.join("")}function g(e){return c(e,function(e){return A.test(e)?f(e.slice(4).toLowerCase()):e})}function v(e){return c(e,function(e){return x.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var _,b=2147483647,T=36,w=1,E=26,S=38,C=700,R=72,k=128,I="-",A=/^xn--/,x=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=T-w,M=Math.floor,D=String.fromCharCode;_={version:"1.4.1",ucs2:{decode:u,encode:l},decode:f,encode:m,toASCII:v,toUnicode:g},void 0!==(i=function(){return _}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(137)(e),n(12))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(365),t.encode=t.stringify=n(366)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,d,h,f,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),d=m.substr(g+1)):(p=m,d=""),h=decodeURIComponent(p),f=decodeURIComponent(d),r(a,h)?i(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){},function(e,t){},function(e,t,n){(function(t){function r(e){a.call(this,e),this._destroyed=!1}function i(e,t,n){n(null,e)}function o(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=i),"function"!=typeof r&&(r=null),e(t,n,r)}}var a=n(370),s=n(0).inherits,c=n(151);s(r,a),r.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var n=this;t.nextTick(function(){e&&n.emit("error",e),n.emit("close")})}},e.exports=o(function(e,t,n){var i=new r(e);return i._transform=t,n&&(i._flush=n),i}),e.exports.ctor=o(function(e,t,n){function i(t){if(!(this instanceof i))return new i(t);this.options=c(e,t),r.call(this,this.options)}return s(i,r),i.prototype._transform=t,n&&(i.prototype._flush=n),i}),e.exports.obj=o(function(e,t,n){var i=new r(c({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i})}).call(t,n(11))},function(e,t,n){e.exports=n(58).Transform},function(e,t,n){(function(t,r){var i=n(58),o=n(147),a=n(24),s=n(372),c=new t([0]),u=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(n){n?e.destroy("premature close"===n.message?null:n):t&&!e._ended&&e.end()}},p=function(e,t){return e?e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),void t()):t()},d=function(e){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},h=function(e,t,n){if(!(this instanceof h))return new h(e,t,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};a(h,i.Duplex),h.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new h(e,t,n)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||!1===e)return void this.end();var t=this,n=o(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()},a=function(){t._writable.removeListener("drain",i),n()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=a,this.uncork()},h.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||!1===e)return this.push(null),void this.resume();var t=this,n=o(e,{writable:!1,readable:!0},l(this)),r=function(){t._forward()},i=function(){t.push(null)},a=function(){t._readable2.removeListener("readable",r),t._readable2.removeListener("end",i),n()};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:d(e),this._readable2.on("readable",r),this._readable2.on("end",i),this._unread=a,this._forward()},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},h.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick(function(){t._destroy(e)})}},h.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?u(this,this._write.bind(this,e,t,n)):e===c?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:n()):n()},h.prototype._finish=function(e){var t=this;this.emit("preend"),u(this,function(){p(t._forwardEnd&&t._writable,function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),u(t,e)})})},h.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(c),i.Writable.prototype.end.call(this,n))},e.exports=h}).call(t,n(29).Buffer,n(11))},function(e,t){function n(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(r(t)):null}function r(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}e.exports=n},function(e,t){var n=null;n="undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof MozWebSocket?MozWebSocket:window.WebSocket||window.MozWebSocket,e.exports=n},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(59),n(375),n(376),n(39),n(40),n(87),n(155),n(377),n(156),n(378),n(379),n(380),n(88),n(381),n(41),n(10),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397))}(0,function(e){return e})},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,n=t.lib,r=n.WordArray,i=r.init;(r.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],r=0;r<t;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)}).prototype=r}}(),e.lib.WordArray})},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){return function(){function t(e){return e<<8&4278255360|e>>>8&16711935}var n=e,r=n.lib,i=r.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return i.create(n,2*t)}};o.Utf16LE={stringify:function(e){for(var n=e.words,r=e.sigBytes,i=[],o=0;o<r;o+=2){var a=t(n[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=t(e.charCodeAt(o)<<16-o%2*16);return i.create(r,2*n)}}}(),e.enc.Utf16})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(155))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(59),n(156))}(0,function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),e.SHA384})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(59))}(0,function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.x64,s=a.Word,c=n.algo,u=[],l=[],p=[];!function(){for(var e=1,t=0,n=0;n<24;n++){u[e+5*t]=(n+1)*(n+2)/2%64;var r=t%5,i=(2*e+3*t)%5;e=r,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,a=0;a<24;a++){for(var c=0,d=0,h=0;h<7;h++){if(1&o){var f=(1<<h)-1;f<32?d^=1<<f:c^=1<<f-32}128&o?o=o<<1^113:o<<=1}p[a]=s.create(c,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var h=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);var s=n[i];s.high^=a,s.low^=o}for(var c=0;c<24;c++){for(var h=0;h<5;h++){for(var f=0,m=0,g=0;g<5;g++){var s=n[h+5*g];f^=s.high,m^=s.low}var v=d[h];v.high=f,v.low=m}for(var h=0;h<5;h++)for(var y=d[(h+4)%5],_=d[(h+1)%5],b=_.high,T=_.low,f=y.high^(b<<1|T>>>31),m=y.low^(T<<1|b>>>31),g=0;g<5;g++){var s=n[h+5*g];s.high^=f,s.low^=m}for(var w=1;w<25;w++){var s=n[w],E=s.high,S=s.low,C=u[w];if(C<32)var f=E<<C|S>>>32-C,m=S<<C|E>>>32-C;else var f=S<<C-32|E>>>64-C,m=E<<C-32|S>>>64-C;var R=d[l[w]];R.high=f,R.low=m}var k=d[0],I=n[0];k.high=I.high,k.low=I.low;for(var h=0;h<5;h++)for(var g=0;g<5;g++){var w=h+5*g,s=n[w],A=d[w],x=d[(h+1)%5+5*g],O=d[(h+2)%5+5*g];s.high=A.high^~x.high&O.high,s.low=A.low^~x.low&O.low}var s=n[0],P=p[c];s.high^=P.high,s.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var p=a[l],d=p.high,h=p.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(d)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(h),n.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3})},function(e,t,n){!function(r,i){e.exports=t=i(n(2))}(0,function(e){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(t){function n(e,t,n){return e^t^n}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return(e|~t)^n}function o(e,t,n){return e&n|t&~n}function a(e,t,n){return e^(t|~n)}function s(e,t){return e<<t|e>>>32-t}var c=e,u=c.lib,l=u.WordArray,p=u.Hasher,d=c.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=l.create([0,1518500249,1859775393,2400959708,2840853838]),y=l.create([1352829926,1548603684,1836072691,2053994217,0]),_=d.RIPEMD160=p.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var c=0;c<16;c++){var u=t+c,l=e[u];e[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var p,d,_,b,T,w,E,S,C,R,k=this._hash.words,I=v.words,A=y.words,x=h.words,O=f.words,P=m.words,N=g.words;w=p=k[0],E=d=k[1],S=_=k[2],C=b=k[3],R=T=k[4];for(var M,c=0;c<80;c+=1)M=p+e[t+x[c]]|0,M+=c<16?n(d,_,b)+I[0]:c<32?r(d,_,b)+I[1]:c<48?i(d,_,b)+I[2]:c<64?o(d,_,b)+I[3]:a(d,_,b)+I[4],M|=0,M=s(M,P[c]),M=M+T|0,p=T,T=b,b=s(_,10),_=d,d=M,M=w+e[t+O[c]]|0,M+=c<16?a(E,S,C)+A[0]:c<32?o(E,S,C)+A[1]:c<48?i(E,S,C)+A[2]:c<64?r(E,S,C)+A[3]:n(E,S,C)+A[4],M|=0,M=s(M,N[c]),M=M+R|0,w=R,R=C,C=s(S,10),S=E,E=M;M=k[1]+_+C|0,k[1]=k[2]+b+R|0,k[2]=k[3]+T+w|0,k[3]=k[4]+p+E|0,k[4]=k[0]+d+S|0,k[0]=M},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=p.clone.call(this);return e._hash=this._hash.clone(),e}});c.RIPEMD160=p._createHelper(_),c.HmacRIPEMD160=p._createHmacHelper(_)}(Math),e.RIPEMD160})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(87),n(88))}(0,function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,c=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),o=i.create(),a=i.create([1]),c=o.words,u=a.words,l=n.keySize,p=n.iterations;c.length<l;){var d=r.update(t).finalize(a);r.reset();for(var h=d.words,f=h.length,m=d,g=1;g<p;g++){m=r.finalize(m),r.reset();for(var v=m.words,y=0;y<f;y++)h[y]^=v[y]}o.concat(d),u[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,n){return c.create(n).compute(e,t)}}(),e.PBKDF2})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.mode.CFB=function(){function t(e,t,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else var o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}var n=e.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),n}(),e.mode.CFB})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}});return t.Decryptor=n,t}(),e.mode.CTR})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)e[t+c]^=s[c]}});return r.Decryptor=i,r}(),e.mode.CTRGladman})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}});return t.Decryptor=n,t}(),e.mode.OFB})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},e.pad.ZeroPadding})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(10))}(0,function(e){return function(t){var n=e,r=n.lib,i=r.CipherParams,o=n.enc,a=o.Hex,s=n.format;s.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return i.create({ciphertext:t})}}}(),e.format.Hex})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(39),n(40),n(41),n(10))}(0,function(e){return function(){var t=e,n=t.lib,r=n.BlockCipher,i=t.algo,o=[],a=[],s=[],c=[],u=[],l=[],p=[],d=[],h=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=0,r=0,t=0;t<256;t++){var i=r^r<<1^r<<2^r<<3^r<<4;i=i>>>8^255&i^99,o[n]=i,a[i]=n;var m=e[n],g=e[m],v=e[g],y=257*e[i]^16843008*i;s[n]=y<<24|y>>>8,c[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,l[n]=y;var y=16843009*v^65537*g^257*m^16843008*n;p[i]=y<<24|y>>>8,d[i]=y<<16|y>>>16,h[i]=y<<8|y>>>24,f[i]=y,n?(n=m^e[e[e[v^m]]],r^=e[e[r]]):n=r=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=r.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,i=4*(r+1),a=this._keySchedule=[],s=0;s<i;s++)if(s<n)a[s]=t[s];else{var c=a[s-1];s%n?n>6&&s%n==4&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c]):(c=c<<8|c>>>24,c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c],c^=m[s/n|0]<<24),a[s]=a[s-n]^c}for(var u=this._invKeySchedule=[],l=0;l<i;l++){var s=i-l;if(l%4)var c=a[s];else var c=a[s-4];u[l]=l<4||s<=4?c:p[o[c>>>24]]^d[o[c>>>16&255]]^h[o[c>>>8&255]]^f[o[255&c]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,c,u,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,p,d,h,f,a);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],h=4,f=1;f<c;f++){var m=r[u>>>24]^i[l>>>16&255]^o[p>>>8&255]^a[255&d]^n[h++],g=r[l>>>24]^i[p>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],v=r[p>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[h++],y=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&p]^n[h++];u=m,l=g,p=v,d=y}var m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[h++],g=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],v=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[h++];e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});t.AES=r._createHelper(g)}(),e.AES})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(39),n(40),n(41),n(10))}(0,function(e){return function(){function t(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function n(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var r=e,i=r.lib,o=i.WordArray,a=i.BlockCipher,s=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=a.extend({_doReset:function(){for(var e=this._key,t=e.words,n=[],r=0;r<56;r++){var i=c[r]-1;n[r]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],a=0;a<16;a++){for(var s=o[a]=[],p=l[a],r=0;r<24;r++)s[r/6|0]|=n[(u[r]-1+p)%28]<<31-r%6,s[4+(r/6|0)]|=n[28+(u[r+24]-1+p)%28]<<31-r%6;s[0]=s[0]<<1|s[0]>>>31;for(var r=1;r<7;r++)s[r]=s[r]>>>4*(r-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(var d=this._invSubKeys=[],r=0;r<16;r++)d[r]=o[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,r,i){this._lBlock=e[r],this._rBlock=e[r+1],t.call(this,4,252645135),t.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;o<16;o++){for(var a=i[o],s=this._lBlock,c=this._rBlock,u=0,l=0;l<8;l++)u|=p[l][((c^a[l])&d[l])>>>0];this._lBlock=c,this._rBlock=s^u}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,t.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),e[r]=this._lBlock,e[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=a._createHelper(h);var f=s.TripleDES=a.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=h.createEncryptor(o.create(t.slice(0,2))),this._des2=h.createEncryptor(o.create(t.slice(2,4))),this._des3=h.createEncryptor(o.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});r.TripleDES=a._createHelper(f)}(),e.TripleDES})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(39),n(40),n(41),n(10))}(0,function(e){return function(){function t(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){t=(t+1)%256,n=(n+e[t])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}var n=e,r=n.lib,i=r.StreamCipher,o=n.algo,a=o.RC4=i.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;for(var i=0,o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,n){e[n]^=t.call(this)},keySize:8,ivSize:0});n.RC4=i._createHelper(a);var s=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});n.RC4Drop=i._createHelper(s)}(),e.RC4})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(39),n(40),n(41),n(10))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,a=((i*i>>>17)+i*o>>>15)+o*o,u=((4294901760&r)*r|0)+((65535&r)*r|0);c[n]=a^u}e[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,e[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,e[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,e[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,e[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,e[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,e[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,e[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}var n=e,r=n.lib,i=r.StreamCipher,o=n.algo,a=[],s=[],c=[],u=o.Rabbit=i.extend({_doReset:function(){for(var e=this._key.words,n=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)t.call(this);for(var r=0;r<8;r++)o[r]^=i[r+4&7];if(n){var a=n.words,s=a[0],c=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,d=l<<16|65535&u;o[0]^=u,o[1]^=p,o[2]^=l,o[3]^=d,o[4]^=u,o[5]^=p,o[6]^=l,o[7]^=d;for(var r=0;r<4;r++)t.call(this)}},_doProcessBlock:function(e,n){var r=this._X;t.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)a[i]=16711935&(a[i]<<8|a[i]>>>24)|4278255360&(a[i]<<24|a[i]>>>8),e[n+i]^=a[i]},blockSize:4,ivSize:2});n.Rabbit=i._createHelper(u)}(),e.Rabbit})},function(e,t,n){!function(r,i,o){e.exports=t=i(n(2),n(39),n(40),n(41),n(10))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,a=((i*i>>>17)+i*o>>>15)+o*o,u=((4294901760&r)*r|0)+((65535&r)*r|0);c[n]=a^u}e[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,e[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,e[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,e[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,e[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,e[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,e[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,e[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}var n=e,r=n.lib,i=r.StreamCipher,o=n.algo,a=[],s=[],c=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var e=this._key.words,n=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)t.call(this);for(var o=0;o<8;o++)i[o]^=r[o+4&7];if(n){var a=n.words,s=a[0],c=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,d=l<<16|65535&u;i[0]^=u,i[1]^=p,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=p,i[6]^=l,i[7]^=d;for(var o=0;o<4;o++)t.call(this)}},_doProcessBlock:function(e,n){var r=this._X;t.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)a[i]=16711935&(a[i]<<8|a[i]>>>24)|4278255360&(a[i]<<24|a[i]>>>8),e[n+i]^=a[i]},blockSize:4,ivSize:2});n.RabbitLegacy=i._createHelper(u)}(),e.RabbitLegacy})},function(e,t){e.exports={INVALID_CONNECT_OPTIONS:"Invalid connect options supplied.",INVALID_CLIENT_ID_OPTION:'Invalid "clientId" (mqtt client id) option supplied.',INVALID_RECONNECT_TIMING:"Invalid reconnect timing options supplied.",INVALID_OFFLINE_QUEUEING_PARAMETERS:"Invalid offline queueing options supplied."}},function(e,t,n){(function(t){var r=n(90),i=n(89),o=n(400);e.exports=function(e){if(i(e.keyPath)&&i(e.privateKey))throw new Error(o.NO_KEY_OPTION);if(i(e.certPath)&&i(e.clientCert))throw new Error(o.NO_CERT_OPTION);if(i(e.caPath)&&i(e.caCert))throw new Error(o.NO_CA_OPTION);if(!i(e.caCert))if(t.isBuffer(e.caCert))e.ca=e.caCert;else{if(!r.existsSync(e.caCert))throw new Error(o.INVALID_CA_CERT_OPTION);e.ca=r.readFileSync(e.caCert)}if(!i(e.privateKey))if(t.isBuffer(e.privateKey))e.key=e.privateKey;else{if(!r.existsSync(e.privateKey))throw new Error(o.INVALID_PRIVATE_KEY_OPTION);e.key=r.readFileSync(e.privateKey)}if(!i(e.clientCert))if(t.isBuffer(e.clientCert))e.cert=e.clientCert;else{if(!r.existsSync(e.clientCert))throw new Error(o.INVALID_CLIENT_CERT_OPTION);e.cert=r.readFileSync(e.clientCert)}if(r.existsSync(e.keyPath))e.key=r.readFileSync(e.keyPath);else if(!i(e.keyPath))throw new Error(o.INVALID_KEY_PATH_OPTION);if(r.existsSync(e.certPath))e.cert=r.readFileSync(e.certPath);else if(!i(e.certPath))throw new Error(o.INVALID_CERT_PATH_OPTION);if(r.existsSync(e.caPath))e.ca=r.readFileSync(e.caPath);else if(!i(e.caPath))throw new Error(o.INVALID_CA_PATH_OPTION);e.requestCert=!0,e.rejectUnauthorized=!0}}).call(t,n(29).Buffer)},function(e,t){e.exports={NO_KEY_OPTION:'No "keyPath" or "privateKey" option supplied.',NO_CERT_OPTION:'No "certPath" or "clientCert" option supplied.',NO_CA_OPTION:'No "caPath" or "caCert" option supplied.',INVALID_KEY_PATH_OPTION:'Invalid "keyPath" option supplied.',INVALID_CERT_PATH_OPTION:'Invalid "certPath" option supplied.',INVALID_CA_PATH_OPTION:'Invalid "caPath" option supplied.',INVALID_CLIENT_CERT_OPTION:'Invalid "clientCert" option supplied.',INVALID_PRIVATE_KEY_OPTION:'Invalid "privateKey" option supplied.',INVALID_CA_CERT_OPTION:'Invalid "caCert" option supplied.'}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}for(var u=[],c=s;c<i.length;c++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(11))},function(e,t,n){function r(e,t){function n(t){e.emit("error",t),r.end()}var r;return r=i.connect(t),r.on("secureConnect",function(){r.authorized?r.removeListener("error",n):r.emit("error",new Error("TLS not authorized"))}),r.on("error",n),r}var i=n(90);e.exports=r},function(e,t,n){function r(e,t){return i(t.url,["mqttv3.1"],t.websocketOptions)}const i=n(154);e.exports=r},function(e,t,n){function r(e,t,n){return l(n)?"$aws/things/"+e+"/shadow/"+t:"$aws/things/"+e+"/shadow/"+t+"/"+n}function i(e){return"$aws/things/"===e.substring(0,12)}function o(e,t){var n=!1;return"$aws"===e[0]&&("things"!==e[1]||"shadow"!==e[3]||"update"!==e[4]&&"get"!==e[4]&&"delete"!==e[4]||("subscribe"===t?"accepted"!==e[5]&&"rejected"!==e[5]&&"delta"!==e[5]||6!==e.length||(n=!0):5===e.length&&(n=!0))),n}function a(e,t){if(!(this instanceof a))return new a(e,t);var n=this,c=[{}],p=0,d=1e4,h=!0,f=u.DeviceClient(e);l(t)||l(t.operationTimeout)||(d=t.operationTimeout),this._handleSubscriptions=function(e,t,n,i){for(var o=[],a=0,s=t.length;a<s;a++)for(var u=0,p=t[a].operations.length;u<p;u++)for(var d=0,h=t[a].statii.length;d<h;d++)o.push(r(e,t[a].operations[u],t[a].statii[d]));!0===c[e].debug&&console.log(n+" on "+o);var m=[];m.push(o),"subscribe"===n?(m.push({qos:c[e].qos}),m.push(function(e,t){if(!l(i)){if(e)return void i(e);for(var n=[],r=0,o=t.length;r<o;r++)128===t[r].qos&&n.push(t[r]);if(n.length>0)return void i("Not all subscriptions were granted",n);i()}})):l(i)||m.push(i),f[n].apply(f,m)},this._handleMessages=function(t,n,r,i){var o={};try{o=JSON.parse(i.toString())}catch(t){return void(!0===e.debug&&console.error("failed parsing JSON '"+i.toString()+"', "+t))}var a=o.clientToken,s=o.version;if(delete o.clientToken,delete o.version,!l(s)&&"rejected"!==r)if(l(c[t].version)||s>=c[t].version)c[t].version=s;else if("delete"!==n&&!0===c[t].discardStale)return void(!0===e.debug&&console.warn("out-of-date version '"+s+"' on '"+t+"' (local version '"+c[t].version+"')"));return"delta"===r?void this.emit("delta",t,o):l(c[t].clientToken)||c[t].clientToken!==a?void("accepted"===r&&"get"!==n&&this.emit("foreignStateChange",t,n,o)):(clearTimeout(c[t].timeout),delete c[t].timeout,delete c[t].clientToken,c[t].pending=!1,!1===c[t].persistentSubscribe&&this._handleSubscriptions(t,[{operations:[n],statii:["accepted","rejected"]}],"unsubscribe"),void this.emit("status",t,r,a,o))},f.on("connect",function(){n.emit("connect")}),f.on("close",function(){n.emit("close")}),f.on("reconnect",function(){n.emit("reconnect")}),f.on("offline",function(){n.emit("offline")}),f.on("error",function(e){n.emit("error",e)}),f.on("message",function(e,t){if(!0===h){var r=e.split("/");o(r,"subscribe")?c.hasOwnProperty(r[2])&&n._handleMessages(r[2],r[4],r[5],t):n.emit("message",e,t)}}),this._thingOperation=function(t,i,o){var a=null;if(c.hasOwnProperty(t))if(!1===c[t].pending){c[t].pending=!0;var s;if(l(o.clientToken)){var u=e.clientId.length;s=u>48?e.clientId.substr(u-48)+"-"+p++:e.clientId+"-"+p++}else s=o.clientToken;c[t].clientToken=s;var h=r(t,i);c[t].timeout=setTimeout(function(e,t){!1===c[e].persistentSubscribe&&n._handleSubscriptions(e,[{operations:[i],statii:["accepted","rejected"]}],"unsubscribe"),c[e].pending=!1,n.emit("timeout",e,t),delete c[e].timeout,delete c[e].clientToken},d,t,s),!1===c[t].persistentSubscribe?this._handleSubscriptions(t,[{operations:[i],statii:["accepted","rejected"]}],"subscribe",function(e,n){if(!l(e)||!l(n))return void console.warn("failed subscription to accepted/rejected topics");l(o)||(!l(c[t].version)&&c[t].enableVersioning&&(o.version=c[t].version),o.clientToken=s,f.publish(h,JSON.stringify(o),{qos:c[t].qos}),l(c[t])||!0!==c[t].debug||console.log("publishing '"+JSON.stringify(o)+" on '"+h+"'"))}):(!l(c[t].version)&&c[t].enableVersioning&&(o.version=c[t].version),o.clientToken=s,f.publish(h,JSON.stringify(o),{qos:c[t].qos}),!0===c[t].debug&&console.log("publishing '"+JSON.stringify(o)+" on '"+h+"'")),a=s}else!0===e.debug&&console.error(i+" still in progress on thing: ",t);else!0===e.debug&&console.error("attempting to "+i+" unknown thing: ",t);return a},this.register=function(t,n,r){if(c.hasOwnProperty(t))!0===e.debug&&console.error("thing already registered: ",t);else{var i=!1,o=[];c[t]={persistentSubscribe:!0,debug:!1,discardStale:!0,enableVersioning:!0,qos:0,pending:!0},"function"==typeof n&&(r=n,n=null),l(n)||(l(n.ignoreDeltas)||(i=n.ignoreDeltas),l(n.persistentSubscribe)||(c[t].persistentSubscribe=n.persistentSubscribe),l(n.debug)||(c[t].debug=n.debug),l(n.discardStale)||(c[t].discardStale=n.discardStale),l(n.enableVersioning)||(c[t].enableVersioning=n.enableVersioning),l(n.qos)||(c[t].qos=n.qos)),!1===i&&o.push({operations:["update"],statii:["delta"]}),!0===c[t].persistentSubscribe&&o.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),o.length>0?this._handleSubscriptions(t,o,"subscribe",function(e,n){l(e)&&l(n)&&(c[t].pending=!1),l(r)||r(e,n)}):(c[t].pending=!1,l(r)||r())}},this.unregister=function(t){if(c.hasOwnProperty(t)){var n=[];n.push({operations:["update"],statii:["delta"]}),!0===c[t].persistentSubscribe&&n.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),this._handleSubscriptions(t,n,"unsubscribe"),l(c[t].timeout)||clearTimeout(c[t].timeout),delete c[t]}else!0===e.debug&&console.error("attempting to unregister unknown thing: ",t)},this.update=function(e,t){var r=null;return l(t.version)?r=n._thingOperation(e,"update",t):console.error("message can't contain 'version' property"),r},this.get=function(e,t){var r={};return l(t)||(r.clientToken=t),n._thingOperation(e,"get",r)},this.delete=function(e,t){var r={};return l(t)||(r.clientToken=t),n._thingOperation(e,"delete",r)},this.publish=function(e,t,n,r){if(i(e))throw"cannot publish to reserved topic '"+e+"'";f.publish(e,t,n,r)},this.subscribe=function(e,t,n){var r=[];"string"==typeof e?r.push(e):"object"==typeof e&&e.length&&(r=e);for(var o=0;o<r.length;o++)if(i(r[o]))throw"cannot subscribe to topic array since one of them is a reserved topic '"+r[o]+"'";f.subscribe(r,t,n)},this.unsubscribe=function(e,t){var n=[];"string"==typeof e?n.push(e):"object"==typeof e&&e.length&&(n=e);for(var r=0;r<n.length;r++)if(i(n[r]))throw"cannot unsubscribe from topic array since one of them is a reserved topic '"+n[r]+"'";f.unsubscribe(n,t)},this.end=function(e,t){f.end(e,t)},this.updateWebSocketCredentials=function(e,t,n,r){f.updateWebSocketCredentials(e,t,n,r)},this.setConnectionStatus=function(e){h=e},s.EventEmitter.call(this)}var s=n(8),c=n(0).inherits,u=n(140),l=n(89);c(a,s.EventEmitter),e.exports=a},function(e,t,n){"use strict";var r=n(91).version,i={};Object.defineProperties(i,{connect:{enumerable:!0,value:n(406)},createLocalAudioTrack:{enumerable:!0,value:n(176).audio},createLocalTracks:{enumerable:!0,value:n(93)},createLocalVideoTrack:{enumerable:!0,value:n(176).video},LocalAudioTrack:{enumerable:!0,value:n(60)},LocalVideoTrack:{enumerable:!0,value:n(62)},version:{enumerable:!0,value:r}}),e.exports=i},function(e,t,n){"use strict";function r(e,t){t=Object.assign({createLocalTracks:l,environment:d.DEFAULT_ENVIRONMENT,insights:!0,LocalAudioTrack:m,LocalParticipant:g,LocalVideoTrack:v,MediaStreamTrack:_,logLevel:d.DEFAULT_LOG_LEVEL,name:null,realm:d.DEFAULT_REALM,signaling:T},t),t=Object.assign({wsServer:d.WS_SERVER(t.environment,t.realm)},t);var n=w.buildLogLevels(t.logLevel),r="[connect #"+ ++E+"]";try{var h=new y("default",r,n)}catch(e){return c.reject(e)}if(t.log=h,"string"!=typeof e)return c.reject(new f.INVALID_TYPE("token","string"));if("tracks"in t){if(!Array.isArray(t.tracks))return c.reject(new f.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(e){return w.asLocalTrack(e,t)})}catch(e){return c.reject(e)}}var S=t.signaling,C=new S(t.wsServer,t);h.info("Connecting to a Room"),h.debug("Options:",t);var R=Array.isArray(t.iceServers)?new p(t.iceServers):"object"==typeof t.iceServers?t.iceServers:new b(e,t),k=u(s.bind(null,t),i.bind(null,C,h,t),a.bind(null,e,t,C,R),o.bind(null,t));return k.then(function(e){return h.info("Connected to Room:",e.toString()),h.info("Room name:",e.name),h.debug("Room:",e),e},function(e){R.isStarted&&R.stop(),k._isCanceled?h.info("Attempt to connect to a Room was canceled"):h.info("Error while connecting to a Room:",e)}),k}function i(e,t,n,r){var i=e.createLocalParticipantSignaling();return t.debug("Creating a new LocalParticipant:",i),new n.LocalParticipant(i,r,n)}function o(e,t,n){var r=new h(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",function e(){i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e)}),r}function a(e,t,n,r,i){var o=t.log;return o.info("Getting ICE servers"),o.debug("Options:",t),r.start().then(function(a){var s={token:e};return o.info("Got ICE servers"),o.debug("ICE servers:",a),t.iceServers=a,o.debug("Creating a new RoomSignaling"),o.debug("RoomSignaling params:",s),n.connect(i._signaling,e,r,t)})}function s(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then(function(r){var i=t(r);return i.catch(function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach(function(e){e.stop()}))}),i})}var c=n(92),u=n(407),l=n(93),p=n(410),d=n(19),h=n(411),f=n(19).typeErrors,m=n(60),g=n(412),v=n(62),y=n(61),_=n(96),b=n(413),T=n(419),w=n(9),E=0;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var o,a=new Error("Canceled");return new i(function(s,c,u){var l;e(function(e){return u()?i.reject(a):(l=t(e),n(l).then(function(e){if(u())throw a;return o=e()}))}).then(function(e){if(u())throw e.disconnect(),a;s(r(l,e))}).catch(function(e){c(e)})},function(){o&&o.cancel()})}var i=n(92);e.exports=r},function(e,t,n){"use strict";function r(e){return new Promise(function(t,n){i(e||{audio:!0,video:!0},t,n)})}function i(e,t,n){if("undefined"!=typeof window&&"undefined"!=typeof navigator)return void("object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t,n):"function"==typeof navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):"function"==typeof navigator.mozGetUserMedia&&navigator.mozGetUserMedia(e,t,n));n(new Error("getUserMedia is not supported"))}e.exports=r},function(e,t,n){"use strict";function r(e){o.call(this,e.id,e.kind,e.enabled),this.setMediaStreamTrack(e)}var i=n(0).inherits,o=n(161);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e){i.call(this),Object.defineProperties(this,{_instance:{value:++o},_iceServers:{enumerable:!0,value:e,writable:!0},_isStarted:{value:!1,writable:!0},isStarted:{enumerable:!0,get:function(){return this._isStarted}}})}var i=n(8).EventEmitter,o=0;(0,n(0).inherits)(r,i),r.prototype.start=function(){return this._isStarted=!0,Promise.resolve(this._iceServers)},r.prototype.stop=function(){this._isStarted=!1},r.prototype.toString=function(){return"[ConstantIceServerSource #"+this._instance+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);s.call(this);var i=n.log.createLog("default",this),c=new Map;Object.defineProperties(this,{_log:{value:i},_instanceId:{value:++l},_options:{value:n},_participants:{value:c},_signaling:{value:t},isRecording:{enumerable:!0,get:function(){return t.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:t.name},participants:{enumerable:!0,value:c},sid:{enumerable:!0,value:t.sid},state:{enumerable:!0,get:function(){return t.state}}}),o(this,t.recording),a(this,t),i.info("Created a new Room:",this.name),i.debug("Initial Participants:",Array.from(this._participants.values()))}function i(e,t){var n=e._log,r=new u(t,{log:n});n.info("A new Participant connected:",r),e._participants.set(r.sid,r),e.emit("participantConnected",r);var i=["trackAdded","trackDimensionsChanged","trackDisabled","trackEnabled","trackRemoved","trackStarted"].map(function(t){function n(){var n=[].slice.call(arguments);n.unshift(t),n.push(r),e.emit.apply(e,n)}return r.on(t,n),[t,n]});r.once("disconnected",function(){n.info("Participant disconnected:",r),e._participants.delete(r.sid),i.forEach(function(e){r.removeListener(e[0],e[1])}),e.emit("participantDisconnected",r)})}function o(e,t){t.on("updated",function(){var n=t.isEnabled;e._log.info("Recording "+(n?"started":"stopped")),e.emit("recording"+(n?"Started":"Stopped"))})}function a(e,t){var n=e._log;n.debug("Creating a new Participant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(i.bind(null,e)),n.debug("Setting up Participant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",i.bind(null,e)),t.on("stateChanged",function(t,r){n.info("Transitioned to state:",t),e.emit(t,e,r)})}var s=n(8).EventEmitter,c=n(0).inherits,u=n(163),l=0;c(r,s),r.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},r.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},r.prototype.getStats=function(){return this._signaling.getStats()},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);n=Object.assign({LocalAudioTrack:s,LocalVideoTrack:c,MediaStreamTrack:u,shouldStopLocalTracks:!1,tracks:t},n);var i=n.shouldStopLocalTracks?new Set(t):new Set;l.call(this,e,n),Object.defineProperties(this,{_LocalAudioTrack:{value:n.LocalAudioTrack},_LocalVideoTrack:{value:n.LocalVideoTrack},_MediaStreamTrack:{value:n.MediaStreamTrack},_tracksToStop:{value:i}})}var i=n(9),o=n(0).inherits,a=n(19).typeErrors,s=n(60),c=n(62),u=n(96),l=n(163);o(r,l),r.prototype._getTrackEvents=function(){return l.prototype._getTrackEvents.call(this).concat([["stopped","trackStopped"]])},r.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},r.prototype._handleTrackSignalingEvents=function(){function e(e){r.addTrack(e._signaling),n.info("Added a new "+i.trackClass(e,!0)+":",e.id),n.debug(i.trackClass(e,!0)+":",e)}function t(e){r.removeTrack(e._signaling),n.info("Removed a "+i.trackClass(e,!0)+":",e.id),n.debug(i.trackClass(e,!0)+":",e)}var n=this._log;if("disconnected"!==this.state){var r=this._signaling;this.on("trackAdded",e),this.on("trackRemoved",t),this.tracks.forEach(e);var o=this;r.on("stateChanged",function i(a){n.debug("Transitioned to state:",a),"disconnected"===a&&(n.debug("Removing LocalTrack event listeners"),r.removeListener("stateChanged",i),o.removeListener("trackAdded",e),o.removeListener("trackRemoved",t),n.info("LocalParticipant disconnected. Stopping "+o._tracksToStop.size+" automatically-acquired LocalTracks"),o._tracksToStop.forEach(function(e){e.stop()}))})}},r.prototype.addTrack=function(e){return this._addTrack(i.asLocalTrack(e,{log:this._log,LocalAudioTrack:this._LocalAudioTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack}))},r.prototype.addTracks=function(e){if(!Array.isArray(e))throw new a.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack");var t=this;return e.reduce(function(e,n){var r=t.addTrack(n);return r?e.concat(r):e},[])},r.prototype.removeTrack=function(e,t){return e=this._removeTrack(i.asLocalTrack(e,{log:this._log,LocalAudioTrack:this._LocalAudioTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack})),t="boolean"!=typeof t||t,e&&t&&(e.stop(),this._log.info("Stopped LocalTrack:",e)),e},r.prototype.removeTracks=function(e,t){if(!Array.isArray(e))throw new a.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack");var n=this;return e.reduce(function(e,r){var i=n.removeTrack(r,t);return i?e.concat(i):e},[])},e.exports=r},function(e,t,n){"use strict";function r(e,t){c.call(this),t=Object.assign({defaultTTL:a.ICE_SERVERS_DEFAULT_TTL,environment:a.DEFAULT_ENVIRONMENT,getConfiguration:s.getConfiguration,realm:a.DEFAULT_REALM,timeout:a.ICE_SERVERS_TIMEOUT_MS},t);var n=a.DEFAULT_ICE_SERVERS(t.environment),r=t.ecsServer||a.ECS_SERVER(t.environment,t.realm),i=t.log?t.log.createLog("default",this):new l("default",this,d.buildLogLevels("off"));Object.defineProperties(this,{_currentPoll:{value:null,writable:!0},_defaultIceServers:{value:n},_defaultTTL:{value:t.defaultTTL},_ecsServer:{value:r},_getConfiguration:{value:t.getConfiguration},_instance:{value:++f},_nextPoll:{value:null,writable:!0},_log:{value:i},_stopped:{value:d.defer(),writable:!0},_timeout:{value:t.timeout},_token:{value:e},isStarted:{enumerable:!0,get:function(){return!!this._currentPoll}}}),this._log.info("Created a new NTSIceServerSource"),this._log.debug("ECS server:",this._ecsServer)}function i(e,t){var n=d.getOrNull(t,"video.network_traversal_service");if(!n)throw new Error("network_traversal_service not available");n.warning&&e._log.warn(n.warning);var r=n.ice_servers;if(!r)throw new Error("ice_servers not available");return e._log.info("Got ICE servers: "+JSON.stringify(r)),[r,n.ttl||e._defaultTTL]}function o(e){e._log.debug("Getting ECS configuration");var t={configUrl:e._ecsServer+"/v1/Configuration",body:{service:"video",sdk_version:h}},n=new Error("Already stopped"),r=e._getConfiguration(e._token,t),s=new p(r,e._timeout);return Promise.race([s,e._stopped.promise]).then(function(t){if(!t)throw n;return i(e,t)}).catch(function(t){if(!e.isStarted)throw n;return s.isTimedOut?e._log.warn("Getting ICE servers took too long (using defaults)"):(t.code&&2===Math.floor(t.code/1e4)&&e.stop(),e._log.warn("Failed to get ICE servers (using defaults):",t)),[e._defaultIceServers,e._defaultTTL]}).then(function(t){var n=t[0],r=t[1];e.isStarted&&(e._log.info("Getting ICE servers again in "+r+" seconds"),e._nextPoll=setTimeout(function(){e.isStarted&&(e._currentPoll=o(e))},1e3*(r-a.ECS_TIMEOUT))),e._iceServers=n;try{e.emit("iceServers",n)}catch(e){}return n})}var a=n(19),s=n(414),c=n(8).EventEmitter,u=n(0).inherits,l=n(61),p=n(418),d=n(9),h=n(91).version,f=0;u(r,c),r.prototype.start=function(){return this.isStarted?this._log.warn("Already started"):(this._log.info("Starting"),this._currentPoll=o(this)),this._currentPoll},r.prototype.stop=function(){if(!this.isStarted)return void this._log.warn("Already stopped");this._log.info("Stopping"),this._currentPoll=null,clearTimeout(this._nextPoll),this._stopped.resolve(),this._stopped=d.defer(),this._log.debug("Stopped")},r.prototype.toString=function(){return"[NTSIceServerSource #"+this._instance+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("<String>token is a required argument.");t=Object.assign({configUrl:u},t);var n={url:t.configUrl,headers:{"X-Twilio-Token":e,"Content-Type":"application/x-www-form-urlencoded"}};return t.body&&(n.body=o(t.body)),a.post(n).then(function(e){return i(e)},function(e){var t=i(e);throw s(t.code,t.message)})}function i(e){var t=null;try{t=JSON.parse(e)}catch(e){throw new c}return t}function o(e){return Object.keys(e||{}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}var a=n(415),s=n(31).createTwilioError,c=n(31).ConfigurationAcquireFailedError,u="https://ecs.us1.twilio.com/v1/Configuration";e.exports.getConfiguration=r},function(e,t,n){"use strict";function r(e,t){return new Promise(function(n,r){if("string"!=typeof e||!t)throw new Error("<String>method and <Object>params are required args.");var o=new i;o.open(e.toUpperCase(),t.url,!0),o.withCredentials=!!t.withCredentials,o.onreadystatechange=function(){4===o.readyState&&(200<=o.status&&o.status<300?n(o.responseText):r(o.responseText))};for(var a in t.headers)o.setRequestHeader(a,t.headers[a]);o.send(t.body)})}var i=n(416).XMLHttpRequest;r.get=r.bind(null,"GET"),r.post=r.bind(null,"POST"),e.exports=r},function(e,t){t.XMLHttpRequest=XMLHttpRequest},function(e,t,n){"use strict";function r(e){var t=Error.apply(this,[].slice.call(arguments,1));t.name="TwilioError",Object.defineProperty(this,"code",{value:e,enumerable:!0}),Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(this,e,{value:t[e],enumerable:!0})},this)}(0,n(0).inherits)(r,Error),r.prototype.toString=function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);i.call(this);var n=a.defer(),o=!1,s=new Error("Timed out"),c=null,u=null;Object.defineProperties(this,{_deferred:{value:n},_isTimedOut:{get:function(){return o},set:function(e){o=e}},_timedOut:{value:s},_timeout:{get:function(){return c},set:function(e){c=e}},_timer:{get:function(){return u},set:function(e){u=e}},_promise:{value:n.promise},isTimedOut:{enumerable:!0,get:function(){return o}},timeout:{enumerable:!0,get:function(){return c}}});var l=this;e.then(function(){clearTimeout(l._timer),n.resolve.apply(n.promise,arguments)},function(){clearTimeout(l._timer),n.reject.apply(n.promise,arguments)}),t&&this.start(t)}var i=n(8).EventEmitter,o=n(0).inherits,a=n(9);o(r,i),r.prototype.catch=function(){return this._promise.catch.apply(this._promise,arguments)},r.prototype.start=function(e){if(this._timer)return this;var t=this;return this._timeout=e,this._timer=setTimeout(function(){t._timer&&(t._isTimedOut=!0,t.emit("timedOut",t),t._deferred.reject(t._timedOut))},this.timeout),this},r.prototype.then=function(){return this._promise.then.apply(this._promise,arguments)},e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=p.makeClientSIPURI();t=Object.assign({createCancelableRoomSignalingPromise:o,registrarServer:i.REGISTRAR_SERVER,UA:u.UA},t);var r="debug"===t.logLevel,a=e.startsWith("wss://"),s=t.UA,d=new s({autostart:!1,log:{builtinEnabled:r},extraSupported:["room-signaling","timer"],hackAllowUnregisteredOptionTags:!0,keepAliveInterval:30,mediaHandlerFactory:l.defaultFactory,register:!1,registrarServer:t.registrarServer,traceSip:r,uri:n,wsServers:e,hackWssInTransport:a});c.call(this),Object.defineProperties(this,{_createCancelableRoomSignalingPromise:{value:t.createCancelableRoomSignalingPromise},_options:{value:t},_ua:{value:d}})}var i=n(19),o=n(420),a=n(0).inherits,s=n(479),c=n(480),u=n(98),l=n(175),p=n(9);a(r,c),r.prototype._close=function(e){return this.transition("closing",e),this._ua.stop(),this._ua.transport.disconnect(),this.transition("closed",e),Promise.resolve(this)},r.prototype._open=function(e){function t(){n._ua.start()}var n=this;return this.transition("opening",e),p.promiseFromEvents(t,this._ua,"connected","disconnected").then(function(){return n.transition("open",e),n},function(){throw n.transition("closed",e),new Error("Open failed")})},r.prototype._connect=function(e,t,n,r){r=Object.assign({},this._options,r);var i=this._ua;return this._createCancelableRoomSignalingPromise.bind(null,t,i,e,n,r)},r.prototype.createLocalParticipantSignaling=function(){return new s},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,p){p=Object.assign({PeerConnectionManager:o,RoomV2:a,Transport:s},p);var d,h=p.PeerConnectionManager,f=p.RoomV2,m=new h(r),g=l(n.tracks,function(e){return[e.mediaStreamTrack]});m.setConfiguration(p),m.setMediaStreamTracks(g);var v=new Error("Canceled");return new i(function(r,i,o){m.createAndOffer().then(function(){return m.dequeue("description"),new Promise(function(r,i){if(o())return void i(v);var a="string"==typeof p.wsServerInsights?{wsServerInsights:p.wsServerInsights}:{};p.InsightsPublisher&&(a.InsightsPublisher=p.InsightsPublisher),p.NullInsightsPublisher&&(a.NullInsightsPublisher=p.NullInsightsPublisher),a=Object.assign({environment:p.environment,insights:p.insights,realm:p.realm},a);var s=p.Transport;d=new s(p.name,e,n,m,t,a),d.once("connected",function(e){if(o())return void i(v);var t=e.participant;if(!t)return void i(new u);n.connect(t.sid,t.identity),r(new f(n,e,d,m,p))}),d.once("stateChanged",function(e,t){"disconnected"===e&&(t=t||new c,d=null,i(t))})})}).then(function(e){if(o())return m.close(),e.disconnect(),void i(v);r(e)}).catch(function(e){d&&(d.disconnect(),d=null),m.close(),i(e)})},function(){d&&(d.disconnect(),d=null)})}var i=n(92),o=n(421),a=n(438),s=n(442),c=n(31).SignalingConnectionDisconnectedError,u=n(31).SignalingIncomingMessageInvalidError,l=n(9).flatMap;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(t);s.call(this),t=Object.assign({MediaStream:a,PeerConnectionV2:o},t),Object.defineProperties(this,{_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:c.defer()},_iceServerSource:{value:e},_localMediaStream:{value:new t.MediaStream},_peerConnections:{value:new Map},_PeerConnectionV2:{value:t.PeerConnectionV2}})}var i=n(0).inherits,o=n(422),a=n(95),s=n(437),c=n(9);i(r,s),r.prototype._getConfiguration=function(){return this._configurationDeferred.promise},r.prototype._getOrCreate=function(e,t){var n=this,r=this._peerConnections.get(e);if(!r){var i=this._PeerConnectionV2;r=new i(e,t),this._peerConnections.set(r.id,r),r.on("candidates",this.queue.bind(this,"candidates")),r.on("description",this.queue.bind(this,"description")),r.on("trackAdded",this.queue.bind(this,"trackAdded")),r.on("stateChanged",function e(t){"closed"===t&&(r.removeListener("stateChanged",e),n._peerConnections.delete(r.id),n._closedPeerConnectionIds.add(r.id))}),r.addMediaStream(this._localMediaStream)}return r},r.prototype.close=function(){return this._iceServerSource.isStarted&&this._iceServerSource.stop(),this._peerConnections.forEach(function(e){e.close()}),this},r.prototype.createAndOffer=function(){var e=this;return this._getConfiguration().then(function(t){var n;do{n=c.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)}).then(function(e){return e.offer()}).then(function(){return e})},r.prototype.getRemoteMediaStreamTracks=function(){return c.flatMap(this._peerConnections,function(e){return e.getRemoteMediaStreamTracks()})},r.prototype.getStates=function(){var e=[];return this._peerConnections.forEach(function(t){var n=t.getState();n&&e.push(n)}),e},r.prototype.setConfiguration=function(e){return this._configuration&&(this._configurationDeferred=c.defer(),this._peerConnections.forEach(function(t){t.setConfiguration(e)})),this._configuration=e,this._configurationDeferred.resolve(e),this},r.prototype.setMediaStreamTracks=function(e){var t=c.difference(this._localMediaStream.getTracks(),e),n=c.difference(e,this._localMediaStream.getTracks());return(t.size||n.size)&&(t.forEach(this._localMediaStream.removeTrack,this._localMediaStream),n.forEach(this._localMediaStream.addTrack,this._localMediaStream),this._peerConnections.forEach(function(e){e.removeMediaStream(this._localMediaStream),e.addMediaStream(this._localMediaStream),e.offer()},this)),this},r.prototype.update=function(e){var t=this;return this._getConfiguration().then(function(n){return Promise.all(e.map(function(e){return t._closedPeerConnectionIds.has(e.id)?null:t._getOrCreate(e.id,n).update(e)}))}).then(function(){return t})},r.prototype.getStats=function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map(function(e){return e.getStats()}))},e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);m.call(this,"open",y),t=Object.assign(v,t);var n=o(t),i=t.RTCPeerConnection,a=new i(n);Object.defineProperties(this,{_descriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCandidatesRevision:{writable:!0,value:1},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_needsInitialAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:t.offerOptions},_peerConnection:{value:a},_queuedDescription:{writable:!0,value:null},_remoteCandidates:{writable:!0,value:new p},_RTCIceCandidate:{value:t.RTCIceCandidate},_RTCPeerConnection:{value:t.RTCPeerConnection},_RTCSessionDescription:{value:t.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},id:{enumerable:!0,value:e}}),a.addEventListener("icecandidate",this._handleIceCandidateEvent.bind(this)),a.addEventListener("signalingstatechange",this._handleSignalingStateChange.bind(this)),a.addEventListener("track",this._handleTrackEvent.bind(this))}function i(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+\/]+)/m);if(t)return t[1]}return null}function o(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}var a=n(423),s=n(424),c=n(428),u=n(9).flatMap,l=n(429),p=n(430),d=n(0).inherits,h=n(31).MediaClientLocalDescFailedError,f=n(31).MediaClientRemoteDescFailedError,m=n(42),g=n(432),v={iceServers:[],offerOptions:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},RTCIceCandidate:a,RTCPeerConnection:s,RTCSessionDescription:c},y={open:["closed","updating"],updating:["closed","open"],closed:[]};d(r,m),r.prototype._addIceCandidate=function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})},r.prototype._addIceCandidates=function(e){return Promise.all(e.map(this._addIceCandidate,this)).then(function(){})},r.prototype._checkIceBox=function(e){var t=i(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},r.prototype._answer=function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._negotiationRole||(t._negotiationRole="answerer"),t._peerConnection.setRemoteDescription(e)}).catch(function(){throw new f}).then(function(){return t._peerConnection.createAnswer()}).then(function(e){return t._setLocalDescription(e)}).then(function(){return t._checkIceBox(e)}).catch(function(e){throw e instanceof f?e:new h})},r.prototype._close=function(){return"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),!0)},r.prototype._handleGlare=function(e){var t=this;return Promise.resolve().then(function(){var e=new t._RTCSessionDescription({type:"rollback"});return t._setLocalDescription(e)}).then(function(){return t._answer(e)}).then(function(){return t._offer()})},r.prototype._handleIceCandidateEvent=function(e){e.candidate&&this._localCandidates.push(e.candidate);var t={ice:{candidates:this._localCandidates.slice(),revision:this._localCandidatesRevision++,ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this.emit("candidates",t)},r.prototype._handleSignalingStateChange=function(){"closed"===this._peerConnection.signalingState&&"closed"!==this.state&&this.preempt("closed")},r.prototype._handleTrackEvent=function(e){var t=e.track;this.emit("trackAdded",t)},r.prototype._offer=function(){var e=this;return Promise.resolve().then(function(){return e._peerConnection.createOffer(e._offerOptions)}).catch(function(){throw new h}).then(function(t){return e._negotiationRole||(e._negotiationRole="offerer",e._needsInitialAnswer=!0),e._setLocalDescription(t)})},r.prototype._setLocalDescription=function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._peerConnection.setLocalDescription(e)}).catch(function(){throw new h}).then(function(){"rollback"!==e.type&&(t._localDescription=e,t._localCandidates=[],"offer"===e.type&&t._descriptionRevision++,t._localUfrag=i(e),t.emit("description",t.getState()))})},r.prototype._updateDescription=function(e){switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<this._descriptionRevision?Promise.resolve():this._needsInitialAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<this._descriptionRevision||this._descriptionRevision&&e.revision===this._descriptionRevision&&"have-local-offer"!==this._peerConnection.signalingState||"closed"===this._peerConnection.signalingState?Promise.resolve():e.revision>=this._descriptionRevision&&"have-local-offer"===this._peerConnection.signalingState?this._needsInitialAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e))}var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._peerConnection.setRemoteDescription(e)}).catch(function(){throw new f}).then(function(){return"answer"===e.type&&(t._needsInitialAnswer=!1),t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._shouldOffer&&t._offer()}).then(function(){t._shouldOffer=!1})},r.prototype._updateIce=function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},r.prototype.addMediaStream=function(e){this._peerConnection.addStream(e)},r.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},r.prototype.getRemoteMediaStreamTracks=function(){return u(this._peerConnection.getRemoteStreams(),function(e){return e.getTracks()})},r.prototype.getState=function(){if(!this._localDescription)return null;var e={type:this._localDescription.type,revision:this._descriptionRevision};return this._localDescription.sdp&&(e.sdp=this._localDescription.sdp),{description:e,id:this.id}},r.prototype.offer=function(){if(this._needsInitialAnswer)return this._shouldOffer=!0,Promise.resolve();var e=this;return this.bracket("offering",function(t){return e.transition("updating",t),e._offer().then(function(){e.tryTransition("open",t)},function(n){throw e.tryTransition("open",t),n})})},r.prototype.removeMediaStream=function(e){this._peerConnection.removeStream(e)},r.prototype.setConfiguration=function(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(o(e))},r.prototype.update=function(e){var t=this;return this.bracket("updating",function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then(function(){t.tryTransition("open",n)},function(e){throw t.tryTransition("open",n),e})})},r.prototype.getStats=function(){var e=this;return l(this._peerConnection).then(function(t){return new g(e.id,t)})},e.exports=r},function(e,t,n){"use strict";"undefined"!=typeof RTCIceCandidate?e.exports=RTCIceCandidate:"undefined"!=typeof mozRTCIceCandidate?e.exports=mozRTCIceCandidate:e.exports=function(){throw new Error("WebRTC is unsupported")}},function(e,t,n){"use strict";"undefined"!=typeof webkitRTCPeerConnection?e.exports=n(425):"undefined"!=typeof mozRTCPeerConnection?e.exports=n(427):"undefined"!=typeof RTCPeerConnection&&(e.exports=RTCPeerConnection)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this);var t=Object.assign({},e);t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy);var n=null,i=new webkitRTCPeerConnection(t);Object.defineProperties(this,{_localStreams:{value:new Set},_peerConnection:{value:i},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_signalingStateLatch:{value:new p},_tracksToSSRCs:{value:new Map},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:i.localDescription}},onsignalingstatechange:{get:function(){return n},set:function(e){n&&this.removeEventListener("signalingstatechange",n),"function"==typeof e?(n=e,this.addEventListener("signalingstatechange",n)):n=null}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:i.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":i.signalingState}}});var o=this;i.addEventListener("signalingstatechange",function(){o._pendingLocalOffer||o._pendingRemoteOffer||o.dispatchEvent.apply(o,arguments)}),i.ontrack=function(){},h.proxyProperties(webkitRTCPeerConnection.prototype,this,i)}function i(e,t){if(!("ontrack"in webkitRTCPeerConnection.prototype)){var n=h.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()});h.difference(n,t).forEach(function(t){var n=new Event("track");n.track=t,e.dispatchEvent(n)})}}function o(e,t,n){var r,o=h.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()}),c=t?e._pendingLocalOffer:e._pendingRemoteOffer,u=t?e._pendingRemoteOffer:e._pendingLocalOffer,l=t?"have-local-offer":"have-remote-offer",p=t?"setLocalDescription":"setRemoteDescription";if(!t&&u&&"answer"===n.type)r=a(e,n);else if("offer"===n.type){if(e.signalingState!==l&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));c||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var d=e.signalingState;!function(n){t?e._pendingLocalOffer=n:e._pendingRemoteOffer=n}(s(n)),r=Promise.resolve(),e.signalingState!==d&&r.then(function(){e.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(e.signalingState!==l?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(!function(){t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null}(),r=Promise.resolve(),r.then(function(){e.dispatchEvent(new Event("signalingstatechange"))})));return r||e._peerConnection[p](s(n)).then(function(){t||i(e,o)})}function a(e,t){var n=h.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()}),r=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(r).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){i(e,n),e._signalingStateLatch.lower()})}function s(e){return e instanceof c&&e._description?e._description:new RTCSessionDescription(e)}var c=n(164),u=n(165),l=n(0).inherits,p=n(426),d=n(166).updatePlanBTrackIdsToSSRCs,h=n(9);l(r,u),r.prototype.addStream=function(e){this._localStreams.has(e)||(this._localStreams.add(e),this._peerConnection.addStream(e))},r.prototype.removeStream=function(e){this._localStreams.delete(e),this._peerConnection.removeStream(e)},r.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),r=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return r._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e),n.length>1?h.legacyPromise(t,n[1],n[2]):t},r.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},r.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;if(this._pendingRemoteOffer){var r=h.flatMap(this.getRemoteStreams(),function(e){return e.getTracks()});e=this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return i(n,r),n._signalingStateLatch.lower(),n._peerConnection.createAnswer()}).then(function(e){return n._pendingRemoteOffer=null,e},function(e){throw n._pendingRemoteOffer=null,e})}return e?t.length>1?h.legacyPromise(e,t[0],t[1]):e:this._peerConnection.createAnswer.apply(this._peerConnection,t)},r.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this,r=this._peerConnection.createOffer(t).then(function(e){return e.sdp=d(n._tracksToSSRCs,e.sdp),e});return e.length>1?h.legacyPromise(r,e[0],e[1]):r},r.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0],n=o(this,!0,t);return e.length>1?h.legacyPromise(n,e[1],e[2]):n},r.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0],n=o(this,!1,t);return e.length>1?h.legacyPromise(n,e[1],e[2]):n},h.delegateMethods(webkitRTCPeerConnection.prototype,r.prototype,"_peerConnection"),e.exports=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);a.call(this,e||"low",s)}function i(e,t){return e.transition(t),e}var o=n(0).inherits,a=n(42),s={high:["low"],low:["high"]};o(r,a),r.prototype.raise=function(){return i(this,"high")},r.prototype.lower=function(){return i(this,"low")},e.exports=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);s.call(this);var t=null,n=new h(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:n},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return a(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},onsignalingstatechange:{get:function(){return t},set:function(e){t&&this.removeEventListener("signalingstatechange",t),"function"==typeof e?(t=e,this.addEventListener("signalingstatechange",t)):t=null}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var i,o=this;n.addEventListener("signalingstatechange",function(){if(!o._rollingBack&&o.signalingState!==i){i=o.signalingState;var e=o.dispatchEvent.apply.bind(o.dispatchEvent,o,arguments);o._isClosed?setTimeout(e):e()}}),d.proxyProperties(h.prototype,this,n),"ontrack"in h.prototype||n.addEventListener("addstream",function(e){var t=e.stream;t.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.streams=[t],o.dispatchEvent(n)})})}function i(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new c({type:"rollback"})).then(n).then(function(t){return e._rollingBack=!1,t},function(t){throw e._rollingBack=!1,t})}function o(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function a(e,t){return e&&"answer"===e.type&&t&&(e.sdp=e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)),e}var s=n(165),c=n(167),u=n(0).inherits,l=n(95),p=n(166).updateUnifiedPlanTrackIdsToSSRCs,d=n(9),h=RTCPeerConnection||mozRTCPeerConnection;u(r,s),r.prototype.getLocalStreams=function(){if(this._isClosed)return[];if(!this.getSenders)return this._peerConnection.getLocalStreams();var e=new l;return this.getSenders().forEach(function(t){var n=t.track;n&&e.addTrack(n)}),[e]},r.prototype.getRemoteStreams=function(){if(this._isClosed)return[];if(!this.getReceivers)return this._peerConnection.getRemoteStreams();var e=new l;return this.getReceivers().forEach(function(t){var n=t.track;n&&e.addTrack(n)}),[e]},r.prototype.removeStream=function(){},r.prototype.addStream=function(e){var t=this._peerConnection.getSenders().map(function(e){return e.track});d.difference(e.getTracks(),t).forEach(function(t){this._peerConnection.addTrack(t,e)},this)},r.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then(function(e){return o(n,e),a(e,n._initiallyNegotiatedDtlsRole),e}),"function"==typeof t[0]?d.legacyPromise(e,t[0],t[1]):e},r.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;if("have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState){e=i(this,"have-local-offer"===this.signalingState,function(){return r.createOffer(n)})}else e=r._peerConnection.createOffer(n);return e=e.then(function(e){return e.sdp=p(r._tracksToSSRCs,e.sdp),e}),t.length>1?d.legacyPromise(e,t[0],t[1]):e},r.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?d.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},r.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],r=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=i(this,!1,function(){return r._peerConnection.setRemoteDescription(n)}))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then(function(){o(r,n,!0)}),t.length>1?d.legacyPromise(e,t[1],t[2]):e},r.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},d.delegateMethods(h.prototype,r.prototype,"_peerConnection"),e.exports=r},function(e,t,n){"use strict";"undefined"!=typeof webkitRTCPeerConnection?e.exports=n(164):"undefined"!=typeof mozRTCSessionDescription?e.exports=n(167):"undefined"!=typeof RTCSessionDescription&&(e.exports=RTCSessionDescription)},function(e,t,n){"use strict";function r(e,t){return e&&"function"==typeof e.getStats?i(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}function i(e,t){var n=o(e,"audio","local"),r=o(e,"video","local"),i=o(e,"audio"),s=o(e,"video"),c={localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},u=[].concat(n.map(function(n){return a(e,n,t).then(function(e){e.trackId=n.id,c.localAudioTrackStats.push(e)})}),r.map(function(n){return a(e,n,t).then(function(e){e.trackId=n.id,c.localVideoTrackStats.push(e)})}),i.map(function(n){return a(e,n,t).then(function(e){e.trackId=n.id,c.remoteAudioTrackStats.push(e)})}),s.map(function(n){return a(e,n,t).then(function(e){e.trackId=n.id,c.remoteVideoTrackStats.push(e)})}));return Promise.all(u).then(function(){return c})}function o(e,t,n){return e["local"===n?"getLocalStreams":"getRemoteStreams"]().reduce(function(e,n){var r="audio"===t?"getAudioTracks":"getVideoTracks";return e.concat(n[r]())},[])}function a(e,t,n){return n=n||{},void 0!==n.testForChrome||"undefined"!=typeof webkitRTCPeerConnection?s(e,t):void 0!==n.testForFirefox||"undefined"!=typeof mozRTCPeerConnection?c(e,t):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function s(e,t){return new Promise(function(n,r){e.getStats(function(e){n(u(e))},t,r)})}function c(e,t){return new Promise(function(n,r){e.getStats(t,function(e){n(l(e))},r)})}function u(e){var t=e.result().reduce(function(e,t){return"ssrc"===t.type?t:e},null),n={};return t&&(n.timestamp=Math.round(Number(t.timestamp)),n=t.names().reduce(function(e,n){switch(n){case"googCodecName":e.codecName=t.stat(n);break;case"googRtt":e.roundTripTime=Number(t.stat(n));break;case"googJitterReceived":e.jitter=Number(t.stat(n));break;case"googFrameWidthInput":e.frameWidthInput=Number(t.stat(n));break;case"googFrameHeightInput":e.frameHeightInput=Number(t.stat(n));break;case"googFrameWidthSent":e.frameWidthSent=Number(t.stat(n));break;case"googFrameHeightSent":e.frameHeightSent=Number(t.stat(n));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(t.stat(n));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(t.stat(n));break;case"googFrameRateInput":e.frameRateInput=Number(t.stat(n));break;case"googFrameRateSent":e.frameRateSent=Number(t.stat(n));break;case"googFrameRateReceived":e.frameRateReceived=Number(t.stat(n));break;case"ssrc":e[n]=t.stat(n);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[n]=Number(t.stat(n))}return e},n)),n}function l(e){function t(e){var t=r,i=n;return r&&r.isRemote&&(t=n,i=r),t&&void 0!==t[e]?t[e]:i&&void 0!==i[e]?i[e]:null}e=e||{};var n=Object.keys(e).reduce(function(t,n){return"inboundrtp"===e[n].type?e[n]:t},null),r=Object.keys(e).reduce(function(t,n){return"outboundrtp"===e[n].type?e[n]:t},null),i={},o=t("timestamp");i.timestamp=Math.round(o);var a=t("ssrc");"string"==typeof a&&(i.ssrc=a);var s=t("bytesSent");"number"==typeof s&&(i.bytesSent=s);var c=t("packetsLost");"number"==typeof c&&(i.packetsLost=c);var u=t("packetsSent");"number"==typeof u&&(i.packetsSent=u);var l=t("mozRtt");"number"==typeof l&&(i.roundTripTime=l);var p=t("jitter");"number"==typeof p&&(i.jitter=Math.round(1e3*p));var d=t("framerateMean");"number"==typeof d&&(i.frameRateSent=Math.round(d));var h=t("bytesReceived");"number"==typeof h&&(i.bytesReceived=h);var f=t("packetsReceived");"number"==typeof f&&(i.packetsReceived=f);var m=t("framerateMean");return"number"==typeof m&&(i.frameRateReceived=Math.round(m)),i}e.exports=r},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;Object.defineProperties(this,{_filter:{value:new i({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}var i=n(431);r.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},r.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e.exports=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}r.prototype.toMap=function(){return new Map(this._map)},r.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},r.prototype.update=function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)},e.exports=r},function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map(function(e){return new i(e.trackId,e)}),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map(function(e){return new o(e.trackId,e)}),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map(function(e){return new a(e.trackId,e)}),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map(function(e){return new s(e.trackId,e)}),enumerable:!0}})}var i=n(433),o=n(434),a=n(435),s=n(436);e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),Object.defineProperties(this,{audioLevel:{value:"number"==typeof t.audioInputLevel?t.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof t.jitter?t.jitter:null,enumerable:!0}})}var i=n(0).inherits,o=n(168);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t);var n=null;"number"==typeof t.frameWidthInput&&"number"==typeof t.frameHeightInput&&(n={},Object.defineProperties(n,{width:{value:t.frameWidthInput,enumerable:!0},height:{value:t.frameHeightInput,enumerable:!0}}));var r=null;"number"==typeof t.frameWidthSent&&"number"==typeof t.frameHeightSent&&(r={},Object.defineProperties(r,{width:{value:t.frameWidthSent,enumerable:!0},height:{value:t.frameHeightSent,enumerable:!0}})),Object.defineProperties(this,{captureDimensions:{value:n,enumerable:!0},dimensions:{value:r,enumerable:!0},captureFrameRate:{value:"number"==typeof t.frameRateInput?t.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof t.frameRateSent?t.frameRateSent:null,enumerable:!0}})}var i=n(0).inherits,o=n(168);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),Object.defineProperties(this,{audioLevel:{value:"number"==typeof t.audioOutputLevel?t.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof t.jitter?t.jitter:null,enumerable:!0}})}var i=n(0).inherits,o=n(170);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t);var n=null;"number"==typeof t.frameWidthReceived&&"number"==typeof t.frameHeightReceived&&(n={},Object.defineProperties(n,{width:{value:t.frameWidthReceived,enumerable:!0},height:{value:t.frameHeightReceived,enumerable:!0}})),Object.defineProperties(this,{dimensions:{value:n,enumerable:!0},frameRate:{value:"number"==typeof t.frameRateReceived?t.frameRateReceived:null,enumerable:!0}})}var i=n(0).inherits,o=n(170);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(){i.call(this),Object.defineProperties(this,{_queuedEvents:{value:new Map}})}var i=n(8).EventEmitter;(0,n(0).inherits)(r,i),r.prototype.dequeue=function(e){var t=!0;if(!e)return this._queuedEvents.forEach(function(e,n){t=this.dequeue(n)&&t},this),t;var n=this._queuedEvents.get(e)||[];this._queuedEvents.delete(e);var r=this;return n.reduce(function(t,n){return r.emit.apply(r,[e].concat(n))&&t},t)},r.prototype.queue=function(){var e=[].slice.call(arguments);if(this.emit.apply(this,e))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,c,d){if(!(this instanceof r))return new r(e,t,n,c,d);d=Object.assign({RecordingSignaling:u,RemoteParticipantV2:p,statsPublishIntervalMs:h},d),l.call(this,e,t.sid,t.name,d),Object.defineProperties(this,{_disconnectedParticipantSids:{value:new Set},_peerConnectionManager:{value:c},_RemoteParticipantV2:{value:d.RemoteParticipantV2},_transport:{value:n},_trackIdToParticipants:{value:new Map},_mediaStreamTrackDeferreds:{value:new Map}}),i(this,e),o(this,c),a(this,n),s(this,e,n,d.statsPublishIntervalMs),this._update(t)}function i(e,t){function n(){var e=d.flatMap(t.tracks,function(e){return e.mediaStreamTrack});c.setMediaStreamTracks(e)}function r(t){function n(){e._publishNewLocalParticipantState()}t.on("updated",n),i(t),s.set(t,t.removeListener.bind(t,"updated",n))}function i(e){var t=s.get(e);t&&t()}function o(e){r(e),u()}function a(e){i(e),u()}var s=new Map,c=e._peerConnectionManager,u=d.oncePerTick(function(){e._publishNewLocalParticipantState(),n()});t.on("trackAdded",o),t.on("trackRemoved",a),t.tracks.forEach(r),e.on("stateChanged",function n(r){"disconnected"===r&&(t.removeListener("trackAdded",o),t.removeListener("trackRemoved",a),e.removeListener("stateChanged",n),t.disconnect())})}function o(e,t){t.on("description",function(t){e._publishPeerConnectionState(t)}),t.dequeue("description"),t.on("candidates",function(t){e._publishPeerConnectionState(t)}),t.dequeue("candidates"),t.on("trackAdded",e._addMediaStreamTrack.bind(e)),t.dequeue("trackAdded"),t.getRemoteMediaStreamTracks().forEach(function(t){e._addMediaStreamTrack(t)})}function a(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function n(r,i){"disconnected"===r&&("connected"===e.state&&e._disconnect(i),t.removeListener("stateChanged",n))})}function s(e,t,n,r){var i=setInterval(function(){e.getStats().then(function(r){r.forEach(function(r){n.publishEvent("quality","stats-report",{audioTrackStats:r.remoteAudioTrackStats,localAudioTrackStats:r.localAudioTrackStats,localVideoTrackStats:r.localVideoTrackStats,participantSid:t.sid,peerConnectionId:r.peerConnectionId,roomSid:e.sid,videoTrackStats:r.remoteVideoTrackStats})})},function(){})},r);e.on("stateChanged",function t(n){"disconnected"===n&&(clearInterval(i),e.removeListener("stateChanged",t))})}var c=n(0).inherits,u=n(439),l=n(172),p=n(440),d=n(9),h=1e3;c(r,l),r.prototype._deleteMediaStreamTrackDeferred=function(e){return this._mediaStreamTrackDeferreds.delete(e)},r.prototype._getOrCreateMediaStreamTrackDeferred=function(e){var t=this._mediaStreamTrackDeferreds.get(e)||d.defer(),n=this._peerConnectionManager.getRemoteMediaStreamTracks(),r=n.find(function(t){return t.id===e&&"ended"!==t.readyState});return r?t.resolve(r):this._mediaStreamTrackDeferreds.set(e,t),t},r.prototype._addMediaStreamTrack=function(e){return this._getOrCreateMediaStreamTrackDeferred(e.id).resolve(e),this},r.prototype._disconnect=function(e){var t=l.prototype._disconnect.call(this,e);return t&&(this._transport.disconnect(),this._peerConnectionManager.close()),t},r.prototype._getMediaStreamTrack=function(e){var t=this;return this._getOrCreateMediaStreamTrackDeferred(e).promise.then(function(n){return t._deleteMediaStreamTrackDeferred(e),n})},r.prototype._getOrCreateRemoteParticipant=function(e){var t=this._RemoteParticipantV2,n=this.participants.get(e.sid),r=this;return n||(n=new t(e,this._getMediaStreamTrack.bind(this)),n.on("stateChanged",function e(t){"disconnected"===t&&(n.removeListener("stateChanged",e),r.participants.delete(n.sid),r._disconnectedParticipantSids.add(n.sid))}),this.connectParticipant(n)),n},r.prototype._getState=function(){return{participant:this.localParticipant.getState()}},r.prototype._publishNewLocalParticipantState=function(){this.localParticipant.update(),this._transport.publish(this._getState())},r.prototype._publishPeerConnectionState=function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},r.prototype._update=function(e){var t=new Set;return(e.participants||[]).forEach(function(e){if(e.sid!==this.localParticipant.sid&&!this._disconnectedParticipantSids.has(e.sid)){var n=this._getOrCreateRemoteParticipant(e);n.update(e),t.add(n)}},this),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections),e.recording&&this.recording.update(e.recording),this},r.prototype.getStats=function(){return this._peerConnectionManager.getStats()},e.exports=r},function(e,t,n){"use strict";function r(){o.call(this),Object.defineProperties(this,{_revision:{value:1,writable:!0}})}var i=n(0).inherits,o=n(171);i(r,o),r.prototype.update=function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.enabled))},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return this instanceof r?(o.call(this,e.sid,e.identity),n=Object.assign({TrackV2:a},n),Object.defineProperties(this,{_revision:{writable:!0,value:null},_TrackV2:{value:n.TrackV2},_getMediaStreamTrack:{value:t},revision:{enumerable:!0,get:function(){return this._revision}}}),this.update(e)):new r(e,t,n)}var i=n(0).inherits,o=n(441),a=n(173);i(r,o),r.prototype._getOrCreateTrack=function(e){var t=this._TrackV2,n=this.tracks.get(e.id);return n||(n=new t(e),this.addTrack(n)),n},r.prototype.update=function(e){if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var t=new Set;return e.tracks.forEach(function(e){var n=this._getOrCreateTrack(e);n.update(e),t.add(n)},this),this.tracks.forEach(function(e){t.has(e)||this.removeTrack(e)},this),"disconnected"===e.state&&"connected"===this.state&&this.preempt("disconnected"),this},r.prototype.addTrack=function(e){return o.prototype.addTrack.call(this,e),this._getMediaStreamTrack(e.id).then(function(t){e.setMediaStreamTrack(t)}),this},e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this),this.connect(e,t)}var i=n(0).inherits,o=n(97);i(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,o,a,s){if(!(this instanceof r))return new r(e,t,n,o,a,s);s=Object.assign({InsightsPublisher:v,NullInsightsPublisher:y,SIPJSMediaHandler:b},s),T.call(this,"connecting",O);var c={};s.wsServerInsights&&(c.gateway=s.wsServerInsights);var u=i(this,e,t,n,o,a,s.SIPJSMediaHandler),l=s.insights?s.InsightsPublisher:s.NullInsightsPublisher;Object.defineProperties(this,{_eventPublisher:{value:new l(t,I,A,s.environment,s.realm,c)},_session:{value:u},_updatesReceived:{value:[]},_updatesToSend:{value:[]}}),h(this,u,a)}function i(e,t,n,r,i,o,a){var s="sip:"+w.makeServerSIPURI();return o.invite(s,{extraHeaders:[f.headers.X_TWILIO_ACCESSTOKEN+": "+n,"Session-Expires: 120"],media:{stream:{}},mediaHandlerFactory:function(){return new a(i,function(){if("disconnected"===e.state)return{type:"disconnect",version:x};var n={connecting:"connect",syncing:"sync"}[e.state]||"update",i={name:t,participant:r.getState(),type:n,version:x},o=w.getSdpFormat();return"connect"===n&&o&&(i.format=o),i})},onInfo:function(e){this.emit("info",e),e.reply(200)}})}function o(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)}function a(e,t,n,r){return r=r||0,new Promise(function(i,s){function c(o){switch(Math.floor(o.status_code/100)){case 2:i();break;case 5:r<f.PUBLISH_MAX_ATTEMPTS?i(a(e,t,n,++r)):s(new Error("Transport failed to send a message even after "+f.PUBLISH_MAX_ATTEMPTS+" attempts"));break;default:s(o)}}function u(){"disconnected"!==e.state&&t.sendRequest("INFO",{body:JSON.stringify(n),extraHeaders:["Content-Type: application/room-signaling+json","Event: room-signaling","Info-Package: room-signaling"],receiveResponse:c})}if(0===r)return void u();var l=(1<<r-1)*f.PUBLISH_BACKOFF_MS;setTimeout(u,o(l,f.PUBLISH_BACKOFF_JITTER))})}function s(e){return Array.from(e.reduce(function(e,t){var n=e.get(t.id)||t;return!n.description&&t.description?n.description=t.description:n.description&&t.description&&t.description.revision>n.description.revision&&(n.description=t.description),!n.ice&&t.ice?n.ice=t.ice:n.ice&&t.ice&&t.ice.revision>n.ice.revision&&(n.ice=t.ice),e.set(n.id,n),e},new Map).values())}function c(e){return e.reduce(function(e,t){return!e.participant&&t.participant?e.participant=t.participant:e.participant&&t.participant&&t.participant.revision>e.participant.revision&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=s(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=s(e.peer_connections.concat(t.peer_connections))),e},{type:"update",version:x})}function u(e){if(e.body)try{return JSON.parse(e.body)}catch(e){throw new k}return null}function l(e){try{var t=u(e);return t&&"error"===t.type?S(t.code,t.message):null}catch(e){return e}}function p(e){var t=e.headers;if(t&&t["X-Twilio-Error"]){var n=t["X-Twilio-Error"][0].raw.split(" "),r=parseInt(n[0],10),i=n.slice(1).join(" ");return S(r,i)}return null}function d(e){return p(e)||l(e)}function h(e,t,n){function r(t,n){var r;if(!t||t instanceof _.OutgoingRequest||(r=d(t)),!r)switch(n){case _.C.causes.REQUEST_TIMEOUT:r=new R;break;case _.C.causes.CONNECTION_ERROR:r=new C}e.disconnect(r)}function i(t){if(!(t instanceof _.OutgoingRequest)){var n;try{n=d(t)}catch(e){if(e instanceof k)return;n=e}if(n)return void e.disconnect(n);var r;try{r=u(t)}catch(e){}if(r)switch(e.state){case"connected":switch(r.type){case"connected":case"synced":case"update":return void e.emit("message",r);case"disconnected":return void e.preempt("disconnected");default:return}case"connecting":switch(r.type){case"connected":return e.emit("connected",r),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(r);case"disconnected":return void e.preempt("disconnected");default:return}case"disconnected":return;case"syncing":switch(r.type){case"connected":case"update":return void e._updatesReceived.push(r);case"synced":return e.emit("message",r),void e.preempt("connected");case"disconnected":return void e.preempt("disconnected");default:return}default:return}}}t.on("info",i),t.once("bye",r),t.once("accepted",i),t.once("failed",r),e.on("stateChanged",function o(a){switch(a){case"connected":t.removeListener("accepted",i),t.removeListener("failed",r);var s=e._updatesToSend.splice(0);return s.length&&e.publish(c(s)),void e._updatesReceived.splice(0).forEach(e.emit.bind(e,"message"));case"disconnected":return t.removeListener("accepted",i),t.removeListener("failed",r),t.removeListener("info",i),t.removeListener("bye",r),e.removeListener("stateChanged",o),void n.stop();case"syncing":default:return}}),n.once("disconnected",r)}var f=n(19),m=n(0).inherits,g=n(91),v=n(443),y=n(444),_=n(98),b=n(175),T=n(42),w=n(9),E=n(31),S=E.createTwilioError,C=E.SignalingConnectionError,R=E.SignalingConnectionTimeoutError,k=E.SignalingIncomingMessageInvalidError,I=g.name+".js",A=g.version,x=1,O={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]};m(r,T),r.prototype.disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._session.terminate({body:JSON.stringify({type:"disconnect",version:x}),extraHeaders:["Content-Type: application/room-signaling+json"]}),this._eventPublisher.disconnect(),!0)},r.prototype.publish=function(e){switch(e=Object.assign({type:"update",version:x},e),this.state){case"connected":return a(this,this._session,e),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;case"disconnected":default:return!1}},r.prototype.publishEvent=function(e,t,n){return this._eventPublisher.publish(e,t,n)},r.prototype.sync=function(){return"connected"===this.state&&(this.preempt("syncing"),this._session.sendReinvite(),!0)},e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t,n,a,u,d){if(!(this instanceof r))return new r(e,t,n,a,u,d);c.call(this),d=Object.assign({gateway:o(a,u)+"/v1/VideoEvents",maxReconnectAttempts:l,reconnectIntervalMs:p,userAgent:navigator.userAgent,WebSocket:f},d),Object.defineProperties(this,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_reconnectAttemptsLeft:{value:d.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:d.WebSocket}});var h=this;this.on("disconnected",function r(i){if(h._session=null,i&&h._reconnectAttemptsLeft>0)return h.emit("reconnecting"),void s(h,e,t,n,d);h.removeListener("disconnected",r)}),i(this,e,t,n,d)}function i(e,t,n,r,i){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new i.WebSocket(i.gateway);var o=e._ws;o.addEventListener("close",function(t){if(t.code===d)return void e.emit("disconnected");e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason))}),o.addEventListener("message",function(t){a(e,JSON.parse(t.data),i)}),o.addEventListener("open",function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:i.userAgent},o.send(JSON.stringify(e))})}function o(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}function a(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}function s(e,t,n,r,o){var a=Date.now()-e._connectTimestamp,s=o.reconnectIntervalMs-a;if(s>0)return void setTimeout(function(){i(e,t,n,r,o)},s);i(e,t,n,r,o)}var c=n(8).EventEmitter,u=n(0).inherits,l=5,p=50,d=1e3,h=t.window||t,f=h.WebSocket?h.WebSocket:n(174);u(r,c),r.prototype._publish=function(e){e.session=this._session,this._ws.send(JSON.stringify(e))},r.prototype.disconnect=function(){if(this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},r.prototype.publish=function(e,t,n){return this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},e.exports=r}).call(t,n(12))},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}r.prototype.disconnect=function(){return!!this._connected&&(this._connected=!1,!0)},r.prototype.publish=function(){return this._connected},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){function n(e){var t=.8*e;return 1e3*(Math.random()*(e-t)+t)}var r,i={STATUS_READY:0,STATUS_DISCONNECTED:1,STATUS_ERROR:2};return r=function(e,t){this.logger=e.getLogger("sip.transport"),this.ua=e,this.ws=null,this.server=t,this.reconnection_attempts=0,this.closed=!1,this.connected=!1,this.reconnectTimer=null,this.lastTransportError={},this.keepAliveInterval=e.configuration.keepAliveInterval,this.keepAliveTimeout=null,this.keepAliveTimer=null,this.ua.transport=this,this.connect()},r.prototype={send:function(e){var n=e.toString();return this.ws&&this.ws.readyState===t.OPEN?(!0===this.ua.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+n+"\n"),this.ws.send(n),!0):(this.logger.warn("unable to send message, WebSocket is not open"),!1)},sendKeepAlive:function(){if(!this.keepAliveTimeout)return this.keepAliveTimeout=e.Timers.setTimeout(function(){this.ua.emit("keepAliveTimeout")}.bind(this),1e4),this.send("\r\n\r\n")},startSendingKeepAlives:function(){this.keepAliveInterval&&!this.keepAliveTimer&&(this.keepAliveTimer=e.Timers.setTimeout(function(){this.sendKeepAlive(),this.keepAliveTimer=null,this.startSendingKeepAlives()}.bind(this),n(this.keepAliveInterval)))},stopSendingKeepAlives:function(){e.Timers.clearTimeout(this.keepAliveTimer),e.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimer=null,this.keepAliveTimeout=null},disconnect:function(){this.ws&&(e.Timers.clearTimeout(this.reconnectTimer),this.stopSendingKeepAlives(),this.closed=!0,this.logger.log("closing WebSocket "+this.server.ws_uri),this.ws.close()),null!==this.reconnectTimer&&(e.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null,this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}))},connect:function(){var e=this;if(this.ws&&(this.ws.readyState===t.OPEN||this.ws.readyState===t.CONNECTING))return this.logger.log("WebSocket "+this.server.ws_uri+" is already connected"),!1;this.ws&&this.ws.close(),this.logger.log("connecting to WebSocket "+this.server.ws_uri),this.ua.onTransportConnecting(this,0===this.reconnection_attempts?1:this.reconnection_attempts);try{this.ws=new t(this.server.ws_uri,"sip")}catch(e){this.logger.warn("error connecting to WebSocket "+this.server.ws_uri+": "+e)}this.ws.binaryType="arraybuffer",this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(t){e.onClose(t)},this.ws.onmessage=function(t){e.onMessage(t)},this.ws.onerror=function(t){e.onError(t)}},onOpen:function(){this.connected=!0,this.logger.log("WebSocket "+this.server.ws_uri+" connected"),null!==this.reconnectTimer&&(e.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnection_attempts=0,this.closed=!1,this.ua.onTransportConnected(this),this.startSendingKeepAlives()},onClose:function(e){var t=this.connected;this.lastTransportError.code=e.code,this.lastTransportError.reason=e.reason,this.stopSendingKeepAlives(),this.reconnection_attempts>0?(this.logger.log("Reconnection attempt "+this.reconnection_attempts+" failed (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.reconnect()):(this.connected=!1,this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),!1===e.wasClean&&this.logger.warn("WebSocket abrupt disconnection"),!0===t?(this.ua.onTransportClosed(this),this.closed?this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}):this.reconnect()):this.ua.onTransportError(this))},onMessage:function(t){var n,r,i=t.data;if("\r\n"===i)return e.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimeout=null,void(!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if("string"!=typeof i){try{i=String.fromCharCode.apply(null,new Uint8Array(i))}catch(e){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+i+"\n")}else!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+i+"\n");if((n=e.Parser.parseMessage(i,this.ua))&&!(this.ua.status===e.UA.C.STATUS_USER_CLOSED&&n instanceof e.IncomingRequest)&&e.sanityCheck(n,this.ua,this))if(n instanceof e.IncomingRequest)n.transport=this,this.ua.receiveRequest(n);else if(n instanceof e.IncomingResponse)switch(n.method){case e.C.INVITE:r=this.ua.transactions.ict[n.via_branch],r&&r.receiveResponse(n);break;case e.C.ACK:break;default:r=this.ua.transactions.nict[n.via_branch],r&&r.receiveResponse(n)}},onError:function(e){this.logger.warn("WebSocket connection error: "+JSON.stringify(e))},reconnect:function(){var t=this;this.reconnection_attempts+=1,this.reconnection_attempts>this.ua.configuration.wsServerMaxReconnection?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.ws_uri),this.ua.onTransportError(this)):1===this.reconnection_attempts?(this.logger.log("Connection to WebSocket "+this.server.ws_uri+" severed, attempting first reconnect"),t.connect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.ws_uri+" (reconnection attempt "+this.reconnection_attempts+")"),this.reconnectTimer=e.Timers.setTimeout(function(){t.connect(),t.reconnectTimer=null},1e3*this.ua.configuration.wsServerReconnectionTimeout))}},r.C=i,r}},function(e,t,n){"use strict";e.exports=function(e){var t=n(447),r=Object.defineProperties({},{version:{get:function(){return t.version}},name:{get:function(){return t.title}}});return n(448)(r,e),r.LoggerFactory=n(449)(e.console),r.EventEmitter=n(450)(e.console),r.C=n(451)(r.name,r.version),r.Exceptions=n(452),r.Timers=n(453)(e.timers),r.Transport=e.Transport(r,e.WebSocket),n(454)(r),n(455)(r),n(456)(r),n(457)(r),n(458)(r),n(459)(r),n(461)(r),n(462)(r),r.MediaHandler=n(463)(r.EventEmitter),n(464)(r),n(465)(r),n(466)(r,e),n(469)(r),r.WebRTC=n(470)(r,e),n(473)(r,e),r.Hacks=n(474)(r),n(475)(r),r.DigestAuthentication=n(476)(r.Utils),r.Grammar=n(477)(r),r}},function(e,t){e.exports={_args:[[{raw:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",scope:null,escapedName:"sip.js",name:"sip.js",rawSpec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",spec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",type:"hosted",hosted:{type:"github",ssh:"git@github.com:twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",sshUrl:"git+ssh://git@github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",httpsUrl:"git+https://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",gitUrl:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",shortcut:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",directUrl:"https://raw.githubusercontent.com/twilio/SIP.js/b884c74892836f70ced6010353852ebd9ce5b199/package.json"}},"/Users/katspaugh/Sites/language-roulette/node_modules/twilio-video"]],_from:"twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",_id:"sip.js@0.7.5",_inCache:!0,_location:"/sip.js",_phantomChildren:{options:"0.0.6",ultron:"1.0.2"},_requested:{raw:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",scope:null,escapedName:"sip.js",name:"sip.js",rawSpec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",spec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",type:"hosted",hosted:{type:"github",ssh:"git@github.com:twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",sshUrl:"git+ssh://git@github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",httpsUrl:"git+https://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",gitUrl:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",shortcut:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",directUrl:"https://raw.githubusercontent.com/twilio/SIP.js/b884c74892836f70ced6010353852ebd9ce5b199/package.json"}},_requiredBy:["/twilio-video"],_resolved:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",_shasum:"abfb579547df4e3a967f0344bd8dd8bd229d6f2c",_shrinkwrap:null,_spec:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",_where:"/Users/katspaugh/Sites/language-roulette/node_modules/twilio-video",author:{name:"OnSIP",email:"developer@onsip.com",url:"http://sipjs.com/authors/"},browser:{"./src/environment.js":"./src/environment_browser.js"},bugs:{url:"https://github.com/onsip/SIP.js/issues"},contributors:[{url:"https://github.com/onsip/SIP.js/blob/master/THANKS.md"}],dependencies:{pegjs:"^0.8.0",promiscuous:"^0.6.0",ws:"^1.0.1"},description:"A simple, intuitive, and powerful JavaScript signaling library",devDependencies:{beefy:"^2.1.5",browserify:"^4.1.8",grunt:"~0.4.0","grunt-browserify":"^4.0.1","grunt-cli":"~0.1.6","grunt-contrib-copy":"^0.5.0","grunt-contrib-jasmine":"^1.0.3","grunt-contrib-jshint":">0.5.0","grunt-contrib-uglify":"~0.2.0","grunt-peg":"~1.3.1","grunt-trimtrailingspaces":"^0.4.0"},engines:{node:">=0.12"},gitHead:"b884c74892836f70ced6010353852ebd9ce5b199",homepage:"http://sipjs.com",keywords:["sip","websocket","webrtc","library","javascript"],license:"MIT",main:"src/index.js",name:"sip.js",optionalDependencies:{promiscuous:"^0.6.0"},readme:'# SIP.js\n\n[![Build Status](https://travis-ci.org/onsip/SIP.js.png?branch=master)](https://travis-ci.org/onsip/SIP.js)\n\nA JavaScript SIP stack for WebRTC, instant messaging, and more!\n\n\n## Website and Documentation\n\n* [SIPjs.com](http://sipjs.com)\n* [Mailing List](https://groups.google.com/forum/#!forum/sip_js)\n* [Issue Tracking](https://github.com/onsip/sip.js/issues)\n\n\n## Download\n\n* [sipjs.com/download](http://sipjs.com/download/)\n* Bower: `bower install sip.js`\n* npm: `npm install sip.js`\n\n## Authors\n\n### James Criscuolo\n\n* <james@onsip.com>\n\n### Joseph Frazier\n\n* <1212jtraceur@gmail.com>\n* GitHub [@josephfrazier](https://github.com/josephfrazier)\n* Twitter [@josephfrazier_](https://twitter.com/josephfrazier_)\n\n### Eric Green\n\n* <eric.green@onsip.com>\n\n### Will Mitchell\n\n* <wakamoleguy@gmail.com>\n* GitHub [@wakamoleguy](http://github.com/wakamoleguy)\n* Twitter [@wakamoleguy](http://twitter.com/wakamoleguy)\n\n### JsSIP Authors\n\nSIP.js contains substantial portions of the JsSIP software. JsSIP\'s authors at time of fork are listed below. For up to date information about JsSIP, please visit [jssip.net](http://jssip.net)\n\n* José Luis Millán\n* Iñaki Baz Castillo\n* Saúl Ibarra Corretgé\n\n## License\n\nSIP.js is released under the [MIT license](http://sipjs.com/license).\n\nSIP.js contains substantial portions of the JsSIP software, under the following license:\n\n~~~\nCopyright (c) 2012-2013 José Luis Millán - Versatica <http://www.versatica.com>\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n~~~\n',readmeFilename:"README.md",repository:{type:"git",url:"git+https://github.com/onsip/SIP.js.git"},scripts:{build:"grunt build",postinstall:"cd src/Grammar && mkdir -p dist && pegjs --extra-options-file peg.json src/Grammar.pegjs dist/Grammar.js",repl:"beefy test/repl.js --open",test:"grunt travis --verbose"},title:"SIP.js",version:"0.7.5"}},function(e,t,n){"use strict";e.exports=function(e,t){var n;n={Promise:t.Promise,defer:function(){var e={};return e.promise=new n.Promise(function(t,n){e.resolve=t,e.reject=n}),e},promisify:function(e,t,r){var i=e[t];return function(t,o,a){return new n.Promise(function(n,o){var a=[t,n,o];r&&(a=[n,o,t]),i.apply(e,a)}).then(o,a)}},augment:function(e,t,n,r){var i,o;o=t.prototype;for(i in o)(r||void 0===e[i])&&(e[i]=o[i]);t.apply(e,n)},optionsOverride:function(e,t,n,r,i,o){r&&e[n]&&i.warn(n+" is deprecated, please use "+t+" instead"),e[t]&&e[n]&&i.warn(t+" overriding "+n),e[t]=e[t]||e[n]||o},str_utf8_length:function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},generateFakeSDP:function(e){if(e){var t=e.indexOf("o="),n=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,n)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},isFunction:function(e){return void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)},isDecimal:function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e,10)},createRandomToken:function(e,t){var n,r,i="";for(t=t||32,n=0;n<e;n++)r=Math.random()*t|0,i+=r.toString(t);return i},newTag:function(){return e.Utils.createRandomToken(e.UA.C.TAG_LENGTH)},newUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},hostType:function(t){if(t)return-1!==(t=e.Grammar.parse(t,"host"))?t.host_type:void 0},normalizeTarget:function(t,n){var r,i,o,a;if(t){if(t instanceof e.URI)return t;if("string"==typeof t){switch(i=t.split("@"),i.length){case 1:if(!n)return;o=t,a=n;break;case 2:o=i[0],a=i[1];break;default:o=i.slice(0,i.length-1).join("@"),a=i[i.length-1]}return o=o.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(o)&&(o=o.replace(/[\-\.\(\)]/g,"")),t=e.C.SIP+":"+e.Utils.escapeUser(o)+"@"+a,(r=e.URI.parse(t))?r:void 0}}else;},escapeUser:function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},headerize:function(e){var t,n={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),i="",o=r.length;for(t=0;t<o;t++)0!==t&&(i+="-"),i+=r[t].charAt(0).toUpperCase()+r[t].substring(1);return n[i]&&(i=n[i]),i},sipErrorCause:function(t){var n;for(n in e.C.SIP_ERROR_CAUSES)if(-1!==e.C.SIP_ERROR_CAUSES[n].indexOf(t))return e.C.causes[n];return e.C.causes.SIP_FAILURE_CODE},getReasonPhrase:function(t,n){return n||e.C.REASON_PHRASE[t]||""},getReasonHeaderValue:function(t,n){return n=e.Utils.getReasonPhrase(t,n),"SIP ;cause="+t+' ;text="'+n+'"'},getCancelReason:function(t,n){if(t&&t<200||t>699)throw new TypeError("Invalid status_code: "+t);if(t)return e.Utils.getReasonHeaderValue(t,n)},buildStatusLine:function(e,t){if(e=e||null,t=t||null,!e||e<100||e>699)throw new TypeError("Invalid status_code: "+e);if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: "+t);return t=n.getReasonPhrase(e,t),"SIP/2.0 "+e+" "+t+"\r\n"},getRandomTestNetIP:function(){return"192.0.2."+function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(1,254)},calculateMD5:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,i,o,a;return i=2147483648&e,o=2147483648&t,n=1073741824&e,r=1073741824&t,a=(1073741823&e)+(1073741823&t),n&r?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return e&n|t&~n}function o(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,i,o,a,s,c,u){return e=n(e,n(n(r(i,o,a),s),u)),n(t(e,c),i)}function c(e,r,o,a,s,c,u){return e=n(e,n(n(i(r,o,a),s),u)),n(t(e,c),r)}function u(e,r,i,a,s,c,u){return e=n(e,n(n(o(r,i,a),s),u)),n(t(e,c),r)}function l(e,r,i,o,s,c,u){return e=n(e,n(n(a(r,i,o),s),u)),n(t(e,c),r)}function p(e){var t,n,r="",i="";for(n=0;n<=3;n++)t=e>>>8*n&255,i="0"+t.toString(16),r+=i.substr(i.length-2,2);return r}var d,h,f,m,g,v,y,_,b,T=[];for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),T=function(e){for(var t,n=e.length,r=n+8,i=(r-r%64)/64,o=16*(i+1),a=Array(o-1),s=0,c=0;c<n;)t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|e.charCodeAt(c)<<s,c++;return t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|128<<s,a[o-2]=n<<3,a[o-1]=n>>>29,a}(e),v=1732584193,y=4023233417,_=2562383102,b=271733878,d=0;d<T.length;d+=16)h=v,f=y,m=_,g=b,v=s(v,y,_,b,T[d+0],7,3614090360),b=s(b,v,y,_,T[d+1],12,3905402710),_=s(_,b,v,y,T[d+2],17,606105819),y=s(y,_,b,v,T[d+3],22,3250441966),v=s(v,y,_,b,T[d+4],7,4118548399),b=s(b,v,y,_,T[d+5],12,1200080426),_=s(_,b,v,y,T[d+6],17,2821735955),y=s(y,_,b,v,T[d+7],22,4249261313),v=s(v,y,_,b,T[d+8],7,1770035416),b=s(b,v,y,_,T[d+9],12,2336552879),_=s(_,b,v,y,T[d+10],17,4294925233),y=s(y,_,b,v,T[d+11],22,2304563134),v=s(v,y,_,b,T[d+12],7,1804603682),b=s(b,v,y,_,T[d+13],12,4254626195),_=s(_,b,v,y,T[d+14],17,2792965006),y=s(y,_,b,v,T[d+15],22,1236535329),v=c(v,y,_,b,T[d+1],5,4129170786),b=c(b,v,y,_,T[d+6],9,3225465664),_=c(_,b,v,y,T[d+11],14,643717713),y=c(y,_,b,v,T[d+0],20,3921069994),v=c(v,y,_,b,T[d+5],5,3593408605),b=c(b,v,y,_,T[d+10],9,38016083),_=c(_,b,v,y,T[d+15],14,3634488961),y=c(y,_,b,v,T[d+4],20,3889429448),v=c(v,y,_,b,T[d+9],5,568446438),b=c(b,v,y,_,T[d+14],9,3275163606),_=c(_,b,v,y,T[d+3],14,4107603335),y=c(y,_,b,v,T[d+8],20,1163531501),v=c(v,y,_,b,T[d+13],5,2850285829),b=c(b,v,y,_,T[d+2],9,4243563512),_=c(_,b,v,y,T[d+7],14,1735328473),y=c(y,_,b,v,T[d+12],20,2368359562),v=u(v,y,_,b,T[d+5],4,4294588738),b=u(b,v,y,_,T[d+8],11,2272392833),_=u(_,b,v,y,T[d+11],16,1839030562),y=u(y,_,b,v,T[d+14],23,4259657740),v=u(v,y,_,b,T[d+1],4,2763975236),b=u(b,v,y,_,T[d+4],11,1272893353),_=u(_,b,v,y,T[d+7],16,4139469664),y=u(y,_,b,v,T[d+10],23,3200236656),v=u(v,y,_,b,T[d+13],4,681279174),b=u(b,v,y,_,T[d+0],11,3936430074),_=u(_,b,v,y,T[d+3],16,3572445317),y=u(y,_,b,v,T[d+6],23,76029189),v=u(v,y,_,b,T[d+9],4,3654602809),b=u(b,v,y,_,T[d+12],11,3873151461),_=u(_,b,v,y,T[d+15],16,530742520),y=u(y,_,b,v,T[d+2],23,3299628645),v=l(v,y,_,b,T[d+0],6,4096336452),b=l(b,v,y,_,T[d+7],10,1126891415),_=l(_,b,v,y,T[d+14],15,2878612391),y=l(y,_,b,v,T[d+5],21,4237533241),v=l(v,y,_,b,T[d+12],6,1700485571),b=l(b,v,y,_,T[d+3],10,2399980690),_=l(_,b,v,y,T[d+10],15,4293915773),y=l(y,_,b,v,T[d+1],21,2240044497),v=l(v,y,_,b,T[d+8],6,1873313359),b=l(b,v,y,_,T[d+15],10,4264355552),_=l(_,b,v,y,T[d+6],15,2734768916),y=l(y,_,b,v,T[d+13],21,1309151649),v=l(v,y,_,b,T[d+4],6,4149444226),b=l(b,v,y,_,T[d+11],10,3174756917),_=l(_,b,v,y,T[d+2],15,718787259),y=l(y,_,b,v,T[d+9],21,3951481745),v=n(v,h),y=n(y,f),_=n(_,m),b=n(b,g);return(p(v)+p(y)+p(_)+p(b)).toLowerCase()}},e.Utils=n}},function(e,t,n){"use strict";var r={error:0,warn:1,log:2,debug:3};e.exports=function(e){function t(e,t,n){this.logger=e,this.category=t,this.label=n}var n=function(){var e,t=2,n=!0,i=null;this.loggers={},e=this.getLogger("sip.loggerfactory"),Object.defineProperties(this,{builtinEnabled:{get:function(){return n},set:function(t){"boolean"==typeof t?n=t:e.error('invalid "builtinEnabled" parameter value: '+JSON.stringify(t))}},level:{get:function(){return t},set:function(n){n>=0&&n<=3?t=n:n>3?t=3:r.hasOwnProperty(n)?t=r[n]:e.error('invalid "level" parameter value: '+JSON.stringify(n))}},connector:{get:function(){return i},set:function(t){null===t||""===t||void 0===t?i=null:"function"==typeof t?i=t:e.error('invalid "connector" parameter value: '+JSON.stringify(t))}}})};return n.prototype.print=function(t,n,r,i){if("string"==typeof i){var o=[new Date,n];r&&o.push(r),i=o.concat(i).join(" | ")}t.call(e,i)},Object.keys(r).forEach(function(i){t.prototype[i]=function(e){this.logger[i](this.category,this.label,e)},n.prototype[i]=function(t,n,o){this.level>=r[i]&&(this.builtinEnabled&&this.print(e[i],t,n,o),this.connector&&this.connector(i,t,n,o))}}),n.prototype.getLogger=function(e,n){var r;return n&&3===this.level?new t(this,e,n):this.loggers[e]?this.loggers[e]:(r=new t(this,e),this.loggers[e]=r,r)},n}},function(e,t,n){"use strict";var r=n(8).EventEmitter;e.exports=function(e){function t(){r.call(this)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),t.prototype.off=function(t,n){var r="";return r+="SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.\n",r+="Please use removeListener or removeAllListeners instead.\n",r+="See here for more details:\n",r+="http://nodejs.org/api/events.html#events_emitter_removelistener_event_listener",e.warn(r),arguments.length<2?this.removeAllListeners.apply(this,arguments):this.removeListener(t,n)},t}},function(e,t,n){"use strict";e.exports=function(e,t){return{USER_AGENT:e+"/"+t,SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",AUTHENTICATION_ERROR:"Authentication Error",DIALOG_ERROR:"Dialog Error",WEBRTC_NOT_SUPPORTED:"WebRTC Not Supported",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",NO_PRACK:"No PRACK",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},supported:{UNSUPPORTED:"none",SUPPORTED:"supported",REQUIRED:"required"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",REFER:"REFER",PRACK:"PRACK",REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},OPTION_TAGS:{"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}}}},function(e,t,n){"use strict";e.exports={ConfigurationError:function(){var e=function(e,t){this.code=1,this.name="CONFIGURATION_ERROR",this.parameter=e,this.value=t,this.message=this.value?"Invalid value "+JSON.stringify(this.value)+' for parameter "'+this.parameter+'"':"Missing parameter: "+this.parameter};return e.prototype=new Error,e}(),InvalidStateError:function(){var e=function(e){this.code=2,this.name="INVALID_STATE_ERROR",this.status=e,this.message="Invalid status: "+e};return e.prototype=new Error,e}(),NotSupportedError:function(){var e=function(e){this.code=3,this.name="NOT_SUPPORTED_ERROR",this.message=e};return e.prototype=new Error,e}(),GetDescriptionError:function(){var e=function(e){this.code=4,this.name="GET_DESCRIPTION_ERROR",this.message=e};return e.prototype=new Error,e}()}},function(e,t,n){"use strict";var r=500;e.exports=function(e){var t={T1:r,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};return["setTimeout","clearTimeout","setInterval","clearInterval"].forEach(function(n){t[n]=function(){return e[n].apply(e,arguments)}}),t}},function(e,t,n){"use strict";e.exports=function(e){function t(e,t){var n=t,r=0,i=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(i=e.indexOf("\r\n",n)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?n=i+2:r=i}return r}function n(t,n,r,i){var o,a,s,c,u=n.indexOf(":",r),l=n.substring(r,u).trim(),p=n.substring(u+1,i).trim();switch(l.toLowerCase()){case"via":case"v":t.addHeader("via",p),1===t.getHeaders("via").length?(c=t.parseHeader("Via"))&&(t.via=c,t.via_branch=c.branch):c=0;break;case"from":case"f":t.setHeader("from",p),c=t.parseHeader("from"),c&&(t.from=c,t.from_tag=c.getParam("tag"));break;case"to":case"t":t.setHeader("to",p),c=t.parseHeader("to"),c&&(t.to=c,t.to_tag=c.getParam("tag"));break;case"record-route":if(-1===(c=e.Grammar.parse(p,"Record_Route"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],t.addHeader("record-route",p.substring(o.position,o.offset)),t.headers["Record-Route"][t.getHeaders("record-route").length-1].parsed=o.parsed;break;case"call-id":case"i":t.setHeader("call-id",p),c=t.parseHeader("call-id"),c&&(t.call_id=p);break;case"contact":case"m":if(-1===(c=e.Grammar.parse(p,"Contact"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],t.addHeader("contact",p.substring(o.position,o.offset)),t.headers.Contact[t.getHeaders("contact").length-1].parsed=o.parsed;break;case"content-length":case"l":t.setHeader("content-length",p),c=t.parseHeader("content-length");break;case"content-type":case"c":t.setHeader("content-type",p),c=t.parseHeader("content-type");break;case"cseq":t.setHeader("cseq",p),c=t.parseHeader("cseq"),c&&(t.cseq=c.value),t instanceof e.IncomingResponse&&(t.method=c.method);break;case"max-forwards":t.setHeader("max-forwards",p),c=t.parseHeader("max-forwards");break;case"www-authenticate":t.setHeader("www-authenticate",p),c=t.parseHeader("www-authenticate");break;case"proxy-authenticate":t.setHeader("proxy-authenticate",p),c=t.parseHeader("proxy-authenticate");break;case"refer-to":case"r":t.setHeader("refer-to",p),c=t.parseHeader("refer-to"),c&&(t.refer_to=c);break;default:t.setHeader(l,p),c=0}return void 0!==c||{error:'error parsing header "'+l+'"'}}var r;r={},r.parseMessage=function(r,i){var o,a,s,c,u,l=0,p=r.indexOf("\r\n"),d=i.getLogger("sip.parser");if(-1===p)return void d.warn("no CRLF found, not a SIP message, discarded");if(a=r.substring(0,p),-1===(u=e.Grammar.parse(a,"Request_Response")))return void d.warn('error parsing first line of SIP message: "'+a+'"');for(u.status_code?(o=new e.IncomingResponse(i),o.status_code=u.status_code,o.reason_phrase=u.reason_phrase):(o=new e.IncomingRequest(i),o.method=u.method,o.ruri=u.uri),o.data=r,l=p+2;;){if(-2===(p=t(r,l))){c=l+2;break}if(-1===p)return void d.error("malformed message");if(!0!==(u=n(o,r,l,p)))return void d.error(u.error);l=p+2}return o.hasHeader("content-length")?(s=o.getHeader("content-length"),o.body=r.substr(c,s)):o.body=r.substring(c),o},e.Parser=r}},function(e,t,n){"use strict";e.exports=function(e){function t(t){var n=t.ua.configuration.hackAllowUnregisteredOptionTags,r=[],i={};return t.method===e.C.REGISTER?r.push("path","gruu"):t.method===e.C.INVITE&&(t.ua.contact.pub_gruu||t.ua.contact.temp_gruu)&&r.push("gruu"),t.ua.configuration.rel100===e.C.supported.SUPPORTED&&r.push("100rel"),t.ua.configuration.replaces===e.C.supported.SUPPORTED&&r.push("replaces"),r.push("outbound"),r=r.concat(t.ua.configuration.extraSupported),r=r.filter(function(t){var r=e.C.OPTION_TAGS[t],o=!i[t];return i[t]=!0,(r||n)&&o}),"Supported: "+r.join(", ")+"\r\n"}var n,r,i,o;n=function(t,n,r,i,o,a){var s,c,u,l,p,d;if(i=i||{},!t||!n||!r)return null;this.logger=r.getLogger("sip.sipmessage"),this.ua=r,this.headers={},this.method=t,this.ruri=n,this.body=a,this.extraHeaders=(o||[]).slice(),this.statusCode=i.status_code,this.reasonPhrase=i.reason_phrase,i.route_set?this.setHeader("route",i.route_set):r.configuration.usePreloadedRoute&&this.setHeader("route",r.transport.server.sip_uri),this.setHeader("via",""),this.setHeader("max-forwards",e.UA.C.MAX_FORWARDS),p=i.to_uri||n,s=i.to_displayName||0===i.to_displayName?'"'+i.to_displayName+'" ':"",s+="<"+(p&&p.toRaw?p.toRaw():p)+">",s+=i.to_tag?";tag="+i.to_tag:"",this.to=new e.NameAddrHeader.parse(s),this.setHeader("to",s),d=i.from_uri||r.configuration.uri,c=i.from_displayName||0===i.from_displayName?'"'+i.from_displayName+'" ':r.configuration.displayName?'"'+r.configuration.displayName+'" ':"",c+="<"+(d&&d.toRaw?d.toRaw():d)+">;tag=",c+=i.from_tag||e.Utils.newTag(),this.from=new e.NameAddrHeader.parse(c),this.setHeader("from",c),u=i.call_id||r.configuration.sipjsId+e.Utils.createRandomToken(15),this.call_id=u,this.setHeader("call-id",u),l=i.cseq||Math.floor(1e4*Math.random()),this.cseq=l,this.setHeader("cseq",l+" "+t)},n.prototype={setHeader:function(t,n){this.headers[e.Utils.headerize(t)]=n instanceof Array?n:[n]},getHeader:function(t){var n,r,i=this.extraHeaders.length,o=this.headers[e.Utils.headerize(t)];if(o){if(o[0])return o[0]}else for(n=new RegExp("^\\s*"+t+"\\s*:","i"),r=0;r<i;r++)if(o=this.extraHeaders[r],n.test(o))return o.substring(o.indexOf(":")+1).trim()},getHeaders:function(t){var n,r,i,o=this.headers[e.Utils.headerize(t)],a=[];if(o){for(r=o.length,n=0;n<r;n++)a.push(o[n]);return a}for(r=this.extraHeaders.length,i=new RegExp("^\\s*"+t+"\\s*:","i"),n=0;n<r;n++)o=this.extraHeaders[n],i.test(o)&&a.push(o.substring(o.indexOf(":")+1).trim());return a},hasHeader:function(t){var n,r,i=this.extraHeaders.length;if(this.headers[e.Utils.headerize(t)])return!0;for(n=new RegExp("^\\s*"+t+"\\s*:","i"),r=0;r<i;r++)if(n.test(this.extraHeaders[r]))return!0;return!1},toString:function(){var n,r,i,o="";o+=this.method+" "+(this.ruri.toRaw?this.ruri.toRaw():this.ruri)+" SIP/2.0\r\n";for(n in this.headers)for(r=this.headers[n].length,i=0;i<r;i++)o+=n+": "+this.headers[n][i]+"\r\n";for(r=this.extraHeaders.length,i=0;i<r;i++)o+=this.extraHeaders[i].trim()+"\r\n";return o+=t(this),o+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",this.body?"string"==typeof this.body?(r=e.Utils.str_utf8_length(this.body),o+="Content-Length: "+r+"\r\n\r\n",o+=this.body):this.body.body&&this.body.contentType?(r=e.Utils.str_utf8_length(this.body.body),o+="Content-Type: "+this.body.contentType+"\r\n",o+="Content-Length: "+r+"\r\n\r\n",o+=this.body.body):o+="Content-Length: 0\r\n\r\n":o+="Content-Length: 0\r\n\r\n",o}},r=function(){this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null},r.prototype={addHeader:function(t,n){var r={raw:n};t=e.Utils.headerize(t),this.headers[t]?this.headers[t].push(r):this.headers[t]=[r]},getHeader:function(t){var n=this.headers[e.Utils.headerize(t)];if(n)return n[0]?n[0].raw:void 0},getHeaders:function(t){var n,r,i=this.headers[e.Utils.headerize(t)],o=[];if(!i)return[];for(r=i.length,n=0;n<r;n++)o.push(i[n].raw);return o},hasHeader:function(t){return!!this.headers[e.Utils.headerize(t)]},parseHeader:function(t,n){var r,i,o;return t=e.Utils.headerize(t),n=n||0,this.headers[t]?n>=this.headers[t].length?void this.logger.log('not so many "'+t+'" headers present'):(r=this.headers[t][n],i=r.raw,r.parsed?r.parsed:(o=e.Grammar.parse(i,t.replace(/-/g,"_")),-1===o?(this.headers[t].splice(n,1),void this.logger.warn('error parsing "'+t+'" header field with value "'+i+'"')):(r.parsed=o,o))):void this.logger.log('header "'+t+'" not present')},s:function(e,t){return this.parseHeader(e,t)},setHeader:function(t,n){var r={raw:n};this.headers[e.Utils.headerize(t)]=[r]},toString:function(){return this.data}},i=function(e){this.logger=e.getLogger("sip.sipmessage"),this.ua=e,this.headers={},this.ruri=null,this.transport=null,this.server_transaction=null},i.prototype=new r,i.prototype.reply=function(n,r,i,o,a,s){var c,u,l,p,d,h=this.getHeader("To"),f=0,m=0;if(d=e.Utils.buildStatusLine(n,r),i=(i||[]).slice(),this.method===e.C.INVITE&&n>100&&n<=200)for(c=this.getHeaders("record-route"),l=c.length,f;f<l;f++)d+="Record-Route: "+c[f]+"\r\n";for(u=this.getHeaders("via"),l=u.length,m;m<l;m++)d+="Via: "+u[m]+"\r\n";for(!this.to_tag&&n>100?h+=";tag="+e.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(h+=";tag="+this.to_tag),d+="To: "+h+"\r\n",d+="From: "+this.getHeader("From")+"\r\n",d+="Call-ID: "+this.call_id+"\r\n",d+="CSeq: "+this.cseq+" "+this.method+"\r\n",l=i.length,p=0;p<l;p++)d+=i[p].trim()+"\r\n";return d+=t(this),d+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",o?"string"==typeof o?(l=e.Utils.str_utf8_length(o),d+="Content-Type: application/sdp\r\n",d+="Content-Length: "+l+"\r\n\r\n",d+=o):o.body&&o.contentType?(l=e.Utils.str_utf8_length(o.body),d+="Content-Type: "+o.contentType+"\r\n",d+="Content-Length: "+l+"\r\n\r\n",d+=o.body):d+="Content-Length: 0\r\n\r\n":d+="Content-Length: 0\r\n\r\n",this.server_transaction.receiveResponse(n,d).then(a,s),d},i.prototype.reply_sl=function(t,n){var r,i,o=0,a=this.getHeaders("via"),s=a.length;for(i=e.Utils.buildStatusLine(t,n),o;o<s;o++)i+="Via: "+a[o]+"\r\n";r=this.getHeader("To"),!this.to_tag&&t>100?r+=";tag="+e.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(r+=";tag="+this.to_tag),i+="To: "+r+"\r\n",i+="From: "+this.getHeader("From")+"\r\n",i+="Call-ID: "+this.call_id+"\r\n",i+="CSeq: "+this.cseq+" "+this.method+"\r\n",i+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",i+="Content-Length: 0\r\n\r\n",this.transport.send(i)},o=function(e){this.logger=e.getLogger("sip.sipmessage"),this.headers={},this.status_code=null,this.reason_phrase=null},o.prototype=new r,e.OutgoingRequest=n,e.IncomingRequest=i,e.IncomingResponse=o}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t,n,r,i,o,a){var s,c,u,l;if(!r)throw new TypeError('missing or invalid "host" parameter');t=t||e.C.SIP,this.parameters={},this.headers={};for(s in o)this.setParam(s,o[s]);for(c in a)this.setHeader(c,a[c]);u={scheme:t,user:n,host:r,port:i},l={scheme:t.toLowerCase(),user:n,host:r.toLowerCase(),port:i},Object.defineProperties(this,{_normal:{get:function(){return l}},_raw:{get:function(){return u}},scheme:{get:function(){return l.scheme},set:function(e){u.scheme=e,l.scheme=e.toLowerCase()}},user:{get:function(){return l.user},set:function(e){l.user=u.user=e}},host:{get:function(){return l.host},set:function(e){u.host=e,l.host=e.toLowerCase()}},aor:{get:function(){return l.user+"@"+l.host}},port:{get:function(){return l.port},set:function(e){l.port=u.port=0===e?e:parseInt(e,10)||null}}})},t.prototype={setParam:function(e,t){e&&(this.parameters[e.toLowerCase()]=void 0===t||null===t?null:t.toString().toLowerCase())},getParam:function(e){if(e)return this.parameters[e.toLowerCase()]},hasParam:function(e){if(e)return this.parameters.hasOwnProperty(e.toLowerCase())&&!0||!1},deleteParam:function(e){var t;if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e))return t=this.parameters[e],delete this.parameters[e],t},clearParams:function(){this.parameters={}},setHeader:function(t,n){this.headers[e.Utils.headerize(t)]=n instanceof Array?n:[n]},getHeader:function(t){if(t)return this.headers[e.Utils.headerize(t)]},hasHeader:function(t){if(t)return this.headers.hasOwnProperty(e.Utils.headerize(t))&&!0||!1},deleteHeader:function(t){var n;if(t=e.Utils.headerize(t),this.headers.hasOwnProperty(t))return n=this.headers[t],delete this.headers[t],n},clearHeaders:function(){this.headers={}},clone:function(){return new t(this._raw.scheme,this._raw.user,this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},toRaw:function(){return this._toString(this._raw)},toString:function(){return this._toString(this._normal)},_toString:function(t){var n,r,i,o,a=[];o=t.scheme+":",t.scheme.toLowerCase().match("^sips?$")||(o+="//"),t.user&&(o+=e.Utils.escapeUser(t.user)+"@"),o+=t.host,(t.port||0===t.port)&&(o+=":"+t.port);for(r in this.parameters)o+=";"+r,null!==this.parameters[r]&&(o+="="+this.parameters[r]);for(n in this.headers)for(i in this.headers[n])a.push(n+"="+this.headers[n][i]);return a.length>0&&(o+="?"+a.join("&")),o}},t.parse=function(t){return t=e.Grammar.parse(t,"SIP_URI"),-1!==t?t:void 0},e.URI=t}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t,n,r){var i;if(!(t&&t instanceof e.URI))throw new TypeError('missing or invalid "uri" parameter');this.uri=t,this.parameters={};for(i in r)this.setParam(i,r[i]);Object.defineProperties(this,{friendlyName:{get:function(){return this.displayName||t.aor}},displayName:{get:function(){return n},set:function(e){n=0===e?"0":e}}})},t.prototype={setParam:function(e,t){e&&(this.parameters[e.toLowerCase()]=void 0===t||null===t?null:t.toString())},getParam:e.URI.prototype.getParam,hasParam:e.URI.prototype.hasParam,deleteParam:e.URI.prototype.deleteParam,clearParams:e.URI.prototype.clearParams,clone:function(){return new t(this.uri.clone(),this.displayName,JSON.parse(JSON.stringify(this.parameters)))},toString:function(){var e,t;e=this.displayName||0===this.displayName?'"'+this.displayName+'" ':"",e+="<"+this.uri.toString()+">";for(t in this.parameters)e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]);return e}},t.parse=function(t){return t=e.Grammar.parse(t,"Name_Addr_Header"),-1!==t?t:void 0},e.NameAddrHeader=t}},function(e,t,n){"use strict";e.exports=function(e){function t(e,t,n){var r;return r="SIP/2.0/"+(e.ua.configuration.hackViaTcp?"TCP":t.server.scheme),r+=" "+e.ua.configuration.viaHost+";branch="+n,e.ua.configuration.forceRport&&(r+=";rport"),r}var n={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},r=function(e,r,i){var o;this.type=n.NON_INVITE_CLIENT,this.transport=i,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=r,this.logger=e.ua.getLogger("sip.transaction.nict",this.id),o=t(e,i,this.id),this.request.setHeader("via",o),this.request_sender.ua.newTransaction(this)};r.prototype=Object.create(e.EventEmitter.prototype),r.prototype.stateChanged=function(e){this.state=e,this.emit("stateChanged")},r.prototype.send=function(){var t=this;this.stateChanged(n.STATUS_TRYING),this.F=e.Timers.setTimeout(t.timer_F.bind(t),e.Timers.TIMER_F),this.transport.send(this.request)||this.onTransportError()},r.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting non-INVITE client transaction "+this.id),e.Timers.clearTimeout(this.F),e.Timers.clearTimeout(this.K),this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onTransportError()},r.prototype.timer_F=function(){this.logger.log("Timer F expired for non-INVITE client transaction "+this.id),this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout()},r.prototype.timer_K=function(){this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},r.prototype.receiveResponse=function(t){var r=this,i=t.status_code;if(i<200)switch(this.state){case n.STATUS_TRYING:case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_PROCEEDING),this.request_sender.receiveResponse(t)}else switch(this.state){case n.STATUS_TRYING:case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_COMPLETED),e.Timers.clearTimeout(this.F),408===i?this.request_sender.onRequestTimeout():this.request_sender.receiveResponse(t),this.K=e.Timers.setTimeout(r.timer_K.bind(r),e.Timers.TIMER_K)}};var i=function(e,r,i){var o,a=this;this.type=n.INVITE_CLIENT,this.transport=i,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=r,this.logger=e.ua.getLogger("sip.transaction.ict",this.id),o=t(e,i,this.id),this.request.setHeader("via",o),this.request_sender.ua.newTransaction(this),this.request.cancel=function(e,t){t=(t||[]).slice();for(var n=t.length,r=null,i=0;i<n;i++)r=(r||"")+t[i].trim()+"\r\n";a.cancel_request(a,e,r)}};i.prototype=Object.create(e.EventEmitter.prototype),i.prototype.stateChanged=function(e){this.state=e,this.emit("stateChanged")},i.prototype.send=function(){var t=this;this.stateChanged(n.STATUS_CALLING),this.B=e.Timers.setTimeout(t.timer_B.bind(t),e.Timers.TIMER_B),this.transport.send(this.request)||this.onTransportError()},i.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting INVITE client transaction "+this.id),e.Timers.clearTimeout(this.B),e.Timers.clearTimeout(this.D),e.Timers.clearTimeout(this.M),this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.state!==n.STATUS_ACCEPTED&&this.request_sender.onTransportError()},i.prototype.timer_M=function(){this.logger.log("Timer M expired for INVITE client transaction "+this.id),this.state===n.STATUS_ACCEPTED&&(e.Timers.clearTimeout(this.B),this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this))},i.prototype.timer_B=function(){this.logger.log("Timer B expired for INVITE client transaction "+this.id),this.state===n.STATUS_CALLING&&(this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout())},i.prototype.timer_D=function(){this.logger.log("Timer D expired for INVITE client transaction "+this.id),e.Timers.clearTimeout(this.B),this.stateChanged(n.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},i.prototype.sendACK=function(t){var n=this;this.ack="ACK "+this.request.ruri+" SIP/2.0\r\n",this.ack+="Via: "+this.request.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.ack+="Route: "+this.request.headers.Route.toString()+"\r\n"),this.ack+="To: "+t.getHeader("to")+"\r\n",this.ack+="From: "+this.request.headers.From.toString()+"\r\n",this.ack+="Call-ID: "+this.request.headers["Call-ID"].toString()+"\r\n",this.ack+="Content-Length: 0\r\n",this.ack+="CSeq: "+this.request.headers.CSeq.toString().split(" ")[0],this.ack+=" ACK\r\n\r\n",this.D=e.Timers.setTimeout(n.timer_D.bind(n),e.Timers.TIMER_D),this.transport.send(this.ack)},i.prototype.cancel_request=function(t,r,i){var o=t.request;this.cancel=e.C.CANCEL+" "+o.ruri+" SIP/2.0\r\n",this.cancel+="Via: "+o.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.cancel+="Route: "+o.headers.Route.toString()+"\r\n"),this.cancel+="To: "+o.headers.To.toString()+"\r\n",this.cancel+="From: "+o.headers.From.toString()+"\r\n",this.cancel+="Call-ID: "+o.headers["Call-ID"].toString()+"\r\n",this.cancel+="CSeq: "+o.headers.CSeq.toString().split(" ")[0]+" CANCEL\r\n",r&&(this.cancel+="Reason: "+r+"\r\n"),i&&(this.cancel+=i),this.cancel+="Content-Length: 0\r\n\r\n",this.state===n.STATUS_PROCEEDING&&this.transport.send(this.cancel)},i.prototype.receiveResponse=function(t){var r=this,i=t.status_code;if(i>=100&&i<=199)switch(this.state){case n.STATUS_CALLING:this.stateChanged(n.STATUS_PROCEEDING),this.request_sender.receiveResponse(t),this.cancel&&this.transport.send(this.cancel);break;case n.STATUS_PROCEEDING:this.request_sender.receiveResponse(t)}else if(i>=200&&i<=299)switch(this.state){case n.STATUS_CALLING:case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_ACCEPTED),this.M=e.Timers.setTimeout(r.timer_M.bind(r),e.Timers.TIMER_M),this.request_sender.receiveResponse(t);break;case n.STATUS_ACCEPTED:this.request_sender.receiveResponse(t)}else if(i>=300&&i<=699)switch(this.state){case n.STATUS_CALLING:case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_COMPLETED),this.sendACK(t),this.request_sender.receiveResponse(t);break;case n.STATUS_COMPLETED:this.sendACK(t)}};var o=function(e,n,r){var i;this.transport=r,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=n,this.logger=e.ua.getLogger("sip.transaction.nict",this.id),i=t(e,r,this.id),this.request.setHeader("via",i)};o.prototype=Object.create(e.EventEmitter.prototype),o.prototype.send=function(){this.transport.send(this.request)||this.onTransportError()},o.prototype.onTransportError=function(){this.logger.log("transport error occurred, for an ACK client transaction "+this.id),this.request_sender.onTransportError()};var a=function(e,t){this.type=n.NON_INVITE_SERVER,this.id=e.via_branch,this.request=e,this.transport=e.transport,this.ua=t,this.last_response="",e.server_transaction=this,this.logger=t.getLogger("sip.transaction.nist",this.id),this.state=n.STATUS_TRYING,t.newTransaction(this)};a.prototype=Object.create(e.EventEmitter.prototype),a.prototype.stateChanged=function(e){this.state=e,this.emit("stateChanged")},a.prototype.timer_J=function(){this.logger.log("Timer J expired for non-INVITE server transaction "+this.id),this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this)},a.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting non-INVITE server transaction "+this.id),e.Timers.clearTimeout(this.J),this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this))},a.prototype.receiveResponse=function(t,r){var i=this,o=e.Utils.defer();if(100===t)switch(this.state){case n.STATUS_TRYING:this.stateChanged(n.STATUS_PROCEEDING),this.transport.send(r)||this.onTransportError();break;case n.STATUS_PROCEEDING:this.last_response=r,this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}else if(t>=200&&t<=699)switch(this.state){case n.STATUS_TRYING:case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_COMPLETED),this.last_response=r,this.J=e.Timers.setTimeout(i.timer_J.bind(i),e.Timers.TIMER_J),this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}return o.promise};var s=function(e,t){this.type=n.INVITE_SERVER,this.id=e.via_branch,this.request=e,this.transport=e.transport,this.ua=t,this.last_response="",e.server_transaction=this,this.logger=t.getLogger("sip.transaction.ist",this.id),this.state=n.STATUS_PROCEEDING,t.newTransaction(this),this.resendProvisionalTimer=null,e.reply(100)};s.prototype=Object.create(e.EventEmitter.prototype),s.prototype.stateChanged=function(e){this.state=e,this.emit("stateChanged")},s.prototype.timer_H=function(){this.logger.log("Timer H expired for INVITE server transaction "+this.id),this.state===n.STATUS_COMPLETED&&this.logger.warn("transactions","ACK for INVITE server transaction was never received, call will be terminated"),this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this)},s.prototype.timer_I=function(){this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this)},s.prototype.timer_L=function(){this.logger.log("Timer L expired for INVITE server transaction "+this.id),this.state===n.STATUS_ACCEPTED&&(this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this))},s.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting INVITE server transaction "+this.id),null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),e.Timers.clearTimeout(this.L),e.Timers.clearTimeout(this.H),e.Timers.clearTimeout(this.I),this.stateChanged(n.STATUS_TERMINATED),this.ua.destroyTransaction(this))},s.prototype.resend_provisional=function(){this.transport.send(this.last_response)||this.onTransportError()},s.prototype.receiveResponse=function(t,r){var i=this,o=e.Utils.defer();if(t>=100&&t<=199)switch(this.state){case n.STATUS_PROCEEDING:this.transport.send(r)||this.onTransportError(),this.last_response=r}if(t>100&&t<=199&&this.state===n.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=e.Timers.setInterval(i.resend_provisional.bind(i),e.Timers.PROVISIONAL_RESPONSE_INTERVAL));else if(t>=200&&t<=299)switch(this.state){case n.STATUS_PROCEEDING:this.stateChanged(n.STATUS_ACCEPTED),this.last_response=r,this.L=e.Timers.setTimeout(i.timer_L.bind(i),e.Timers.TIMER_L),null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case n.STATUS_ACCEPTED:this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}else if(t>=300&&t<=699)switch(this.state){case n.STATUS_PROCEEDING:null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(r)?(this.stateChanged(n.STATUS_COMPLETED),this.H=e.Timers.setTimeout(i.timer_H.bind(i),e.Timers.TIMER_H),o.resolve()):(this.onTransportError(),o.reject())}return o.promise};var c=function(t,r){var i;switch(r.method){case e.C.INVITE:if(i=t.transactions.ist[r.via_branch]){switch(i.state){case n.STATUS_PROCEEDING:i.transport.send(i.last_response)}return!0}break;case e.C.ACK:if(!(i=t.transactions.ist[r.via_branch]))return!1;if(i.state===n.STATUS_ACCEPTED)return!1;if(i.state===n.STATUS_COMPLETED)return i.stateChanged(n.STATUS_CONFIRMED),i.I=e.Timers.setTimeout(i.timer_I.bind(i),e.Timers.TIMER_I),!0;break;case e.C.CANCEL:return i=t.transactions.ist[r.via_branch],i?(r.reply_sl(200),i.state!==n.STATUS_PROCEEDING):(r.reply_sl(481),!0);default:if(i=t.transactions.nist[r.via_branch]){switch(i.state){case n.STATUS_TRYING:break;case n.STATUS_PROCEEDING:case n.STATUS_COMPLETED:i.transport.send(i.last_response)}return!0}}};e.Transactions={C:n,checkTransaction:c,NonInviteClientTransaction:r,InviteClientTransaction:i,AckClientTransaction:o,NonInviteServerTransaction:a,InviteServerTransaction:s}}},function(e,t,n){"use strict";e.exports=function(e){var t,r=n(460)(e),i={STATUS_EARLY:1,STATUS_CONFIRMED:2};t=function(t,n,r,o){var a;if(this.uac_pending_reply=!1,this.uas_pending_reply=!1,!n.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};o=n instanceof e.IncomingResponse?n.status_code<200?i.STATUS_EARLY:i.STATUS_CONFIRMED:o||i.STATUS_CONFIRMED,a=n.parseHeader("contact"),"UAS"===r?(this.id={call_id:n.call_id,local_tag:n.to_tag,remote_tag:n.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.remote_seqnum=n.cseq,this.local_uri=n.parseHeader("to").uri,this.remote_uri=n.parseHeader("from").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route"),this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq):"UAC"===r&&(this.id={call_id:n.call_id,local_tag:n.from_tag,remote_tag:n.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq,this.local_uri=n.parseHeader("from").uri,this.pracked=[],this.remote_uri=n.parseHeader("to").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route").reverse(),this.state!==i.STATUS_EARLY||t.hasOffer||(this.mediaHandler=t.mediaHandlerFactory(t))),this.logger=t.ua.getLogger("sip.dialog",this.id.toString()),this.owner=t,t.ua.dialogs[this.id.toString()]=this,this.logger.log("new "+r+" dialog created with status "+(this.state===i.STATUS_EARLY?"EARLY":"CONFIRMED")),t.emit("dialog",this)},t.prototype={update:function(e,t){this.state=i.STATUS_CONFIRMED,this.logger.log("dialog "+this.id.toString()+"  changed to CONFIRMED state"),"UAC"===t&&(this.route_set=e.getHeaders("record-route").reverse())},terminate:function(){this.logger.log("dialog "+this.id.toString()+" deleted"),this.mediaHandler&&this.state!==i.STATUS_CONFIRMED&&this.mediaHandler.peerConnection.close(),delete this.owner.ua.dialogs[this.id.toString()]},createRequest:function(t,n,r){var i,o;return n=(n||[]).slice(),this.local_seqnum||(this.local_seqnum=Math.floor(1e4*Math.random())),i=t===e.C.CANCEL||t===e.C.ACK?this.invite_seqnum:this.local_seqnum+=1,o=new e.OutgoingRequest(t,this.remote_target,this.owner.ua,{cseq:i,call_id:this.id.call_id,from_uri:this.local_uri,from_tag:this.id.local_tag,to_uri:this.remote_uri,to_tag:this.id.remote_tag,route_set:this.route_set},n,r),o.dialog=this,o},checkInDialogRequest:function(t){var n=this;if(this.remote_seqnum){if(t.cseq<this.remote_seqnum)return t.method!==e.C.ACK&&t.reply(500),t.cseq===this.invite_seqnum;t.cseq>this.remote_seqnum&&(this.remote_seqnum=t.cseq)}else this.remote_seqnum=t.cseq;switch(t.method){case e.C.INVITE:if(!0===this.uac_pending_reply)t.reply(491);else{if(!0===this.uas_pending_reply){var r=1+(10*Math.random()|0);return t.reply(500,null,["Retry-After:"+r]),!1}this.uas_pending_reply=!0,t.server_transaction.on("stateChanged",function t(){this.state!==e.Transactions.C.STATUS_ACCEPTED&&this.state!==e.Transactions.C.STATUS_COMPLETED&&this.state!==e.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",t),n.uas_pending_reply=!1,!1===n.uac_pending_reply&&n.owner.onReadyToReinvite())})}t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_ACCEPTED&&(n.remote_target=t.parseHeader("contact").uri)});break;case e.C.NOTIFY:t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_COMPLETED&&(n.remote_target=t.parseHeader("contact").uri)})}return!0},sendRequest:function(e,t,n){n=n||{};var i=(n.extraHeaders||[]).slice(),o=null;n.body&&(n.body.body?o=n.body:(o={},o.body=n.body,n.contentType&&(o.contentType=n.contentType)));var a=this.createRequest(t,i,o);return new r(this,e,a).send(),a},receiveRequest:function(e){this.checkInDialogRequest(e)&&this.owner.receiveRequest(e)}},t.C=i,e.Dialog=t}},function(e,t,n){"use strict";e.exports=function(e){var t;return t=function(e,t,n){this.dialog=e,this.applicant=t,this.request=n,this.reattempt=!1,this.reattemptTimer=null},t.prototype={send:function(){var t=this,n=new e.RequestSender(this,this.dialog.owner.ua);n.send(),this.request.method===e.C.INVITE&&n.clientTransaction.state!==e.Transactions.C.STATUS_TERMINATED&&(this.dialog.uac_pending_reply=!0,n.clientTransaction.on("stateChanged",function n(){this.state!==e.Transactions.C.STATUS_ACCEPTED&&this.state!==e.Transactions.C.STATUS_COMPLETED&&this.state!==e.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",n),t.dialog.uac_pending_reply=!1,!1===t.dialog.uas_pending_reply&&t.dialog.owner.onReadyToReinvite())}))},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(t){var n=this;408===t.status_code||481===t.status_code?this.applicant.onDialogError(t):t.method===e.C.INVITE&&491===t.status_code?this.reattempt?this.applicant.receiveResponse(t):(this.request.cseq.value=this.dialog.local_seqnum+=1,this.reattemptTimer=e.Timers.setTimeout(function(){n.applicant.owner.status!==e.Session.C.STATUS_TERMINATED&&(n.reattempt=!0,n.request_sender.send())},this.getReattemptTimeout())):this.applicant.receiveResponse(t)}},t}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t,n){this.logger=n.getLogger("sip.requestsender"),this.ua=n,this.applicant=t,this.method=t.request.method,this.request=t.request,this.credentials=null,this.challenged=!1,this.staled=!1,n.status!==e.UA.C.STATUS_USER_CLOSED||this.method===e.C.BYE&&this.method===e.C.ACK||this.onTransportError()},t.prototype={send:function(){switch(this.method){case"INVITE":this.clientTransaction=new e.Transactions.InviteClientTransaction(this,this.request,this.ua.transport);break;case"ACK":this.clientTransaction=new e.Transactions.AckClientTransaction(this,this.request,this.ua.transport);break;default:this.clientTransaction=new e.Transactions.NonInviteClientTransaction(this,this.request,this.ua.transport)}return this.clientTransaction.send(),this.clientTransaction},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(t){var n,r,i,o=t.status_code;if(401===o||407===o){if(401===t.status_code?(r=t.parseHeader("www-authenticate"),i="authorization"):(r=t.parseHeader("proxy-authenticate"),i="proxy-authorization"),!r)return this.logger.warn(t.status_code+" with wrong or missing challenge, cannot authenticate"),void this.applicant.receiveResponse(t);if(!this.challenged||!this.staled&&!0===r.stale){if(this.credentials||(this.credentials=this.ua.configuration.authenticationFactory(this.ua)),!this.credentials.authenticate(this.request,r))return void this.applicant.receiveResponse(t);this.challenged=!0,r.stale&&(this.staled=!0),t.method===e.C.REGISTER?n=this.applicant.cseq+=1:this.request.dialog?n=this.request.dialog.local_seqnum+=1:(n=this.request.cseq+1,this.request.cseq=n),this.request.setHeader("cseq",n+" "+this.method),this.request.setHeader(i,this.credentials.toString()),this.send()}else this.applicant.receiveResponse(t)}else this.applicant.receiveResponse(t)}},e.RequestSender=t}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t){var n={};this.registrar=t.configuration.registrarServer,this.expires=t.configuration.registerExpires,this.contact=t.contact.toString(),this.contact+=";reg-id=1",this.contact+=';+sip.instance="<urn:uuid:'+t.configuration.instanceId+'>"',this.call_id=e.Utils.createRandomToken(22),this.cseq=80,this.to_uri=t.configuration.uri,n.to_uri=this.to_uri,n.to_displayName=t.configuration.displayName,n.call_id=this.call_id,n.cseq=this.cseq,e.Utils.augment(this,e.ClientContext,[t,"REGISTER",this.registrar,{params:n}]),this.registrationTimer=null,this.registrationExpiredTimer=null,this.registered=!1,this.logger=t.getLogger("sip.registercontext")},t.prototype={register:function(t){var n,r=this;this.options=t||{},n=(this.options.extraHeaders||[]).slice(),n.push("Contact: "+this.contact+";expires="+this.expires),n.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(t){var n,i,o,a=t.getHeaders("contact").length;if(t.cseq===this.cseq)switch(null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):if(this.emit("accepted",t),t.hasHeader("expires")&&(i=t.getHeader("expires")),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),!a){this.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(;a--;){if(n=t.parseHeader("contact",a),n.uri.user===this.ua.contact.uri.user){i=n.getParam("expires");break}n=null}if(!n){this.logger.warn("no Contact header pointing to us, response ignored");break}i||(i=this.expires),this.registrationTimer=e.Timers.setTimeout(function(){r.registrationTimer=null,r.register(r.options)},1e3*i-3e3),this.registrationExpiredTimer=e.Timers.setTimeout(function(){r.logger.warn("registration expired"),r.registered&&r.unregistered(null,e.C.causes.EXPIRES)},1e3*i),n.hasParam("temp-gruu")&&(this.ua.contact.temp_gruu=e.URI.parse(n.getParam("temp-gruu").replace(/"/g,""))),n.hasParam("pub-gruu")&&(this.ua.contact.pub_gruu=e.URI.parse(n.getParam("pub-gruu").replace(/"/g,""))),this.registered=!0,this.emit("registered",t||null);break;case/^423$/.test(t.status_code):t.hasHeader("min-expires")?(this.expires=t.getHeader("min-expires"),this.register(this.options)):(this.logger.warn("423 response received for REGISTER without Min-Expires"),this.registrationFailure(t,e.C.causes.SIP_FAILURE_CODE));break;default:o=e.Utils.sipErrorCause(t.status_code),this.registrationFailure(t,o)}},this.onRequestTimeout=function(){this.registrationFailure(null,e.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){this.registrationFailure(null,e.C.causes.CONNECTION_ERROR)},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()},registrationFailure:function(e,t){this.emit("failed",e||null,t||null)},onTransportClosed:function(){this.registered_before=this.registered,null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.registered&&this.unregistered(null,e.C.causes.CONNECTION_ERROR)},onTransportConnected:function(){this.register(this.options)},close:function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registered_before=this.registered,this.unregister(e)},unregister:function(t){var n;if(t=t||{},!this.registered&&!t.all)return void this.logger.warn("already unregistered");n=(t.extraHeaders||[]).slice(),this.registered=!1,null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),t.all?(n.push("Contact: *"),n.push("Expires: 0")):n.push("Contact: "+this.contact+";expires=0"),this.receiveResponse=function(t){var n;switch(!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("accepted",t),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.unregistered(t);break;default:n=e.Utils.sipErrorCause(t.status_code),this.unregistered(t,n)}},this.onRequestTimeout=function(){},this.onTransportError=function(){},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()},unregistered:function(e,t){this.registered=!1,this.emit("unregistered",e||null,t||null)}},e.RegisterContext=t}},function(e,t,n){"use strict";e.exports=function(e){var t=function(e,t){e=e,t=t};return t.prototype=Object.create(e.prototype,{isReady:{value:function(){}},close:{value:function(){}},getDescription:{value:function(e){e=e}},hasDescription:{value:function(e){e=e}},setDescription:{value:function(e){e=e}}}),t}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t,n,r,i){var o=r;if(void 0===r)throw new TypeError("Not enough arguments");if(this.ua=t,this.logger=t.getLogger("sip.clientcontext"),this.method=n,!(r=t.normalizeTarget(r)))throw new TypeError("Invalid target: "+o);i=Object.create(i||Object.prototype),i.extraHeaders=(i.extraHeaders||[]).slice(),this.request=new e.OutgoingRequest(this.method,r,this.ua,i.params,i.extraHeaders),i.body&&(this.body={},this.body.body=i.body,i.contentType&&(this.body.contentType=i.contentType),this.request.body=this.body),this.localIdentity=this.request.from,this.remoteIdentity=this.request.to,this.data={}},t.prototype=Object.create(e.EventEmitter.prototype),t.prototype.send=function(){return new e.RequestSender(this,this.ua).send(),this},t.prototype.cancel=function(t){t=t||{},t.extraHeaders=(t.extraHeaders||[]).slice();var n=e.Utils.getCancelReason(t.status_code,t.reason_phrase);this.request.cancel(n,t.extraHeaders),this.emit("cancel")},t.prototype.receiveResponse=function(t){var n=e.Utils.getReasonPhrase(t.status_code);switch(!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t,n);break;case/^2[0-9]{2}$/.test(t.status_code):this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("accepted",t,n);break;default:this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("rejected",t,n),this.emit("failed",t,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR)},e.ClientContext=t}},function(e,t,n){"use strict";e.exports=function(e){var t;t=function(t,n){this.ua=t,this.logger=t.getLogger("sip.servercontext"),this.request=n,n.method===e.C.INVITE?this.transaction=new e.Transactions.InviteServerTransaction(n,t):this.transaction=new e.Transactions.NonInviteServerTransaction(n,t),n.body&&(this.body=n.body),n.hasHeader("Content-Type")&&(this.contentType=n.getHeader("Content-Type")),this.method=n.method,this.data={},this.localIdentity=n.to,this.remoteIdentity=n.from},t.prototype=Object.create(e.EventEmitter.prototype),t.prototype.progress=function(e){return e=Object.create(e||Object.prototype),e.statusCode||(e.statusCode=180),e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return e=Object.create(e||Object.prototype),e.statusCode||(e.statusCode=200),e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return e=Object.create(e||Object.prototype),e.statusCode||(e.statusCode=480),e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(t){t=t||{};var n,r=t.statusCode||100,i=t.minCode||100,o=t.maxCode||699,a=e.Utils.getReasonPhrase(r,t.reasonPhrase),s=t.extraHeaders||[],c=t.body,u=t.events||[];if(r<i||r>o)throw new TypeError("Invalid statusCode: "+r);return n=this.request.reply(r,a,s,c),u.forEach(function(e){this.emit(e,n,a)},this),this},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR)},e.ServerContext=t}},function(e,t,n){"use strict";e.exports=function(e,t){var r,i,o,a=n(467)(e),s=n(468)(e.Timers),c={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_PRACK:6,STATUS_WAITING_FOR_ACK:7,STATUS_CANCELED:8,STATUS_TERMINATED:9,STATUS_ANSWERED_WAITING_FOR_PRACK:10,STATUS_EARLY_MEDIA:11,STATUS_CONFIRMED:12};r=function(t){this.status=c.STATUS_NULL,this.dialog=null,this.earlyDialogs={},this.mediaHandlerFactory=t||e.WebRTC.MediaHandler.defaultFactory,this.hasOffer=!1,this.hasAnswer=!1,this.timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null,rel1xxTimer:null,prackTimer:null},this.startTime=null,this.endTime=null,this.tones=null,this.local_hold=!1,this.remote_hold=!1,this.pending_actions={actions:[],length:function(){return this.actions.length},isPending:function(e){var t=0,n=this.actions.length;for(t;t<n;t++)if(this.actions[t].name===e)return!0;return!1},shift:function(){return this.actions.shift()},push:function(e){this.actions.push({name:e})},pop:function(e){var t=0,n=this.actions.length;for(t;t<n;t++)this.actions[t].name===e&&(this.actions.splice(t,1),n--,t--)}},this.early_sdp=null,this.rel100=e.C.supported.UNSUPPORTED},r.prototype={dtmf:function(t,n){var r=[],i=this;if(n=n||{},void 0===t)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_WAITING_FOR_ACK)throw new e.Exceptions.InvalidStateError(this.status);if("string"!=typeof t&&"number"!=typeof t||!t.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+t);for(t=t.toString().split("");t.length>0;)r.push(new a(this,t.shift(),n));if(this.tones)return this.tones=this.tones.concat(r),this;var o=function(){var t,r;if(i.status===c.STATUS_TERMINATED||!i.tones||0===i.tones.length)return i.tones=null,this;t=i.tones.shift(),t.on("failed",function(){i.tones=null}),t.send(n),r=t.duration+t.interToneGap,e.Timers.setTimeout(o,r)};return this.tones=r,o(),this},bye:function(t){t=Object.create(t||Object.prototype);var n=t.statusCode;if(this.status===c.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;if(this.logger.log("terminating Session"),n&&(n<200||n>=700))throw new TypeError("Invalid statusCode: "+n);return t.receiveResponse=function(){},this.sendRequest(e.C.BYE,t).terminated()},refer:function(t,n){n=n||{};var r=(n.extraHeaders||[]).slice(),i=t instanceof e.InviteServerContext||t instanceof e.InviteClientContext,o=t;if(void 0===t)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);if(i)t='"'+t.remoteIdentity.friendlyName+'" <'+t.dialog.remote_target.toString()+"?Replaces="+t.dialog.id.call_id+"%3Bto-tag%3D"+t.dialog.id.remote_tag+"%3Bfrom-tag%3D"+t.dialog.id.local_tag+">";else{try{t=e.Grammar.parse(t,"Refer_To").uri||t}catch(e){this.logger.debug(".refer() cannot parse Refer_To from",t),this.logger.debug("...falling through to normalizeTarget()")}if(!(t=this.ua.normalizeTarget(t)))throw new TypeError("Invalid target: "+o)}return r.push("Contact: "+this.contact),r.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),r.push("Refer-To: "+t),this.sendRequest(e.C.REFER,{extraHeaders:r,body:n.body,receiveResponse:function(e){/^2[0-9]{2}$/.test(e.status_code)&&(i||t.scheme&&t.scheme.match("^sips?$"))&&this.terminate()}.bind(this)}),this},followRefer:function(n){return function(n,r){var i=r.parseHeader("refer-to"),o=i.uri;if(!o.scheme.match("^sips?$")){var a=o.toString();return void("function"==typeof t.open?t.open(a):this.logger.warn("referred to non-SIP URI but `open` isn't in the environment: "+a))}var s=[],c=o.getHeader("Replaces");void 0!==c&&s.push("Replaces: "+decodeURIComponent(c)),o.clearHeaders();var u=this.mediaHandler.getReferMedia,l=u?u.call(this.mediaHandler):this.mediaHint;e.Hacks.Chrome.getsConfusedAboutGUM(this);var p=this.ua.invite(o,{media:l,params:{to_displayName:i.friendlyName},extraHeaders:s});n.call(this,r,p),this.terminate()}.bind(this,n)},sendRequest:function(t,n){n=n||{};var r=this,i=new e.OutgoingRequest(t,this.dialog.remote_target,this.ua,{cseq:n.cseq||(this.dialog.local_seqnum+=1),call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set,statusCode:n.statusCode,reasonPhrase:n.reasonPhrase},n.extraHeaders||[],n.body);return new e.RequestSender({request:i,onRequestTimeout:function(){r.onRequestTimeout()},onTransportError:function(){r.onTransportError()},receiveResponse:n.receiveResponse||function(e){r.receiveNonInviteResponse(e)}},this.ua).send(),this.emit(t.toLowerCase(),i),this},close:function(){var t;if(this.status===c.STATUS_TERMINATED)return this;this.logger.log("closing INVITE session "+this.id),this.mediaHandler&&this.mediaHandler.close();for(t in this.timers)e.Timers.clearTimeout(this.timers[t]);this.dialog&&(this.dialog.terminate(),delete this.dialog);for(t in this.earlyDialogs)this.earlyDialogs[t].terminate(),delete this.earlyDialogs[t];return this.status=c.STATUS_TERMINATED,delete this.ua.sessions[this.id],this},createDialog:function(t,n,r){var i,o,a=t["UAS"===n?"to_tag":"from_tag"],s=t["UAS"===n?"from_tag":"to_tag"],c=t.call_id+a+s;if(o=this.earlyDialogs[c],r)return!!o||(o=new e.Dialog(this,t,n,e.Dialog.C.STATUS_EARLY),o.error?(this.logger.error(o.error),this.failed(t,e.C.causes.INTERNAL_ERROR),!1):(this.earlyDialogs[c]=o,!0));if(o){o.update(t,n),this.dialog=o,delete this.earlyDialogs[c];for(var u in this.earlyDialogs)this.earlyDialogs[u].terminate(),delete this.earlyDialogs[u];return!0}return i=new e.Dialog(this,t,n),i.error?(this.logger.error(i.error),this.failed(t,e.C.causes.INTERNAL_ERROR),!1):(this.to_tag=t.to_tag,this.dialog=i,!0)},isReadyToReinvite:function(){return this.mediaHandler.isReady()&&!this.dialog.uac_pending_reply&&!this.dialog.uas_pending_reply},mute:function(e){var t=this.mediaHandler.mute(e);t&&this.onmute(t)},unmute:function(e){var t=this.mediaHandler.unmute(e);t&&this.onunmute(t)},hold:function(){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);if(this.mediaHandler.hold(),!this.isReadyToReinvite())return void(this.pending_actions.isPending("unhold")?this.pending_actions.pop("unhold"):this.pending_actions.isPending("hold")||this.pending_actions.push("hold"));!0!==this.local_hold&&(this.onhold("local"),this.sendReinvite())},unhold:function(t){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);if(this.mediaHandler.unhold(),!this.isReadyToReinvite())return void(this.pending_actions.isPending("hold")?this.pending_actions.pop("hold"):this.pending_actions.isPending("unhold")||this.pending_actions.push("unhold"));!1!==this.local_hold&&(this.onunhold("local"),this.sendReinvite(t))},isOnHold:function(){return{local:this.local_hold,remote:this.remote_hold}},receiveReinvite:function(t){var n=this;if(!this.mediaHandler.hasDescription(t))return this.logger.warn("invalid Content-Type"),void t.reply(415);this.mediaHandler.setDescription(t).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function(e){var r=["Contact: "+n.contact];t.reply(200,null,r,e,function(){n.status=c.STATUS_WAITING_FOR_ACK,n.setInvite2xxTimer(t,e),n.setACKTimer(),n.remote_hold&&!n.mediaHandler.remote_hold?n.onunhold("remote"):!n.remote_hold&&n.mediaHandler.remote_hold&&n.onhold("remote")})}).catch(function(r){var i;r instanceof e.Exceptions.GetDescriptionError?i=500:(n.logger.error(r),i=488),t.reply(i)})},sendReinvite:function(t){t=t||{};var n,r=this,i=(t.extraHeaders||[]).slice(),o=t.eventHandlers||{};o.succeeded&&(n=o.succeeded),this.reinviteSucceeded=function(){e.Timers.clearTimeout(r.timers.ackTimer),e.Timers.clearTimeout(r.timers.invite2xxTimer),r.status=c.STATUS_CONFIRMED,n&&n.apply(this,arguments)},this.reinviteFailed=o.failed?o.failed:function(){},i.push("Contact: "+this.contact),i.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=this.receiveReinviteResponse,this.mediaHandler.getDescription(r.mediaHint).then(function(t){r.dialog.sendRequest(r,e.C.INVITE,{extraHeaders:i,body:t})},function(){r.isReadyToReinvite()&&r.onReadyToReinvite(),r.reinviteFailed()})},receiveRequest:function(t){switch(t.method){case e.C.BYE:t.reply(200),this.status===c.STATUS_CONFIRMED&&(this.emit("bye",t),this.terminated(t,e.C.causes.BYE));break;case e.C.INVITE:this.status===c.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(t));break;case e.C.INFO:if(this.status===c.STATUS_1XX_RECEIVED||this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK||this.status===c.STATUS_EARLY_MEDIA||this.status===c.STATUS_CONFIRMED||this.dialog){if(this.onInfo)return this.onInfo(t);var n,r,i,o=t.getHeader("content-type"),s=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,u=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;o&&(o.match(/^application\/dtmf-relay/i)?(t.body&&(n=t.body.split("\r\n",2),2===n.length&&(s.test(n[0])&&(r=n[0].replace(s,"$2")),u.test(n[1])&&(i=parseInt(n[1].replace(u,"$2"),10)))),new a(this,r,{duration:i}).init_incoming(t)):t.reply(415,null,["Accept: application/dtmf-relay"]))}break;case e.C.REFER:if(this.status===c.STATUS_CONFIRMED){this.logger.log("REFER received");var l,p=this.listeners("refer").length;p?(t.reply(202,"Accepted"),l="SIP/2.0 100 Trying",this.sendRequest(e.C.NOTIFY,{extraHeaders:["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],body:l,receiveResponse:function(){}}),this.emit("refer",t)):t.reply(603,"Declined")}break;case e.C.NOTIFY:t.reply(200,"OK"),this.emit("notify",t)}},receiveReinviteResponse:function(t){var n=this;if(this.status!==c.STATUS_TERMINATED)switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):if(this.status=c.STATUS_CONFIRMED,this.sendRequest(e.C.ACK,{cseq:t.cseq}),!this.mediaHandler.hasDescription(t)){this.reinviteFailed();break}this.mediaHandler.setDescription(t).then(function(){n.reinviteSucceeded()},function(){n.reinviteFailed()});break;default:this.reinviteFailed()}},acceptAndTerminate:function(t,n,r){var i=[];return n&&i.push("Reason: "+e.Utils.getReasonHeaderValue(n,r)),(this.dialog||this.createDialog(t,"UAC"))&&(this.sendRequest(e.C.ACK,{cseq:t.cseq}),this.sendRequest(e.C.BYE,{extraHeaders:i})),this},setInvite2xxTimer:function(t,n){var r=this,i=e.Timers.T1;this.timers.invite2xxTimer=e.Timers.setTimeout(function o(){if(r.status===c.STATUS_WAITING_FOR_ACK){r.logger.log("no ACK received, attempting to retransmit OK");var a=["Contact: "+r.contact];t.reply(200,null,a,n),i=Math.min(2*i,e.Timers.T2),r.timers.invite2xxTimer=e.Timers.setTimeout(o,i)}},i)},setACKTimer:function(){var t=this;this.timers.ackTimer=e.Timers.setTimeout(function(){t.status===c.STATUS_WAITING_FOR_ACK&&(t.logger.log("no ACK received for an extended period of time, terminating the call"),e.Timers.clearTimeout(t.timers.invite2xxTimer),t.sendRequest(e.C.BYE),t.terminated(null,e.C.causes.NO_ACK))},e.Timers.TIMER_H)},onReadyToReinvite:function(){var e=this.pending_actions.shift();e&&this[e.name]&&this[e.name]()},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))},onDialogError:function(t){this.status===c.STATUS_CONFIRMED?this.terminated(t,e.C.causes.DIALOG_ERROR):this.status!==c.STATUS_TERMINATED&&(this.failed(t,e.C.causes.DIALOG_ERROR),this.terminated(t,e.C.causes.DIALOG_ERROR))},onhold:function(e){this["local"===e?"local_hold":"remote_hold"]=!0,this.emit("hold",{originator:e})},onunhold:function(e){this["local"===e?"local_hold":"remote_hold"]=!1,this.emit("unhold",{originator:e})},onmute:function(e){this.emit("muted",{audio:e.audio,video:e.video})},onunmute:function(e){this.emit("unmuted",{audio:e.audio,video:e.video})},failed:function(e,t){return this.status===c.STATUS_TERMINATED?this:(this.emit("failed",e||null,t||null),this)},rejected:function(e,t){return this.emit("rejected",e||null,t||null),this},canceled:function(){return this.emit("cancel"),this},accepted:function(t,n){return n=e.Utils.getReasonPhrase(t&&t.status_code,n),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),t&&s.updateState(this.dialog,t,e.Parser.parseMessage,this.ua),this.emit("accepted",t,n),this},terminated:function(e,t){return this.status===c.STATUS_TERMINATED?this:(this.endTime=new Date,this.close(),this.emit("terminated",e||null,t||null),this)},connecting:function(e){return this.emit("connecting",{request:e}),this}},r.desugar=function(e){return t.HTMLMediaElement&&e instanceof t.HTMLMediaElement&&(e={media:{constraints:{audio:!0,video:"VIDEO"===e.tagName},render:{remote:e}}}),e||{}},r.C=c,e.Session=r,i=function(t,n){function r(e,t){n.hasHeader(e)&&n.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(a.rel100=t)}function i(){var t={extraHeaders:["Contact: "+a.contact]};a.rel100!==e.C.supported.REQUIRED&&a.progress(t),a.status=c.STATUS_WAITING_FOR_ANSWER,a.timers.userNoAnswerTimer=e.Timers.setTimeout(function(){n.reply(408),a.failed(n,e.C.causes.NO_ANSWER),a.terminated(n,e.C.causes.NO_ANSWER)},a.ua.configuration.noAnswerTimeout),o&&(a.timers.expiresTimer=e.Timers.setTimeout(function(){a.status===c.STATUS_WAITING_FOR_ANSWER&&(n.reply(487),a.failed(n,e.C.causes.EXPIRES),a.terminated(n,e.C.causes.EXPIRES))},o)),a.emit("invite",n)}var o,a=this,u=n.getHeader("Content-Type"),l=n.parseHeader("Content-Disposition");if(e.Utils.augment(this,e.ServerContext,[t,n]),e.Utils.augment(this,e.Session,[t.configuration.mediaHandlerFactory]),this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:{optional:[{DtlsSrtpKeyAgreement:"true"}]}}),!l&&!this.mediaHandler.hasDescription(n)||l&&"render"===l.type)this.renderbody=n.body,this.rendertype=u;else if(!this.mediaHandler.hasDescription(n)&&l&&"session"===l.type)return void n.reply(415);return s.hasSmallMinSE(n)?void n.reply(422,null,["Min-SE: "+s.localMinSE]):(this.status=c.STATUS_INVITE_RECEIVED,this.from_tag=n.from_tag,this.id=n.call_id+this.from_tag,this.request=n,this.contact=this.ua.contact.toString(),this.receiveNonInviteResponse=function(){},this.logger=t.getLogger("sip.inviteservercontext",this.id),this.ua.sessions[this.id]=this,n.hasHeader("expires")&&(o=1e3*n.getHeader("expires")),r("require",e.C.supported.REQUIRED),r("supported",e.C.supported.SUPPORTED),n.to_tag=e.Utils.newTag(),this.createDialog(n,"UAS",!0)?(this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),void(!this.mediaHandler.hasDescription(n)||this.renderbody?e.Timers.setTimeout(i,0):(this.hasOffer=!0,this.mediaHandler.setDescription(n).then(i,function(e){a.logger.warn("invalid description"),a.logger.warn(e),n.reply(488)})))):void n.reply(500,"Missing Contact header field"))},i.prototype={reject:function(t){if(this.status===c.STATUS_TERMINATED)throw new e.Exceptions.InvalidStateError(this.status);return this.logger.log("rejecting RTCSession"),e.ServerContext.prototype.reject.call(this,t),this.terminated()},terminate:function(t){t=t||{};var n,r=(t.extraHeaders||[]).slice(),i=t.body,o=this;return this.status===c.STATUS_WAITING_FOR_ACK&&this.request.server_transaction.state!==e.Transactions.C.STATUS_TERMINATED?(n=this.dialog,this.receiveRequest=function(t){t.method===e.C.ACK&&(this.sendRequest(e.C.BYE,{extraHeaders:r,body:i}),n.terminate())},this.request.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_TERMINATED&&this.dialog&&(this.request=new e.OutgoingRequest(e.C.BYE,this.dialog.remote_target,this.ua,{cseq:this.dialog.local_seqnum+=1,call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set},r,i),new e.RequestSender({request:this.request,onRequestTimeout:function(){o.onRequestTimeout()},onTransportError:function(){o.onTransportError()},receiveResponse:function(){}},this.ua).send(),n.terminate())}),this.emit("bye",this.request),this.terminated(),this.dialog=n,this.ua.dialogs[n.id.toString()]=n):this.status===c.STATUS_CONFIRMED?this.bye(t):this.reject(t),this},progress:function(t){function n(){a=t.statusCode||183,this.status=c.STATUS_WAITING_FOR_PRACK,u.push("Contact: "+this.contact),u.push("Require: 100rel"),u.push("RSeq: "+Math.floor(1e4*Math.random())),this.mediaHint=t.media,this.mediaHandler.getDescription(t.media).then(function(t){if(!this.isCanceled&&this.status!==c.STATUS_TERMINATED){this.early_sdp=t.body,this[this.hasOffer?"hasAnswer":"hasOffer"]=!0;var n=e.Timers.T1;this.timers.rel1xxTimer=e.Timers.setTimeout(function r(){this.request.reply(a,null,u,t),n*=2,this.timers.rel1xxTimer=e.Timers.setTimeout(r.bind(this),n)}.bind(this),n),this.timers.prackTimer=e.Timers.setTimeout(function(){this.status===c.STATUS_WAITING_FOR_PRACK&&(this.logger.log("no PRACK received, rejecting the call"),e.Timers.clearTimeout(this.timers.rel1xxTimer),this.request.reply(504),this.terminated(null,e.C.causes.NO_PRACK))}.bind(this),64*e.Timers.T1),o=this.request.reply(a,s,u,t),this.emit("progress",o,s)}}.bind(this),function(){this.request.reply(480),this.failed(null,e.C.causes.WEBRTC_ERROR),this.terminated(null,e.C.causes.WEBRTC_ERROR)}.bind(this))}function r(){o=this.request.reply(a,s,u,d),this.emit("progress",o,s)}t=t||{};var i,o,a=t.statusCode||180,s=t.reasonPhrase,u=(t.extraHeaders||[]).slice(),l=t.stunServers||null,p=t.turnServers||null,d=t.body;if(a<100||a>199)throw new TypeError("Invalid statusCode: "+a);if(this.isCanceled||this.status===c.STATUS_TERMINATED)return this;if(l||p){if(l){if(!(i=e.UA.configuration_check.optional.stunServers(l)))throw new TypeError("Invalid stunServers: "+l);this.stunServers=i}if(p){if(!(i=e.UA.configuration_check.optional.turnServers(p)))throw new TypeError("Invalid turnServers: "+p);this.turnServers=i}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return 100!==t.statusCode&&(this.rel100===e.C.supported.REQUIRED||this.rel100===e.C.supported.SUPPORTED&&t.rel100||this.rel100===e.C.supported.SUPPORTED&&this.ua.configuration.rel100===e.C.supported.REQUIRED)?n.apply(this):r.apply(this),this},accept:function(t){t=Object.create(r.desugar(t)),e.Utils.optionsOverride(t,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=t.media,this.onInfo=t.onInfo;var n,i=this,o=this.request,a=(t.extraHeaders||[]).slice(),s=t.stunServers||null,u=t.turnServers||null,l=function(t){var n,r=function(){i.status=c.STATUS_WAITING_FOR_ACK,i.setInvite2xxTimer(o,t),i.setACKTimer()},s=function(){i.failed(null,e.C.causes.CONNECTION_ERROR),i.terminated(null,e.C.causes.CONNECTION_ERROR)};i.mediaHandler.render(),a.push("Contact: "+i.contact),a.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString());var u=o.parseHeader("Supported")||[],l=o.parseHeader("Session-Expires")||{},p=l.deltaSeconds;if(p){var d=l.refresher||"uas";a.push("Session-Expires: "+p+";"+d),("uac"===d||u.indexOf("timer")>=0)&&a.push("Require: timer")}i.hasOffer?i.hasAnswer=!0:i.hasOffer=!0,n=o.reply(200,null,a,t,r,s),i.status!==c.STATUS_TERMINATED&&i.accepted(n,e.Utils.getReasonPhrase(200))},p=function(){i.status!==c.STATUS_TERMINATED&&(i.request.reply(480),i.failed(null,e.C.causes.WEBRTC_ERROR),i.terminated(null,e.C.causes.WEBRTC_ERROR))};if(this.status===c.STATUS_WAITING_FOR_PRACK)return this.status=c.STATUS_ANSWERED_WAITING_FOR_PRACK,this;if(this.status===c.STATUS_WAITING_FOR_ANSWER)this.status=c.STATUS_ANSWERED;else if(this.status!==c.STATUS_EARLY_MEDIA)throw new e.Exceptions.InvalidStateError(this.status);if((s||u)&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK){if(s){if(!(n=e.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=n}if(u){if(!(n=e.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=n}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return this.createDialog(o,"UAS")?(e.Timers.clearTimeout(this.timers.userNoAnswerTimer),this.status===c.STATUS_EARLY_MEDIA?l({}):this.mediaHandler.getDescription(i.mediaHint).then(l,p),this):(o.reply(500,"Missing Contact header field"),this)},receiveRequest:function(t){function n(){var n;e.Timers.clearTimeout(this.timers.ackTimer),e.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),n=t.getHeader("Content-Type"),this.mediaHandler.hasDescription(t)||(this.renderbody=t.body,this.rendertype=n),this.emit("confirmed",t)}switch(t.method){case e.C.CANCEL:this.status!==c.STATUS_WAITING_FOR_ANSWER&&this.status!==c.STATUS_WAITING_FOR_PRACK&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED||(this.status=c.STATUS_CANCELED,this.request.reply(487),this.canceled(t),this.rejected(t,e.C.causes.CANCELED),this.failed(t,e.C.causes.CANCELED),this.terminated(t,e.C.causes.CANCELED));break;case e.C.ACK:this.status===c.STATUS_WAITING_FOR_ACK&&(this.hasAnswer?n.apply(this):this.mediaHandler.hasDescription(t)?(this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(n.bind(this),function(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):this.early_sdp?n.apply(this):(this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)));break;case e.C.PRACK:this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(e.Timers.clearTimeout(this.timers.rel1xxTimer),e.Timers.clearTimeout(this.timers.prackTimer),t.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()):this.mediaHandler.hasDescription(t)?(this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(function(){e.Timers.clearTimeout(this.timers.rel1xxTimer),e.Timers.clearTimeout(this.timers.prackTimer),t.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()}.bind(this),function(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)):this.status===c.STATUS_EARLY_MEDIA&&t.reply(200);break;default:r.prototype.receiveRequest.apply(this,[t])}},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))}},e.InviteServerContext=i,o=function(t,n,i){i=Object.create(r.desugar(i)),i.params=Object.create(i.params||Object.prototype);var o,a=(i.extraHeaders||[]).slice(),s=i.stunServers||null,u=i.turnServers||null,l=i.mediaHandlerFactory||t.configuration.mediaHandlerFactory,p=l.isSupported;if(p&&!p())throw new e.Exceptions.NotSupportedError("Media not supported");if(this.RTCConstraints=i.RTCConstraints||{},this.inviteWithoutSdp=i.inviteWithoutSdp||!1,this.anonymous=i.anonymous||!1,this.renderbody=i.renderbody||null,this.rendertype=i.rendertype||"text/plain",i.params.from_tag=this.from_tag,this.contact=t.contact.toString({anonymous:this.anonymous,outbound:this.anonymous?!t.contact.temp_gruu:!t.contact.pub_gruu}),this.anonymous&&(i.params.from_displayName="Anonymous",i.params.from_uri="sip:anonymous@anonymous.invalid",a.push("P-Preferred-Identity: "+t.configuration.uri.toString()),a.push("Privacy: id")),a.push("Contact: "+this.contact),a.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.inviteWithoutSdp&&this.renderbody&&(a.push("Content-Type: "+this.rendertype),a.push("Content-Disposition: render;handling=optional")),t.configuration.rel100===e.C.supported.REQUIRED&&a.push("Require: 100rel"),t.configuration.replaces===e.C.supported.REQUIRED&&a.push("Require: replaces"),i.extraHeaders=a,e.Utils.augment(this,e.ClientContext,[t,e.C.INVITE,n,i]),e.Utils.augment(this,e.Session,[l]),this.status!==c.STATUS_NULL)throw new e.Exceptions.InvalidStateError(this.status);if(this.from_tag=e.Utils.newTag(),this.isCanceled=!1,this.received_100=!1,this.method=e.C.INVITE,this.receiveNonInviteResponse=this.receiveResponse,this.receiveResponse=this.receiveInviteResponse,this.logger=t.getLogger("sip.inviteclientcontext"),s){if(!(o=e.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=o}if(u){if(!(o=e.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=o}t.applicants[this]=this,this.id=this.request.call_id+this.from_tag,this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:this.RTCConstraints,stunServers:this.stunServers,turnServers:this.turnServers}),this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),e.Utils.optionsOverride(i,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=i.media,this.onInfo=i.onInfo},o.prototype={invite:function(){var t=this;return this.ua.sessions[this.id]=this,this.inviteWithoutSdp?(this.request.body=t.renderbody,this.status=c.STATUS_INVITE_SENT,this.send()):this.mediaHandler.getDescription(t.mediaHint).then(function(e){t.isCanceled||t.status===c.STATUS_TERMINATED||(t.hasOffer=!0,t.request.body=e,t.status=c.STATUS_INVITE_SENT,t.send())},function(){t.status!==c.STATUS_TERMINATED&&(t.failed(null,e.C.causes.WEBRTC_ERROR),t.terminated(null,e.C.causes.WEBRTC_ERROR))}),this},receiveInviteResponse:function(t){var n,r=this,i=t.call_id+t.from_tag+t.to_tag,o=[],a={};if(this.status!==c.STATUS_TERMINATED&&t.method===e.C.INVITE){if(this.dialog&&t.status_code>=200&&t.status_code<=299){if(i!==this.dialog.id.toString()){if(!this.createDialog(t,"UAC",!0))return;return this.earlyDialogs[i].sendRequest(this,e.C.ACK,{body:e.Utils.generateFakeSDP(t.body)}),this.earlyDialogs[i].sendRequest(this,e.C.BYE),void(this.status!==c.STATUS_CONFIRMED&&(this.failed(t,e.C.causes.WEBRTC_ERROR),this.terminated(t,e.C.causes.WEBRTC_ERROR)))}if(this.status===c.STATUS_CONFIRMED)return void this.sendRequest(e.C.ACK,{cseq:t.cseq});if(!this.hasAnswer)return}if(this.dialog&&t.status_code<200){if(-1!==this.dialog.pracked.indexOf(t.getHeader("rseq"))||this.dialog.pracked[this.dialog.pracked.length-1]>=t.getHeader("rseq")&&this.dialog.pracked.length>0)return;if(!this.earlyDialogs[i]&&!this.createDialog(t,"UAC",!0))return;if(-1!==this.earlyDialogs[i].pracked.indexOf(t.getHeader("rseq"))||this.earlyDialogs[i].pracked[this.earlyDialogs[i].pracked.length-1]>=t.getHeader("rseq")&&this.earlyDialogs[i].pracked.length>0)return;return o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),this.earlyDialogs[i].pracked.push(t.getHeader("rseq")),void this.earlyDialogs[i].sendRequest(this,e.C.PRACK,{extraHeaders:o,body:e.Utils.generateFakeSDP(t.body)})}if(this.isCanceled)return void(t.status_code>=100&&t.status_code<200?(this.request.cancel(this.cancelReason,o),this.canceled(null)):t.status_code>=200&&t.status_code<299?(this.acceptAndTerminate(t),this.emit("bye",this.request)):t.status_code>=300&&(n=e.C.REASON_PHRASE[t.status_code]||e.C.causes.CANCELED,this.rejected(t,n),this.failed(t,n),this.terminated(t,n)));switch(!0){case/^100$/.test(t.status_code):this.received_100=!0,this.emit("progress",t);break;case/^1[0-9]{2}$/.test(t.status_code):if(!t.to_tag){this.logger.warn("1xx response received without to tag");break}if(t.hasHeader("contact")&&!this.createDialog(t,"UAC",!0))break;if(this.status=c.STATUS_1XX_RECEIVED,t.hasHeader("require")&&-1!==t.getHeader("require").indexOf("100rel")){if(this.dialog||!this.earlyDialogs[i])break;if(-1!==this.earlyDialogs[i].pracked.indexOf(t.getHeader("rseq"))||this.earlyDialogs[i].pracked[this.earlyDialogs[i].pracked.length-1]>=t.getHeader("rseq")&&this.earlyDialogs[i].pracked.length>0)return;if(this.mediaHandler.hasDescription(t))if(this.hasOffer){if(!this.createDialog(t,"UAC"))break;this.hasAnswer=!0,this.dialog.pracked.push(t.getHeader("rseq")),this.mediaHandler.setDescription(t).then(function(){o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),r.sendRequest(e.C.PRACK,{extraHeaders:o,receiveResponse:function(){}}),r.status=c.STATUS_EARLY_MEDIA,r.mute(),r.emit("progress",t)},function(n){r.logger.warn(n),r.acceptAndTerminate(t,488,"Not Acceptable Here"),r.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION)})}else{var s=this.earlyDialogs[i],u=s.mediaHandler;s.pracked.push(t.getHeader("rseq")),u.setDescription(t).then(u.getDescription.bind(u,r.mediaHint)).then(function(n){o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),s.sendRequest(r,e.C.PRACK,{extraHeaders:o,body:n}),r.status=c.STATUS_EARLY_MEDIA,r.emit("progress",t)}).catch(function(n){if(n instanceof e.Exceptions.GetDescriptionError){if(s.pracked.push(t.getHeader("rseq")),r.status===c.STATUS_TERMINATED)return;r.failed(null,e.C.causes.WEBRTC_ERROR),r.terminated(null,e.C.causes.WEBRTC_ERROR)}else s.pracked.splice(s.pracked.indexOf(t.getHeader("rseq")),1),r.logger.warn("invalid description"),r.logger.warn(n)})}else o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),this.earlyDialogs[i].pracked.push(t.getHeader("rseq")),this.earlyDialogs[i].sendRequest(this,e.C.PRACK,{extraHeaders:o}),this.emit("progress",t)}else this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):if(this.request.cseq+" "+this.request.method!==t.getHeader("cseq"))break;if(this.status===c.STATUS_EARLY_MEDIA&&this.dialog){this.status=c.STATUS_CONFIRMED,this.unmute(),a={},this.renderbody&&(o.push("Content-Type: "+this.rendertype),a.extraHeaders=o,a.body=this.renderbody),a.cseq=t.cseq,this.sendRequest(e.C.ACK,a),this.accepted(t);break}if(this.dialog)break;if(this.hasOffer)if(this.hasAnswer)this.renderbody&&(o.push("Content-Type: "+r.rendertype),a.extraHeaders=o,a.body=this.renderbody),this.sendRequest(e.C.ACK,a);else{if(!this.mediaHandler.hasDescription(t)){this.acceptAndTerminate(t,400,"Missing session description"),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(t,"UAC"))break;this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(function(){var n={};r.status=c.STATUS_CONFIRMED,r.unmute(),r.renderbody&&(o.push("Content-Type: "+r.rendertype),n.extraHeaders=o,n.body=r.renderbody),n.cseq=t.cseq,r.sendRequest(e.C.ACK,n),r.accepted(t)},function(n){r.logger.warn(n),r.acceptAndTerminate(t,488,"Not Acceptable Here"),r.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION)})}else if(this.earlyDialogs[i]&&this.earlyDialogs[i].mediaHandler.localMedia){if(this.hasOffer=!0,this.hasAnswer=!0,this.mediaHandler=this.earlyDialogs[i].mediaHandler,!this.createDialog(t,"UAC"))break;this.status=c.STATUS_CONFIRMED,this.sendRequest(e.C.ACK,{cseq:t.cseq}),this.unmute(),this.accepted(t)}else{if(!this.mediaHandler.hasDescription(t)){this.acceptAndTerminate(t,400,"Missing session description"),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(t,"UAC"))break;this.hasOffer=!0,this.mediaHandler.setDescription(t).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function(n){r.isCanceled||r.status===c.STATUS_TERMINATED||(r.status=c.STATUS_CONFIRMED,r.hasAnswer=!0,r.unmute(),r.sendRequest(e.C.ACK,{body:n,cseq:t.cseq}),r.accepted(t))}).catch(function(n){n instanceof e.Exceptions.GetDescriptionError?r.logger.warn("there was a problem"):(r.logger.warn("invalid description"),r.logger.warn(n),t.reply(488))})}break;default:n=e.Utils.sipErrorCause(t.status_code),this.rejected(t,n),this.failed(t,n),this.terminated(t,n)}}},cancel:function(t){if(t=t||{},t.extraHeaders=(t.extraHeaders||[]).slice(),this.status===c.STATUS_TERMINATED||this.status===c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);this.logger.log("canceling RTCSession");var n=e.Utils.getCancelReason(t.status_code,t.reason_phrase);return this.status===c.STATUS_NULL||this.status===c.STATUS_INVITE_SENT&&!this.received_100?(this.isCanceled=!0,this.cancelReason=n):this.status!==c.STATUS_INVITE_SENT&&this.status!==c.STATUS_1XX_RECEIVED&&this.status!==c.STATUS_EARLY_MEDIA||this.request.cancel(n,t.extraHeaders),this.canceled()},terminate:function(e){return this.status===c.STATUS_TERMINATED?this:(this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_CONFIRMED?this.bye(e):this.cancel(e),this)},receiveRequest:function(t){return t.method,e.C.CANCEL,t.method===e.C.ACK&&this.status===c.STATUS_WAITING_FOR_ACK&&(e.Timers.clearTimeout(this.timers.ackTimer),e.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),this.accepted()),r.prototype.receiveRequest.apply(this,[t])},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))}},e.InviteClientContext=o}},function(e,t,n){"use strict";e.exports=function(e){var t,n={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};return t=function(n,r,i){var o,a;if(void 0===r)throw new TypeError("Not enough arguments");if(this.logger=n.ua.getLogger("sip.invitecontext.dtmf",n.id),this.owner=n,this.direction=null,i=i||{},o=i.duration||null,a=i.interToneGap||null,"string"==typeof r)r=r.toUpperCase();else{if("number"!=typeof r)throw new TypeError("Invalid tone: "+r);r=r.toString()}if(!r.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+r);if(this.tone=r,o&&!e.Utils.isDecimal(o))throw new TypeError("Invalid tone duration: "+o);if(o?o<t.C.MIN_DURATION?(this.logger.warn('"duration" value is lower than the minimum allowed, setting it to '+t.C.MIN_DURATION+" milliseconds"),o=t.C.MIN_DURATION):o>t.C.MAX_DURATION?(this.logger.warn('"duration" value is greater than the maximum allowed, setting it to '+t.C.MAX_DURATION+" milliseconds"),o=t.C.MAX_DURATION):o=Math.abs(o):o=t.C.DEFAULT_DURATION,this.duration=o,a&&!e.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);a?a<t.C.MIN_INTER_TONE_GAP?(this.logger.warn('"interToneGap" value is lower than the minimum allowed, setting it to '+t.C.MIN_INTER_TONE_GAP+" milliseconds"),a=t.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=t.C.DEFAULT_INTER_TONE_GAP,this.interToneGap=a},t.prototype=Object.create(e.EventEmitter.prototype),t.prototype.send=function(t){var n,r={};if(this.direction="outgoing",this.owner.status!==e.Session.C.STATUS_CONFIRMED&&this.owner.status!==e.Session.C.STATUS_WAITING_FOR_ACK)throw new e.Exceptions.InvalidStateError(this.owner.status);t=t||{},n=t.extraHeaders?t.extraHeaders.slice():[],r.contentType="application/dtmf-relay",r.body="Signal= "+this.tone+"\r\n",r.body+="Duration= "+this.duration,this.request=this.owner.dialog.sendRequest(this,e.C.INFO,{extraHeaders:n,body:r}),this.owner.emit("dtmf",this.request,this)},t.prototype.receiveResponse=function(t){var n;switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("succeeded",{originator:"remote",response:t});break;default:n=e.Utils.sipErrorCause(t.status_code),this.emit("failed",t,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(t){this.emit("failed",t,e.C.causes.DIALOG_ERROR),this.owner.onDialogError(t)},t.prototype.init_incoming=function(e){this.direction="incoming",this.request=e,e.reply(200),this.tone&&this.duration?this.owner.emit("dtmf",e,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.C=n,t}},function(e,t){var n=90;e.exports=function(e){function t(e){var t=e.parseHeader("Supported")||[],r=e.parseHeader("Session-Expires")||{};return t.indexOf("timer")>=0&&r.deltaSeconds<n}function r(t,n,r,i){t.sessionTimerState=t.sessionTimerState||{},e.clearTimeout(t.sessionTimerState.timeout);var o="string"==typeof n;o&&(n=r(n,i));var a=n.parseHeader("Session-Expires");if(!a)return void(t.sessionTimerState=null);var s=a.deltaSeconds,c=o===("uas"===a.refresher);t.sessionTimerState={interval:s,isRefresher:c};var u=1e3*s,l=this;if(c)t.sessionTimerState.timeout=e.setInterval(function(){t.owner.ua.dialogs[t.id.toString()]||!1?t.sendRequest(l,"UPDATE",{extraHeaders:["Session-Expires: "+s]}):e.clearInterval(t.sessionTimerState.timeout)},u/2);else{var p=Math.min(32e3,u/3);t.sessionTimerState.timeout=e.setTimeout(function(){},u-p)}}function i(e){}function o(e){}function a(){}function s(){}return{localMinSE:n,hasSmallMinSE:t,updateState:r,receiveResponse:i,onDialogError:o,onRequestTimeout:a,onTransportError:s}}},function(e,t,n){"use strict";e.exports=function(e){e.Subscription=function(t,n,r,i){if(i=Object.create(i||Object.prototype),this.extraHeaders=i.extraHeaders=(i.extraHeaders||[]).slice(),this.id=null,this.state="init",!r)throw new TypeError("Event necessary to create a subscription.");this.event=r,"number"!=typeof i.expires?(t.logger.warn("expires must be a number. Using default of 3600."),this.expires=3600):this.expires=i.expires,i.extraHeaders.push("Event: "+this.event),i.extraHeaders.push("Expires: "+this.expires),i.body&&(this.body=i.body),this.contact=t.contact.toString(),i.extraHeaders.push("Contact: "+this.contact),i.extraHeaders.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),e.Utils.augment(this,e.ClientContext,[t,e.C.SUBSCRIBE,n,i]),this.logger=t.getLogger("sip.subscription"),this.dialog=null,this.timers={N:null,sub_duration:null},this.errorCodes=[404,405,410,416,480,481,482,483,484,485,489,501,604]},e.Subscription.prototype={subscribe:function(){var t=this;return"active"===this.state?(this.refresh(),this):"notify_wait"===this.state?this:(e.Timers.clearTimeout(this.timers.sub_duration),e.Timers.clearTimeout(this.timers.N),this.timers.N=e.Timers.setTimeout(t.timer_fire.bind(t),e.Timers.TIMER_N),this.send(),this.state="notify_wait",this)},refresh:function(){"terminated"!==this.state&&"pending"!==this.state&&"notify_wait"!==this.state&&this.dialog.sendRequest(this,e.C.SUBSCRIBE,{extraHeaders:this.extraHeaders,body:this.body})},receiveResponse:function(t){var n,r=this,i=e.Utils.getReasonPhrase(t.status_code);"notify_wait"===this.state&&t.status_code>=300||"notify_wait"!==this.state&&-1!==this.errorCodes.indexOf(t.status_code)?this.failed(t,null):/^2[0-9]{2}$/.test(t.status_code)&&(n=t.getHeader("Expires"),e.Timers.clearTimeout(this.timers.N),this.createConfirmedDialog(t,"UAC")&&(this.id=this.dialog.id.toString(),this.ua.subscriptions[this.id]=this,this.emit("accepted",t,i)),n&&n<=this.expires?(this.expires=n,this.timers.sub_duration=e.Timers.setTimeout(r.refresh.bind(r),900*n)):n?(this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),this.failed(t,e.C.INVALID_EXPIRES_HEADER)):(this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE"),this.failed(t,e.C.EXPIRES_HEADER_MISSING)))},unsubscribe:function(){var t=[],n=this;this.state="terminated",t.push("Event: "+this.event),t.push("Expires: 0"),t.push("Contact: "+this.contact),t.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=function(){},this.dialog.sendRequest(this,this.method,{extraHeaders:t,body:this.body}),e.Timers.clearTimeout(this.timers.sub_duration),e.Timers.clearTimeout(this.timers.N),this.timers.N=e.Timers.setTimeout(n.timer_fire.bind(n),e.Timers.TIMER_N)},timer_fire:function(){"terminated"===this.state?(this.terminateDialog(),e.Timers.clearTimeout(this.timers.N),e.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]):"pending"===this.state||"notify_wait"===this.state?this.close():this.refresh()},close:function(){"notify_wait"!==this.state&&"terminated"!==this.state&&this.unsubscribe()},createConfirmedDialog:function(t,n){var r;return this.terminateDialog(),r=new e.Dialog(this,t,n),!r.error&&(this.dialog=r,!0)},terminateDialog:function(){this.dialog&&(delete this.ua.subscriptions[this.id],this.dialog.terminate(),delete this.dialog)},receiveRequest:function(t){function n(){r.expires&&(e.Timers.clearTimeout(i.timers.sub_duration),r.expires=Math.min(i.expires,Math.max(r.expires,0)),i.timers.sub_duration=e.Timers.setTimeout(i.refresh.bind(i),900*r.expires))}var r,i=this;if(!this.matchEvent(t))return void t.reply(489);if(r=t.parseHeader("Subscription-State"),t.reply(200,e.C.REASON_200),e.Timers.clearTimeout(this.timers.N),this.emit("notify",{request:t}),"terminated"===this.state)return void("terminated"===r.state&&(this.terminateDialog(),e.Timers.clearTimeout(this.timers.N),e.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]));switch(r.state){case"active":this.state="active",n();break;case"pending":"notify_wait"===this.state&&n(),this.state="pending";break;case"terminated":if(e.Timers.clearTimeout(this.timers.sub_duration),r.reason)switch(this.logger.log("terminating subscription with reason "+r.reason),r.reason){case"deactivated":case"timeout":return void this.subscribe();case"probation":case"giveup":return void(r.params&&r.params["retry-after"]?this.timers.sub_duration=e.Timers.setTimeout(i.subscribe.bind(i),r.params["retry-after"]):this.subscribe())}this.close()}},failed:function(e,t){return this.close(),this.emit("failed",e,t),this},onDialogError:function(t){this.failed(t,e.C.causes.DIALOG_ERROR)},matchEvent:function(e){var t;return e.hasHeader("Event")?e.hasHeader("Subscription-State")?(t=e.parseHeader("event").event,this.event===t||(this.logger.warn("event match failed"),e.reply(481,"Event Match Failed"),!1)):(this.logger.warn("missing Subscription-State header"),!1):(this.logger.warn("missing Event header"),!1)}}}},function(e,t,n){"use strict";e.exports=function(e,t){var r;r={},r.MediaHandler=n(471)(e),r.MediaStreamManager=n(472)(e,t);var i;return r.isSupported=function(){return void 0!==i?i:(r.MediaStream=t.MediaStream,r.getUserMedia=t.getUserMedia,r.RTCPeerConnection=t.RTCPeerConnection,r.RTCSessionDescription=t.RTCSessionDescription,r.RTCPeerConnection&&r.RTCSessionDescription?(r.getUserMedia&&(r.getUserMedia=e.Utils.promisify(t,"getUserMedia")),i=!0):i=!1,i)},r}},function(e,t,n){"use strict";e.exports=function(e){var t=function(t,n){function r(e,t){e.mediaStreamManager.on&&e.mediaStreamManager.on(t,function(){e.emit.apply(e,[t].concat(Array.prototype.slice.call(arguments)))})}n=n||{},this.logger=t.ua.getLogger("sip.invitecontext.mediahandler",t.id),this.session=t,this.localMedia=null,this.ready=!0,this.mediaStreamManager=n.mediaStreamManager||new e.WebRTC.MediaStreamManager(this.logger),this.audioMuted=!1,this.videoMuted=!1,this.local_hold=!1,this.remote_hold=!1;var i=this.prepareIceServers(n.stunServers,n.turnServers);this.RTCConstraints=n.RTCConstraints||{},this.initPeerConnection(i),r(this,"userMediaRequest"),r(this,"userMedia"),r(this,"userMediaFailed")};return t.defaultFactory=function(e,n){return new t(e,n)},t.defaultFactory.isSupported=function(){return e.WebRTC.isSupported()},t.prototype=Object.create(e.MediaHandler.prototype,{isReady:{writable:!0,value:function(){return this.ready}},close:{writable:!0,value:function(){this.logger.log("closing PeerConnection"),this._remoteStreams=[],this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.close(),this.localMedia&&this.mediaStreamManager.release(this.localMedia))}},getDescription:{writable:!0,value:function(t){var n=this,r=n.mediaStreamManager.acquire;r.length>1&&(r=e.Utils.promisify(this.mediaStreamManager,"acquire",!0)),t=t||{},!0===t.dataChannel&&(t.dataChannel={}),this.mediaHint=t;var i;return n.localMedia?(n.logger.log("already have local media"),i=e.Utils.Promise.resolve(n.localMedia)):(n.logger.log("acquiring local media"),i=r.call(n.mediaStreamManager,t).then(function(e){return n.logger.log("acquired local media streams"),n.localMedia=e,n.session.connecting(),e},function(e){throw n.logger.error("unable to acquire streams"),n.logger.error(e),n.session.connecting(),e}).then(this.addStreams.bind(this))),i.then(function(){return n.hasOffer("remote")?n.peerConnection.ondatachannel=function(e){n.dataChannel=e.channel,n.emit("dataChannel",n.dataChannel)}:t.dataChannel&&n.peerConnection.createDataChannel&&(n.dataChannel=n.peerConnection.createDataChannel("sipjs",t.dataChannel),n.emit("dataChannel",n.dataChannel)),n.render(),n.createOfferOrAnswer(n.RTCConstraints)}).then(function(t){return t=e.Hacks.Firefox.hasMissingCLineInSDP(t),n.local_hold&&(/a=(sendrecv|sendonly|recvonly|inactive)/.test(t)?(t=t.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n"),t=t.replace(/a=recvonly\r\n/g,"a=inactive\r\n")):t=t.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),{body:t,contentType:"application/sdp"}})}},hasDescription:{writeable:!0,value:function(e){return"application/sdp"===e.getHeader("Content-Type")&&!!e.body}},setDescription:{writable:!0,value:function(t){var n=t.body;this.remote_hold=/a=(sendonly|inactive)/.test(n),n=e.Hacks.Firefox.cannotHandleExtraWhitespace(n),n=e.Hacks.AllBrowsers.maskDtls(n);var r={type:this.hasOffer("local")?"answer":"offer",sdp:n};this.emit("setDescription",r);var i=new e.WebRTC.RTCSessionDescription(r);return e.Utils.promisify(this.peerConnection,"setRemoteDescription")(i)}},getReferMedia:{writable:!0,value:function(){function e(e,t){return t[e]().length>0}function t(t){return this.getLocalStreams().some(e.bind(null,t))&&this.getRemoteStreams().some(e.bind(null,t))}return{constraints:{audio:t.call(this,"getAudioTracks"),video:t.call(this,"getVideoTracks")}}}},updateIceServers:{writeable:!0,value:function(e){var t=this.prepareIceServers(e.stunServers,e.turnServers);this.RTCConstraints=e.RTCConstraints||this.RTCConstraints,this.initPeerConnection(t)}},isMuted:{writable:!0,value:function(){return{audio:this.audioMuted,video:this.videoMuted}}},mute:{writable:!0,value:function(e){if(0!==this.getLocalStreams().length){e=e||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0};var t=!1,n=!1;return e.audio&&!this.audioMuted&&(t=!0,this.audioMuted=!0,this.toggleMuteAudio(!0)),e.video&&!this.videoMuted&&(n=!0,this.videoMuted=!0,this.toggleMuteVideo(!0)),t||n?{audio:t,video:n}:void 0}}},unmute:{writable:!0,value:function(e){if(0!==this.getLocalStreams().length){e=e||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0};var t=!1,n=!1;return e.audio&&this.audioMuted&&(t=!0,this.audioMuted=!1,this.toggleMuteAudio(!1)),e.video&&this.videoMuted&&(n=!0,this.videoMuted=!1,this.toggleMuteVideo(!1)),t||n?{audio:t,video:n}:void 0}}},hold:{writable:!0,value:function(){this.local_hold=!0,this.toggleMuteAudio(!0),this.toggleMuteVideo(!0)}},unhold:{writable:!0,value:function(){this.local_hold=!1,this.audioMuted||this.toggleMuteAudio(!1),this.videoMuted||this.toggleMuteVideo(!1)}},getLocalStreams:{writable:!0,value:function(){var e=this.peerConnection;return e&&"closed"===e.signalingState?(this.logger.warn("peerConnection is closed, getLocalStreams returning []"),[]):e.getLocalStreams&&e.getLocalStreams()||e.localStreams||[]}},getRemoteStreams:{writable:!0,value:function(){var e=this.peerConnection;return e&&"closed"===e.signalingState?(this.logger.warn("peerConnection is closed, getRemoteStreams returning this._remoteStreams"),this._remoteStreams):e.getRemoteStreams&&e.getRemoteStreams()||e.remoteStreams||[]}},render:{writable:!0,value:function(t){if(!(t=t||this.mediaHint&&this.mediaHint.render))return!1;var n={local:"getLocalStreams",remote:"getRemoteStreams"};Object.keys(n).forEach(function(r){var i=n[r],o=this[i]();e.WebRTC.MediaStreamManager.render(o,t[r])}.bind(this))}},hasOffer:{writable:!0,value:function(e){var t="have-"+e+"-offer";return this.peerConnection.signalingState===t}},prepareIceServers:{writable:!0,value:function(e,t){var n=[],r=this.session.ua.configuration;return e=e||r.stunServers,t=t||r.turnServers,[].concat(e).forEach(function(e){n.push({urls:e})}),[].concat(t).forEach(function(e){n.push({urls:e.urls,username:e.username,credential:e.password})}),n}},initPeerConnection:{writable:!0,value:function(t){var n=this,r=this.session.ua.configuration;this.onIceCompleted=e.Utils.defer(),this.onIceCompleted.promise.then(function(t){n.emit("iceGatheringComplete",t),n.iceCheckingTimer&&(e.Timers.clearTimeout(n.iceCheckingTimer),n.iceCheckingTimer=null)}),this.peerConnection&&this.peerConnection.close(),this.peerConnection=new e.WebRTC.RTCPeerConnection({iceServers:t}),this._remoteStreams=[],this.peerConnection.onaddstream=function(e){n.logger.log("stream added: "+e.stream.id),n._remoteStreams.push(e.stream),n.render(),n.emit("addStream",e)},this.peerConnection.onremovestream=function(e){n.logger.log("stream removed: "+e.stream.id)},this.startIceCheckingTimer=function(){n.iceCheckingTimer||(n.iceCheckingTimer=e.Timers.setTimeout(function(){n.logger.log("RTCIceChecking Timeout Triggered after "+r.iceCheckingTimeout+" milliseconds"),n.onIceCompleted.resolve(this)}.bind(this.peerConnection),r.iceCheckingTimeout))},this.peerConnection.onicecandidate=function(e){n.emit("iceCandidate",e),e.candidate?(n.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())),n.startIceCheckingTimer()):n.onIceCompleted.resolve(this)},this.peerConnection.onicegatheringstatechange=function(){n.logger.log("RTCIceGatheringState changed: "+this.iceGatheringState),"gathering"===this.iceGatheringState&&n.emit("iceGathering",this),"complete"===this.iceGatheringState&&n.onIceCompleted.resolve(this)},this.peerConnection.oniceconnectionstatechange=function(){var e;switch("checking"===this.iceConnectionState&&n.startIceCheckingTimer(),this.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void n.logger.warn("Unknown iceConnection state:",this.iceConnectionState)}n.emit(e,this)},this.peerConnection.onstatechange=function(){n.logger.log('PeerConnection state changed to "'+this.readyState+'"')}}},createOfferOrAnswer:{writable:!0,value:function(t){var n,r=this,i=r.peerConnection;return r.ready=!1,n=r.hasOffer("remote")?"createAnswer":"createOffer",e.Utils.promisify(i,n,!0)(t).then(e.Utils.promisify(i,"setLocalDescription")).then(function(){var t=e.Utils.defer();return"complete"===i.iceConnectionState||"completed"===i.iceConnectionState?t.resolve():r.onIceCompleted.promise.then(t.resolve),t.promise}).then(function(){var t=i.localDescription.sdp;t=e.Hacks.Chrome.needsExplicitlyInactiveSDP(t),t=e.Hacks.AllBrowsers.unmaskDtls(t);var o={type:"createOffer"===n?"offer":"answer",sdp:t};return r.emit("getDescription",o),r.session.ua.configuration.hackStripTcp&&(o.sdp=o.sdp.replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,"")),r.ready=!0,o.sdp}).catch(function(t){throw r.logger.error(t),r.ready=!0,new e.Exceptions.GetDescriptionError(t)})}},addStreams:{writable:!0,value:function(t){try{t=[].concat(t),t.forEach(function(e){this.peerConnection.addStream(e)},this)}catch(t){return this.logger.error("error adding stream"),this.logger.error(t),e.Utils.Promise.reject(t)}return e.Utils.Promise.resolve()}},toggleMuteHelper:{writable:!0,value:function(e,t){this.getLocalStreams().forEach(function(n){n[e]().forEach(function(e){e.enabled=!t})})}},toggleMuteAudio:{writable:!0,value:function(e){this.toggleMuteHelper("getAudioTracks",e)}},toggleMuteVideo:{writable:!0,value:function(e){this.toggleMuteHelper("getVideoTracks",e)}}}),t}},function(e,t,n){"use strict";e.exports=function(e,t){var n=function(t,n){if(!e.WebRTC.isSupported())throw new e.Exceptions.NotSupportedError("Media not supported");this.mediaHint=n||{constraints:{audio:!0,video:!0}},this.acquisitions={}};return n.streamId=function(e){return e.getAudioTracks().concat(e.getVideoTracks()).map(function(e){return e.id}).join("")},n.render=function(n,r){function i(e,t){e.srcObject=t}function o(t){t.ensurePlayingIntervalId=e.Timers.setInterval(function(){t.paused&&t.srcObject?t.play():e.Timers.clearInterval(t.ensurePlayingIntervalId)},100)}function a(e,n,r){var a=e[r%e.length];"function"==typeof a&&(a=a()),(t.attachMediaStream||i)(a,n),o(a)}if(!r)return!1;if(Array.isArray(r)&&!r.length)throw new TypeError("elements must not be empty");r=[].concat(r),[].concat(n).forEach(a.bind(null,r))},n.prototype=Object.create(e.EventEmitter.prototype,{acquire:{writable:!0,value:function(t){t=Object.keys(t||{}).length?t:this.mediaHint;var r=function(t,r){return r=[].concat(r),r.forEach(function(e){var r=n.streamId(e);this.acquisitions[r]=!!t},this),e.Utils.Promise.resolve(r)}.bind(this);if(t.stream)return r(!0,t.stream);var i=t.constraints||this.mediaHint&&this.mediaHint.constraints||{audio:!0,video:!0},o=e.Utils.defer();return e.Timers.setTimeout(function(){this.emit("userMediaRequest",i);var t=function(e,t){var n=Array.prototype.slice.call(arguments,2),r=[e].concat(n);return this.emit.apply(this,r),t.apply(null,n)}.bind(this);i.audio||i.video?o.resolve(e.WebRTC.getUserMedia(i).then(t.bind(this,"userMedia",r.bind(null,!1)),t.bind(this,"userMediaFailed",function(e){throw e}))):o.resolve([])}.bind(this),0),o.promise}},release:{writable:!0,value:function(e){e=[].concat(e),e.forEach(function(e){var t=n.streamId(e);!1===this.acquisitions[t]&&e.getTracks().forEach(function(e){e.stop()}),delete this.acquisitions[t]},this)}}}),n}},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){function r(t){if(t instanceof Function)return t.initialize||(t.initialize=function(){return e.Utils.Promise.resolve()}),t}var i,o={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10};i=function(r){function i(e){return a.emit.bind(a,e)}var a=this;o.ACCEPTED_BODY_TYPES=o.ACCEPTED_BODY_TYPES.toString(),this.log=new e.LoggerFactory,this.logger=this.getLogger("sip.ua"),this.cache={credentials:{}},this.configuration={},this.dialogs={},this.applicants={},this.data={},this.sessions={},this.subscriptions={},this.transport=null,this.contact=null,this.status=o.STATUS_INIT,this.error=null,this.transactions={nist:{},nict:{},ist:{},ict:{}},this.transportRecoverAttempts=0,this.transportRecoveryTimer=null,Object.defineProperties(this,{transactionsCount:{get:function(){var e,t=["nist","nict","ist","ict"],n=0;for(e in t)n+=Object.keys(this.transactions[t[e]]).length;return n}},nictTransactionsCount:{get:function(){return Object.keys(this.transactions.nict).length}},nistTransactionsCount:{get:function(){return Object.keys(this.transactions.nist).length}},ictTransactionsCount:{get:function(){return Object.keys(this.transactions.ict).length}},istTransactionsCount:{get:function(){return Object.keys(this.transactions.ist).length}}}),void 0===r?r={}:("string"==typeof r||r instanceof String)&&(r={uri:r}),r.log&&(r.log.hasOwnProperty("builtinEnabled")&&(this.log.builtinEnabled=r.log.builtinEnabled),r.log.hasOwnProperty("level")&&(this.log.level=r.log.level),r.log.hasOwnProperty("connector")&&(this.log.connector=r.log.connector));try{this.loadConfig(r)}catch(e){throw this.status=o.STATUS_NOT_READY,this.error=o.CONFIGURATION_ERROR,e}this.registerContext=new e.RegisterContext(this),this.registerContext.on("failed",i("registrationFailed")),this.registerContext.on("registered",i("registered")),this.registerContext.on("unregistered",i("unregistered")),this.configuration.autostart&&this.start(),"function"==typeof n.addEventListener&&(t.chrome&&t.chrome.app&&t.chrome.app.runtime||n.addEventListener("unload",this.stop.bind(this)))},i.prototype=Object.create(e.EventEmitter.prototype),i.prototype.register=function(e){return this.configuration.register=!0,this.registerContext.register(e),this},i.prototype.unregister=function(e){this.configuration.register=!1;var t=this.registerContext;return this.afterConnected(t.unregister.bind(t,e)),this},i.prototype.isRegistered=function(){return this.registerContext.registered},i.prototype.isConnected=function(){return!!this.transport&&this.transport.connected},i.prototype.afterConnected=function(e){this.isConnected()?e():this.once("connected",e)},i.prototype.invite=function(t,n){var r=new e.InviteClientContext(this,t,n);return this.afterConnected(r.invite.bind(r)),r},i.prototype.subscribe=function(t,n,r){var i=new e.Subscription(this,t,n,r);return this.afterConnected(i.subscribe.bind(i)),i},i.prototype.message=function(t,n,r){if(void 0===n)throw new TypeError("Not enough arguments");return r=Object.create(r||Object.prototype),r.contentType||(r.contentType="text/plain"),r.body=n,this.request(e.C.MESSAGE,t,r)},i.prototype.request=function(t,n,r){var i=new e.ClientContext(this,t,n,r);return this.afterConnected(i.send.bind(i)),i},i.prototype.stop=function(){function t(){0===a.nistTransactionsCount&&0===a.nictTransactionsCount&&(a.removeListener("transactionDestroyed",t),a.transport.disconnect())}var n,r,i,a=this;if(this.logger.log("user requested closure..."),this.status===o.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;e.Timers.clearTimeout(this.transportRecoveryTimer),this.logger.log("closing registerContext"),this.registerContext.close();for(n in this.sessions)this.logger.log("closing session "+n),this.sessions[n].terminate();for(r in this.subscriptions)this.logger.log("unsubscribing from subscription "+r),this.subscriptions[r].close();for(i in this.applicants)this.applicants[i].close();return this.status=o.STATUS_USER_CLOSED,0===this.nistTransactionsCount&&0===this.nictTransactionsCount?this.transport&&this.transport.disconnect():this.on("transactionDestroyed",t),this},i.prototype.start=function(){var t;return this.logger.log("user requested startup..."),this.status===o.STATUS_INIT?(t=this.getNextWsServer(),this.status=o.STATUS_STARTING,new e.Transport(this,t)):this.status===o.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=o.STATUS_READY,this.transport.connect()):this.status===o.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===o.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this},i.prototype.normalizeTarget=function(t){return e.Utils.normalizeTarget(t,this.configuration.hostportParams)},i.prototype.saveCredentials=function(e){return this.cache.credentials[e.realm]=this.cache.credentials[e.realm]||{},this.cache.credentials[e.realm][e.uri]=e,this},i.prototype.getCredentials=function(e){var t,n;return t=e.ruri.host,this.cache.credentials[t]&&this.cache.credentials[t][e.ruri]&&(n=this.cache.credentials[t][e.ruri],n.method=e.method),n},i.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},i.prototype.onTransportClosed=function(t){var n,r,i,o=["nict","ict","nist","ist"];for(t.server.status=e.Transport.C.STATUS_DISCONNECTED,this.logger.log("connection state set to "+e.Transport.C.STATUS_DISCONNECTED),i=o.length,n=0;n<i;n++)for(r in this.transactions[o[n]])this.transactions[o[n]][r].onTransportError();this.contact.pub_gruu||this.closeSessionsOnTransportError()},i.prototype.onTransportError=function(t){var n;this.logger.log("transport "+t.server.ws_uri+" failed | connection state set to "+e.Transport.C.STATUS_ERROR),t.server.status=e.Transport.C.STATUS_ERROR,this.emit("disconnected",{transport:t}),this.status!==o.STATUS_USER_CLOSED&&(n=this.getNextWsServer(),n?new e.Transport(this,n):(this.closeSessionsOnTransportError(),this.error&&this.error===o.NETWORK_ERROR||(this.status=o.STATUS_NOT_READY,this.error=o.NETWORK_ERROR),this.recoverTransport()))},i.prototype.onTransportConnected=function(t){this.transport=t,this.transportRecoverAttempts=0,t.server.status=e.Transport.C.STATUS_READY,this.logger.log("connection state set to "+e.Transport.C.STATUS_READY),this.status!==o.STATUS_USER_CLOSED&&(this.status=o.STATUS_READY,this.error=null,this.configuration.register&&this.configuration.authenticationFactory.initialize().then(function(){this.registerContext.onTransportConnected()}.bind(this)),this.emit("connected",{transport:t}))},i.prototype.onTransportConnecting=function(e,t){this.emit("connecting",{transport:e,attempts:t})},i.prototype.newTransaction=function(e){this.transactions[e.type][e.id]=e,this.emit("newTransaction",{transaction:e})},i.prototype.destroyTransaction=function(e){delete this.transactions[e.type][e.id],this.emit("transactionDestroyed",{transaction:e})},i.prototype.receiveRequest=function(t){function n(e){return e&&e.user===t.ruri.user}var r,i,a,s,c,u=t.method,l=this;if(!(n(this.configuration.uri)||n(this.contact.uri)||n(this.contact.pub_gruu)||n(this.contact.temp_gruu)))return this.logger.warn("Request-URI does not point to us"),void(t.method!==e.C.ACK&&t.reply_sl(404));if(t.ruri.scheme===e.C.SIPS)return void t.reply_sl(416);if(!e.Transactions.checkTransaction(this,t))if(u===e.C.OPTIONS?(new e.Transactions.NonInviteServerTransaction(t,this),t.reply(200,null,["Allow: "+e.UA.C.ALLOWED_METHODS.toString(),"Accept: "+o.ACCEPTED_BODY_TYPES])):u===e.C.MESSAGE?(a=new e.ServerContext(this,t),a.body=t.body,a.content_type=t.getHeader("Content-Type")||"text/plain",t.reply(200,null),this.emit("message",a)):u!==e.C.INVITE&&u!==e.C.ACK&&new e.ServerContext(this,t),t.to_tag)r=this.findDialog(t),r?(u===e.C.INVITE&&new e.Transactions.InviteServerTransaction(t,this),r.receiveRequest(t)):u===e.C.NOTIFY?(i=this.findSession(t),i?i.receiveRequest(t):(this.logger.warn("received NOTIFY request for a non existent session"),t.reply(481,"Subscription does not exist"))):u!==e.C.ACK&&t.reply(481);else switch(u){case e.C.INVITE:if(s=this.configuration.replaces!==e.C.supported.UNSUPPORTED&&t.parseHeader("replaces")){if(!(c=this.dialogs[s.call_id+s.replaces_to_tag+s.replaces_from_tag]))return void t.reply_sl(481,null);if(c.owner.status===e.Session.C.STATUS_TERMINATED)return void t.reply_sl(603,null);if(c.state===e.Dialog.C.STATUS_CONFIRMED&&s.early_only)return void t.reply_sl(486,null)}var p=this.configuration.mediaHandlerFactory.isSupported;!p||p()?(i=new e.InviteServerContext(this,t),i.replacee=c&&c.owner,i.on("invite",function(){l.emit("invite",this)})):(this.logger.warn("INVITE received but WebRTC is not supported"),t.reply(488));break;case e.C.BYE:t.reply(481);break;case e.C.CANCEL:i=this.findSession(t),i?i.receiveRequest(t):this.logger.warn("received CANCEL request for a non existent session");break;case e.C.ACK:break;case e.C.NOTIFY:this.configuration.allowLegacyNotifications&&this.listeners("notify").length>0?(t.reply(200,null),l.emit("notify",{request:t})):t.reply(481,"Subscription does not exist");break;default:t.reply(405)}},i.prototype.findSession=function(e){return this.sessions[e.call_id+e.from_tag]||this.sessions[e.call_id+e.to_tag]||null},i.prototype.findDialog=function(e){return this.dialogs[e.call_id+e.from_tag+e.to_tag]||this.dialogs[e.call_id+e.to_tag+e.from_tag]||null},i.prototype.getNextWsServer=function(){var t,n,r,i=[];for(n=this.configuration.wsServers.length,t=0;t<n;t++)r=this.configuration.wsServers[t],r.status!==e.Transport.C.STATUS_ERROR&&(0===i.length?i.push(r):r.weight>i[0].weight?i=[r]:r.weight===i[0].weight&&i.push(r));return t=Math.floor(Math.random()*i.length),i[t]},i.prototype.closeSessionsOnTransportError=function(){var e;for(e in this.sessions)this.sessions[e].onTransportError();this.registerContext.onTransportClosed()},i.prototype.recoverTransport=function(t){var n,r,i,o,a,s;for(t=t||this,a=t.transportRecoverAttempts,r=t.configuration.wsServers.length,n=0;n<r;n++)t.configuration.wsServers[n].status=0;s=t.getNextWsServer(),i=Math.floor(Math.random()*Math.pow(2,a)+1),o=i*t.configuration.connectionRecoveryMinInterval,o>t.configuration.connectionRecoveryMaxInterval&&(this.logger.log("time for next connection attempt exceeds connectionRecoveryMaxInterval, resetting counter"),o=t.configuration.connectionRecoveryMinInterval,a=0),this.logger.log("next connection attempt in "+o+" seconds"),this.transportRecoveryTimer=e.Timers.setTimeout(function(){t.transportRecoverAttempts=a+1,new e.Transport(t,s)},1e3*o)},i.prototype.loadConfig=function(t){function n(e,n){var r=e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"_"+e[1].toLowerCase()});if(e!==r){var i=t.hasOwnProperty(e);t.hasOwnProperty(r)&&(n.warn(r+" is deprecated, please use "+e),i&&n.warn(e+" overriding "+r)),t[e]=i?t[e]:t[r]}}var o,a,s,c,u,l={viaHost:e.Utils.createRandomToken(12)+".invalid",uri:new e.URI("sip","anonymous."+e.Utils.createRandomToken(6),"anonymous.invalid",null,null),wsServers:[{scheme:"WSS",sip_uri:"<sip:edge.sip.onsip.com;transport=ws;lr>",status:0,weight:0,ws_uri:"wss://edge.sip.onsip.com"}],password:null,registerExpires:600,register:!0,registrarServer:null,wsServerMaxReconnection:3,wsServerReconnectionTimeout:4,connectionRecoveryMinInterval:2,connectionRecoveryMaxInterval:30,keepAliveInterval:0,extraSupported:[],usePreloadedRoute:!1,userAgentString:e.C.USER_AGENT,iceCheckingTimeout:5e3,noAnswerTimeout:60,stunServers:["stun:stun.l.google.com:19302"],turnServers:[],traceSip:!1,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,hackCleanJitsiSdpImageattr:!1,hackStripTcp:!1,contactTransport:"ws",forceRport:!1,autostart:!0,rel100:e.C.supported.UNSUPPORTED,replaces:e.C.supported.UNSUPPORTED,mediaHandlerFactory:e.WebRTC.MediaHandler.defaultFactory,authenticationFactory:r(function(t){return new e.DigestAuthentication(t)}),allowLegacyNotifications:!1};for(o in i.configuration_check.mandatory){if(n(o,this.logger),!t.hasOwnProperty(o))throw new e.Exceptions.ConfigurationError(o);if(a=t[o],void 0===(s=i.configuration_check.mandatory[o](a)))throw new e.Exceptions.ConfigurationError(o,a);l[o]=s}e.Utils.optionsOverride(t,"rel100","reliable",!0,this.logger,e.C.supported.UNSUPPORTED);var p=["stunServers","turnServers"];for(o in i.configuration_check.optional)if(n(o,this.logger),t.hasOwnProperty(o)){if((a=t[o])instanceof Array&&0===a.length&&p.indexOf(o)<0)continue;if(null===a||""===a||void 0===a)continue;if("number"==typeof a&&isNaN(a))continue;if(void 0===(s=i.configuration_check.optional[o](a)))throw new e.Exceptions.ConfigurationError(o,a);l[o]=s}if(l.connectionRecoveryMaxInterval<l.connectionRecoveryMinInterval)throw new e.Exceptions.ConfigurationError("connectionRecoveryMaxInterval",l.connectionRecoveryMaxInterval);0===l.displayName&&(l.displayName="0"),l.instanceId||(l.instanceId=e.Utils.newUUID()),l.sipjsId=e.Utils.createRandomToken(5),c=l.uri.clone(),c.user=null,l.hostportParams=c.toRaw().replace(/^sip:/i,""),l.authorizationUser||(l.authorizationUser=l.uri.user),l.registrarServer||(u=l.uri.clone(),u.user=null,l.registrarServer=u),l.noAnswerTimeout=1e3*l.noAnswerTimeout,l.hackIpInContact&&("boolean"==typeof l.hackIpInContact?l.viaHost=e.Utils.getRandomTestNetIP():"string"==typeof l.hackIpInContact&&(l.viaHost=l.hackIpInContact)),l.hackWssInTransport&&(l.contactTransport="wss"),this.contact={pub_gruu:null,temp_gruu:null,uri:new e.URI("sip",e.Utils.createRandomToken(8),l.viaHost,null,{transport:l.contactTransport}),toString:function(e){e=e||{};var t=e.anonymous||null,n=e.outbound||null,r="<";return r+=t?(this.temp_gruu||"sip:anonymous@anonymous.invalid;transport="+l.contactTransport).toString():(this.pub_gruu||this.uri).toString(),n&&(r+=";ob"),r+=">"}},e.Utils.optionsOverride(l,"media","mediaConstraints",!0,this.logger);for(o in l)i.configuration_skeleton[o].value=l[o];Object.defineProperties(this.configuration,i.configuration_skeleton);for(o in l)i.configuration_skeleton[o].value="";this.logger.log("configuration parameters after validation:");for(o in l)switch(o){case"uri":case"registrarServer":case"mediaHandlerFactory":this.logger.log("· "+o+": "+l[o]);break;case"password":this.logger.log("· "+o+": NOT SHOWN");break;default:this.logger.log("· "+o+": "+JSON.stringify(l[o]))}},i.configuration_skeleton=function(){var e,t,n={},r=["sipjsId","hostportParams","uri","wsServers","authorizationUser","connectionRecoveryMaxInterval","connectionRecoveryMinInterval","keepAliveInterval","extraSupported","displayName","hackViaTcp","hackIpInContact","hackWssInTransport","hackAllowUnregisteredOptionTags","hackCleanJitsiSdpImageattr","hackStripTcp","contactTransport","forceRport","iceCheckingTimeout","instanceId","noAnswerTimeout","password","registerExpires","registrarServer","reliable","rel100","replaces","userAgentString","autostart","stunServers","traceSip","turnServers","usePreloadedRoute","wsServerMaxReconnection","wsServerReconnectionTimeout","mediaHandlerFactory","media","mediaConstraints","authenticationFactory","allowLegacyNotifications","via_core_value","viaHost"];for(e in r)t=r[e],n[t]={value:"",writable:!1,configurable:!1};return n.register={value:"",writable:!0,configurable:!1},n}(),i.configuration_check={mandatory:{},optional:{uri:function(t){var n;return/^sip:/i.test(t)||(t=e.C.SIP+":"+t),n=e.URI.parse(t),n&&n.user?n:void 0},wsServers:function(t){var n,r,i;if("string"==typeof t)t=[{ws_uri:t}];else{if(!(t instanceof Array))return;for(r=t.length,n=0;n<r;n++)"string"==typeof t[n]&&(t[n]={ws_uri:t[n]})}if(0===t.length)return!1;for(r=t.length,n=0;n<r;n++){if(!t[n].ws_uri)return;if(t[n].weight&&!Number(t[n].weight))return;if(-1===(i=e.Grammar.parse(t[n].ws_uri,"absoluteURI")))return;if(["wss","ws","udp"].indexOf(i.scheme)<0)return;t[n].sip_uri="<sip:"+i.host+(i.port?":"+i.port:"")+";transport="+i.scheme.replace(/^wss$/i,"ws")+";lr>",t[n].weight||(t[n].weight=0),t[n].status=0,t[n].scheme=i.scheme.toUpperCase()}return t},authorizationUser:function(t){return-1===e.Grammar.parse('"'+t+'"',"quoted_string")?void 0:t},connectionRecoveryMaxInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},connectionRecoveryMinInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},displayName:function(t){return-1===e.Grammar.parse('"'+t+'"',"displayName")?void 0:t},hackViaTcp:function(e){if("boolean"==typeof e)return e},hackIpInContact:function(t){return"boolean"==typeof t?t:"string"==typeof t&&-1!==e.Grammar.parse(t,"host")?t:void 0},iceCheckingTimeout:function(t){if(e.Utils.isDecimal(t))return Math.max(500,t)},hackWssInTransport:function(e){if("boolean"==typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"==typeof e)return e},hackCleanJitsiSdpImageattr:function(e){if("boolean"==typeof e)return e},hackStripTcp:function(e){if("boolean"==typeof e)return e},contactTransport:function(e){if("string"==typeof e)return e},forceRport:function(e){if("boolean"==typeof e)return e},instanceId:function(t){if("string"==typeof t)return/^uuid:/i.test(t)&&(t=t.substr(5)),-1===e.Grammar.parse(t,"uuid")?void 0:t},keepAliveInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},extraSupported:function(e){var t,n;if(e instanceof Array){for(n=e.length,t=0;t<n;t++)if("string"!=typeof e[t])return;return e}},noAnswerTimeout:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},password:function(e){return String(e)},rel100:function(t){return t===e.C.supported.REQUIRED?e.C.supported.REQUIRED:t===e.C.supported.SUPPORTED?e.C.supported.SUPPORTED:e.C.supported.UNSUPPORTED},replaces:function(t){return t===e.C.supported.REQUIRED?e.C.supported.REQUIRED:t===e.C.supported.SUPPORTED?e.C.supported.SUPPORTED:e.C.supported.UNSUPPORTED},register:function(e){if("boolean"==typeof e)return e},registerExpires:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},registrarServer:function(t){var n;if("string"==typeof t)return/^sip:/i.test(t)||(t=e.C.SIP+":"+t),n=e.URI.parse(t),n?n.user?void 0:n:void 0},stunServers:function(t){var n,r,i;if("string"==typeof t)t=[t];else if(!(t instanceof Array))return;for(r=t.length,n=0;n<r;n++){if(i=t[n],/^stuns?:/.test(i)||(i="stun:"+i),-1===e.Grammar.parse(i,"stun_URI"))return;t[n]=i}return t},traceSip:function(e){if("boolean"==typeof e)return e},turnServers:function(t){var n,r,i,o,a,s;for(t instanceof Array||(t=[t]),i=t.length,n=0;n<i;n++){if(o=t[n],o.server&&(o.urls=[o.server]),!o.urls||!o.username||!o.password)return;for(o.urls instanceof Array?a=o.urls.length:(o.urls=[o.urls],a=1),r=0;r<a;r++)if(s=o.urls[r],/^turns?:/.test(s)||(s="turn:"+s),-1===e.Grammar.parse(s,"turn_URI"))return}return t},userAgentString:function(e){if("string"==typeof e)return e},usePreloadedRoute:function(e){if("boolean"==typeof e)return e},wsServerMaxReconnection:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},wsServerReconnectionTimeout:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},autostart:function(e){if("boolean"==typeof e)return e},mediaHandlerFactory:function(t){if(t instanceof Function){var n=function(){function n(t){if(r[t].length>1){var n="getDescription"===t;r[t]=e.Utils.promisify(r,t,n)}}var r=t.apply(this,arguments);return n("getDescription"),n("setDescription"),r};return n.isSupported=t.isSupported,n}},authenticationFactory:r,allowLegacyNotifications:function(e){if("boolean"==typeof e)return e}}},i.C=o,e.UA=i}}).call(t,n(12))},function(e,t,n){"use strict";e.exports=function(e){e=e;var t={AllBrowsers:{maskDtls:function(e){return e&&(e=e.replace(/ UDP\/TLS\/RTP\/SAVP/gim," RTP/SAVP")),e},unmaskDtls:function(e){return e.replace(/ RTP\/SAVP/gim," UDP/TLS/RTP/SAVP")}},Firefox:{isFirefox:function(){return"undefined"!=typeof mozRTCPeerConnection},cannotHandleExtraWhitespace:function(e){return this.isFirefox()&&e&&(e=e.replace(/ \r\n/g,"\r\n")),e},hasMissingCLineInSDP:function(e){var t,n;if(e.indexOf("c=")>e.indexOf("m=")){n=e.match(/m=.*\r\n.*/g);for(var r=0;r<n.length;r++)n[r].toString().search(/i=.*/)>=0?(t=e.indexOf(n[r].toString())+n[r].toString().length,"c="!==e.substr(t,2)&&(e=e.substr(0,t)+"\r\nc=IN IP4 0.0.0.0"+e.substr(t))):n[r].toString().search(/c=.*/)<0&&(t=e.indexOf(n[r].toString().match(/.*/))+n[r].toString().match(/.*/).toString().length,e=e.substr(0,t)+"\r\nc=IN IP4 0.0.0.0"+e.substr(t))}return e}},Chrome:{needsExplicitlyInactiveSDP:function(e){var n,r;return t.Firefox.isFirefox()&&-1!==(r=e.indexOf("m=video 0"))?(n=e.substr(r),n=n.replace(/\r\nc=IN IP4.*\r\n$/,"\r\nc=IN IP4 0.0.0.0\r\na=inactive\r\n"),e.substr(0,r)+n):e},getsConfusedAboutGUM:function(e){e.mediaHandler&&e.mediaHandler.close()}}};return t}},function(e,t,n){"use strict";e.exports=function(e){function t(t){var n,r=e.Utils.buildStatusLine(t),i=p.getHeaders("via"),o=i.length,a=0;for(a;a<o;a++)r+="Via: "+i[a]+"\r\n";n=p.getHeader("To"),p.to_tag||(n+=";tag="+e.Utils.newTag()),r+="To: "+n+"\r\n",r+="From: "+p.getHeader("From")+"\r\n",r+="Call-ID: "+p.call_id+"\r\n",r+="CSeq: "+p.cseq+" "+p.method+"\r\n",r+="\r\n",h.send(r)}function n(){if(!p.ruri||"sip"!==p.ruri.scheme)return t(416),!1}function r(){if(!p.to_tag&&p.call_id.substr(0,5)===d.configuration.sipjsId)return t(482),!1}function i(){if(e.Utils.str_utf8_length(p.body)<p.getHeader("content-length"))return t(400),!1}function o(){var n,r,i=p.from_tag,o=p.call_id,a=p.cseq;if(!p.to_tag)if(p.method===e.C.INVITE){if(n=d.transactions.ist[p.via_branch])return;for(r in d.transactions.ist)if(n=d.transactions.ist[r],n.request.from_tag===i&&n.request.call_id===o&&n.request.cseq===a)return t(482),!1}else{if(n=d.transactions.nist[p.via_branch])return;for(r in d.transactions.nist)if(n=d.transactions.nist[r],n.request.from_tag===i&&n.request.call_id===o&&n.request.cseq===a)return t(482),!1}}function a(){if(p.getHeaders("via").length>1)return l.warn("More than one Via header field present in the response. Dropping the response"),!1}function s(){if(e.Utils.str_utf8_length(p.body)<p.getHeader("content-length"))return l.warn("Message body length is lower than the value in Content-Length header field. Dropping the response"),!1}function c(){for(var e=["from","to","call_id","cseq","via"],t=e.length;t--;)if(!p.hasHeader(e[t]))return l.warn("Missing mandatory header field : "+e[t]+". Dropping the response"),!1}var u,l,p,d,h,f=[],m=[],g=[];f.push(n),f.push(r),f.push(i),f.push(o),m.push(a),m.push(s),g.push(c),u=function(t,n,r){var i;for(p=t,d=n,h=r,l=d.getLogger("sip.sanitycheck"),i=g.length;i--;)if(!1===g[i](p))return!1;if(p instanceof e.IncomingRequest){for(i=f.length;i--;)if(!1===f[i](p))return!1}else if(p instanceof e.IncomingResponse)for(i=m.length;i--;)if(!1===m[i](p))return!1;return!0},e.sanityCheck=u}},function(e,t,n){"use strict";e.exports=function(e){var t;return t=function(e){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=e.configuration.authorizationUser,this.password=e.configuration.password,this.cnonce=null,this.nc=0,this.ncHex="00000000",this.response=null},t.prototype.authenticate=function(t,n){if(this.algorithm=n.algorithm,this.realm=n.realm,this.nonce=n.nonce,this.opaque=n.opaque,this.stale=n.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn('challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(n.qop)if(n.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(n.qop.indexOf("auth-int")>-1))return this.logger.warn('challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this.qop="auth-int"}else this.qop=null;return this.method=t.method,this.uri=t.ruri,this.cnonce=e.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(),!0},t.prototype.calculateResponse=function(){var t,n;t=e.calculateMD5(this.username+":"+this.realm+":"+this.password),"auth"===this.qop?(n=e.calculateMD5(this.method+":"+this.uri),this.response=e.calculateMD5(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=e.calculateMD5(this.method+":"+this.uri+":"+e.calculateMD5(this.body?this.body:"")),this.response=e.calculateMD5(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):null===this.qop&&(n=e.calculateMD5(this.method+":"+this.uri),this.response=e.calculateMD5(t+":"+this.nonce+":"+n))},t.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},t.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},t}},function(e,t,n){"use strict";var r=n(478);e.exports=function(e){return{parse:function(t,n){var i={startRule:n,SIP:e};try{r.parse(t,i)}catch(e){i.data=-1}return i.data}}}},function(e,t){e.exports=function(){function e(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function t(t){function n(){return t.substring(y,v)}function r(){return y}function i(e){return _!==e&&(_>e&&(_=0,b={line:1,column:1,seenCR:!1}),function(e,n,r){var i,o;for(i=n;i<r;i++)o=t.charAt(i),"\n"===o?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(b,_,e),_=e),b}function o(e){v<T||(v>T&&(T=v,w=[]),w.push(e))}function a(n,r,o){var a=i(o),s=o<t.length?t.charAt(o):null;return null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r,i,o=new Array(e.length);for(i=0;i<e.length;i++)o[i]=e[i].description;return n=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],r=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input","Expected "+n+" but "+r+" found."}(r,s),r,s,o,a.line,a.column)}function s(e){var t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=e.charCodeAt(t)-32;return n}function c(e){for(var n,r,i=g[e],a=0,s=[],u=i.length,l=[],p=[];;){for(;a<u;)switch(i[a]){case 0:p.push(function(e){return"[object Array]"===Object.prototype.toString.apply(e)?[]:e}(m[i[a+1]])),a+=2;break;case 1:p.push(v),a++;break;case 2:p.pop(),a++;break;case 3:v=p.pop(),a++;break;case 4:p.length-=i[a+1],a+=2;break;case 5:p.splice(-2,1),a++;break;case 6:p[p.length-2].push(p.pop()),a++;break;case 7:p.push(p.splice(p.length-i[a+1],i[a+1])),a+=2;break;case 8:p.pop(),p.push(t.substring(p[p.length-1],v)),a++;break;case 9:l.push(u),s.push(a+3+i[a+1]+i[a+2]),p[p.length-1]?(u=a+3+i[a+1],a+=3):(u=a+3+i[a+1]+i[a+2],a+=3+i[a+1]);break;case 10:l.push(u),s.push(a+3+i[a+1]+i[a+2]),p[p.length-1]===d?(u=a+3+i[a+1],a+=3):(u=a+3+i[a+1]+i[a+2],a+=3+i[a+1]);break;case 11:l.push(u),s.push(a+3+i[a+1]+i[a+2]),p[p.length-1]!==d?(u=a+3+i[a+1],a+=3):(u=a+3+i[a+1]+i[a+2],a+=3+i[a+1]);break;case 12:p[p.length-1]!==d?(l.push(u),s.push(a),u=a+2+i[a+1],a+=2):a+=2+i[a+1];break;case 13:l.push(u),s.push(a+3+i[a+1]+i[a+2]),t.length>v?(u=a+3+i[a+1],a+=3):(u=a+3+i[a+1]+i[a+2],a+=3+i[a+1]);break;case 14:l.push(u),s.push(a+4+i[a+2]+i[a+3]),t.substr(v,m[i[a+1]].length)===m[i[a+1]]?(u=a+4+i[a+2],a+=4):(u=a+4+i[a+2]+i[a+3],a+=4+i[a+2]);break;case 15:l.push(u),s.push(a+4+i[a+2]+i[a+3]),t.substr(v,m[i[a+1]].length).toLowerCase()===m[i[a+1]]?(u=a+4+i[a+2],a+=4):(u=a+4+i[a+2]+i[a+3],a+=4+i[a+2]);break;case 16:l.push(u),s.push(a+4+i[a+2]+i[a+3]),m[i[a+1]].test(t.charAt(v))?(u=a+4+i[a+2],a+=4):(u=a+4+i[a+2]+i[a+3],a+=4+i[a+2]);break;case 17:p.push(t.substr(v,i[a+1])),v+=i[a+1],a+=2;break;case 18:p.push(m[i[a+1]]),v+=m[i[a+1]].length,a+=2;break;case 19:p.push(d),0===E&&o(m[i[a+1]]),a+=2;break;case 20:y=p[p.length-1-i[a+1]],a+=2;break;case 21:y=v,a++;break;case 22:for(n=i.slice(a+4,a+4+i[a+3]),r=0;r<i[a+3];r++)n[r]=p[p.length-1-n[r]];p.splice(p.length-i[a+2],i[a+2],m[i[a+1]].apply(null,n)),a+=4+i[a+3];break;case 23:p.push(c(i[a+1])),a+=2;break;case 24:E++,a++;break;case 25:E--,a++;break;default:throw new Error("Invalid opcode: "+i[a]+".")}if(!(l.length>0))break;u=l.pop(),a=s.pop()}return p[0]}function u(e,t){return[e].concat(t)}var l,p=arguments.length>1?arguments[1]:{},d={},h={Contact:118,Name_Addr_Header:155,Record_Route:175,Request_Response:81,SIP_URI:45,Subscription_State:185,Supported:190,Require:181,Via:193,absoluteURI:84,Call_ID:117,Content_Disposition:129,Content_Length:134,Content_Type:135,CSeq:145,displayName:121,Event:148,From:150,host:52,Max_Forwards:153,Min_SE:212,Proxy_Authenticate:156,quoted_string:40,Refer_To:177,Replaces:178,Session_Expires:209,stun_URI:216,To:191,turn_URI:223,uuid:226,WWW_Authenticate:208,challenge:157},f=118,m=["\r\n",{type:"literal",value:"\r\n",description:'"\\r\\n"'},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[0-9a-fA-F]/,{type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},/^[\0-\xFF]/,{type:"class",value:"[\\0-\\xFF]",description:"[\\0-\\xFF]"},/^["]/,{type:"class",value:'["]',description:'["]'}," ",{type:"literal",value:" ",description:'" "'},"\t",{type:"literal",value:"\t",description:'"\\t"'},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},";",{type:"literal",value:";",description:'";"'},"/",{type:"literal",value:"/",description:'"/"'},"?",{type:"literal",value:"?",description:'"?"'},":",{type:"literal",value:":",description:'":"'},"@",{type:"literal",value:"@",description:'"@"'},"&",{type:"literal",value:"&",description:'"&"'},"=",{type:"literal",value:"=",description:'"="'},"+",{type:"literal",value:"+",description:'"+"'},"$",{type:"literal",value:"$",description:'"$"'},",",{type:"literal",value:",",description:'","'},"-",{type:"literal",value:"-",description:'"-"'},"_",{type:"literal",value:"_",description:'"_"'},".",{type:"literal",value:".",description:'"."'},"!",{type:"literal",value:"!",description:'"!"'},"~",{type:"literal",value:"~",description:'"~"'},"*",{type:"literal",value:"*",description:'"*"'},"'",{type:"literal",value:"'",description:'"\'"'},"(",{type:"literal",value:"(",description:'"("'},")",{type:"literal",value:")",description:'")"'},d,"%",{type:"literal",value:"%",description:'"%"'},null,[],function(){return" "},function(){return":"},/^[!-~]/,{type:"class",value:"[!-~]",description:"[!-~]"},/^[\x80-\uFFFF]/,{type:"class",value:"[\\x80-\\uFFFF]",description:"[\\x80-\\uFFFF]"},/^[\x80-\xBF]/,{type:"class",value:"[\\x80-\\xBF]",description:"[\\x80-\\xBF]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},"`",{type:"literal",value:"`",description:'"`"'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"\\",{type:"literal",value:"\\",description:'"\\\\"'},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,{type:"class",value:"[!-']",description:"[!-']"},/^[*-[]/,{type:"class",value:"[*-[]",description:"[*-[]"},/^[\]-~]/,{type:"class",value:"[\\]-~]",description:"[\\]-~]"},function(e){return e},/^[#-[]/,{type:"class",value:"[#-[]",description:"[#-[]"},/^[\0-\t]/,{type:"class",value:"[\\0-\\t]",description:"[\\0-\\t]"},/^[\x0B-\f]/,{type:"class",value:"[\\x0B-\\f]",description:"[\\x0B-\\f]"},/^[\x0E-]/,{type:"class",value:"[\\x0E-]",description:"[\\x0E-]"},function(){p.data.uri=new p.SIP.URI(p.data.scheme,p.data.user,p.data.host,p.data.port),delete p.data.scheme,delete p.data.user,delete p.data.host,delete p.data.host_type,delete p.data.port},function(){p.data.uri=new p.SIP.URI(p.data.scheme,p.data.user,p.data.host,p.data.port,p.data.uri_params,p.data.uri_headers),delete p.data.scheme,delete p.data.user,delete p.data.host,delete p.data.host_type,delete p.data.port,delete p.data.uri_params,"SIP_URI"===p.startRule&&(p.data=p.data.uri)},"sips",{type:"literal",value:"sips",description:'"sips"'},"sip",{type:"literal",value:"sip",description:'"sip"'},function(e){p.data.scheme=e},function(){p.data.user=decodeURIComponent(n().slice(0,-1))},function(){p.data.password=n()},function(){return p.data.host=n(),p.data.host},function(){return p.data.host_type="domain",n()},/^[a-zA-Z0-9_\-]/,{type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},/^[a-zA-Z0-9\-]/,{type:"class",value:"[a-zA-Z0-9\\-]",description:"[a-zA-Z0-9\\-]"},function(){return p.data.host_type="IPv6",n()},"::",{type:"literal",value:"::",description:'"::"'},function(){return p.data.host_type="IPv6",n()},function(){return p.data.host_type="IPv4",n()},"25",{type:"literal",value:"25",description:'"25"'},/^[0-5]/,{type:"class",value:"[0-5]",description:"[0-5]"},"2",{type:"literal",value:"2",description:'"2"'},/^[0-4]/,{type:"class",value:"[0-4]",description:"[0-4]"},"1",{type:"literal",value:"1",description:'"1"'},/^[1-9]/,{type:"class",value:"[1-9]",description:"[1-9]"},function(e){return e=parseInt(e.join("")),p.data.port=e,e},"transport=",{type:"literal",value:"transport=",description:'"transport="'},"udp",{type:"literal",value:"udp",description:'"udp"'},"tcp",{type:"literal",value:"tcp",description:'"tcp"'},"sctp",{type:"literal",value:"sctp",description:'"sctp"'},"tls",{type:"literal",value:"tls",description:'"tls"'},function(e){p.data.uri_params||(p.data.uri_params={}),p.data.uri_params.transport=e.toLowerCase()},"user=",{type:"literal",value:"user=",description:'"user="'},"phone",{type:"literal",value:"phone",description:'"phone"'},"ip",{type:"literal",value:"ip",description:'"ip"'},function(e){p.data.uri_params||(p.data.uri_params={}),p.data.uri_params.user=e.toLowerCase()},"method=",{type:"literal",value:"method=",description:'"method="'},function(e){p.data.uri_params||(p.data.uri_params={}),p.data.uri_params.method=e},"ttl=",{type:"literal",value:"ttl=",description:'"ttl="'},function(e){p.data.params||(p.data.params={}),p.data.params.ttl=e},"maddr=",{type:"literal",value:"maddr=",description:'"maddr="'},function(e){p.data.uri_params||(p.data.uri_params={}),p.data.uri_params.maddr=e},"lr",{type:"literal",value:"lr",description:'"lr"'},function(){p.data.uri_params||(p.data.uri_params={}),p.data.uri_params.lr=void 0},function(e,t){p.data.uri_params||(p.data.uri_params={}),t=null===t?void 0:t[1],p.data.uri_params[e.toLowerCase()]=t&&t.toLowerCase()},function(e,t){e=e.join("").toLowerCase(),t=t.join(""),p.data.uri_headers||(p.data.uri_headers={}),p.data.uri_headers[e]?p.data.uri_headers[e].push(t):p.data.uri_headers[e]=[t]},function(){"Refer_To"===p.startRule&&(p.data.uri=new p.SIP.URI(p.data.scheme,p.data.user,p.data.host,p.data.port,p.data.uri_params,p.data.uri_headers),delete p.data.scheme,delete p.data.user,delete p.data.host,delete p.data.host_type,delete p.data.port,delete p.data.uri_params)},"//",{type:"literal",value:"//",description:'"//"'},function(){p.data.scheme=n()},{type:"literal",value:"SIP",description:'"SIP"'},function(){p.data.sip_version=n()},"INVITE",{type:"literal",value:"INVITE",description:'"INVITE"'},"ACK",{type:"literal",value:"ACK",description:'"ACK"'},"VXACH",{type:"literal",value:"VXACH",description:'"VXACH"'},"OPTIONS",{type:"literal",value:"OPTIONS",description:'"OPTIONS"'},"BYE",{type:"literal",value:"BYE",description:'"BYE"'},"CANCEL",{type:"literal",value:"CANCEL",description:'"CANCEL"'},"REGISTER",{type:"literal",value:"REGISTER",description:'"REGISTER"'},"SUBSCRIBE",{type:"literal",value:"SUBSCRIBE",description:'"SUBSCRIBE"'},"NOTIFY",{type:"literal",value:"NOTIFY",description:'"NOTIFY"'},"REFER",{type:"literal",value:"REFER",description:'"REFER"'},function(){return p.data.method=n(),p.data.method},function(e){p.data.status_code=parseInt(e.join(""))},function(){p.data.reason_phrase=n()},function(){p.data=n()},function(){var e,t;for(t=p.data.multi_header.length,e=0;e<t;e++)if(null===p.data.multi_header[e].parsed){p.data=null;break}null!==p.data?p.data=p.data.multi_header:p.data=-1},function(){var e;p.data.multi_header||(p.data.multi_header=[]);try{e=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params),delete p.data.uri,delete p.data.displayName,delete p.data.params}catch(t){e=null}p.data.multi_header.push({position:v,offset:r(),parsed:e})},function(e){e=n().trim(),'"'===e[0]&&(e=e.substring(1,e.length-1)),p.data.displayName=e},"q",{type:"literal",value:"q",description:'"q"'},function(e){p.data.params||(p.data.params={}),p.data.params.q=e},"expires",{type:"literal",value:"expires",description:'"expires"'},function(e){p.data.params||(p.data.params={}),p.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",{type:"literal",value:"0",description:'"0"'},function(){return parseFloat(n())},function(e,t){p.data.params||(p.data.params={}),t=null===t?void 0:t[1],p.data.params[e.toLowerCase()]=t},"render",{type:"literal",value:"render",description:'"render"'},"session",{type:"literal",value:"session",description:'"session"'},"icon",{type:"literal",value:"icon",description:'"icon"'},"alert",{type:"literal",value:"alert",description:'"alert"'},function(){"Content_Disposition"===p.startRule&&(p.data.type=n().toLowerCase())},"handling",{type:"literal",value:"handling",description:'"handling"'},"optional",{type:"literal",value:"optional",description:'"optional"'},"required",{type:"literal",value:"required",description:'"required"'},function(e){p.data=parseInt(e.join(""))},function(){p.data=n()},"text",{type:"literal",value:"text",description:'"text"'},"image",{type:"literal",value:"image",description:'"image"'},"audio",{type:"literal",value:"audio",description:'"audio"'},"video",{type:"literal",value:"video",description:'"video"'},"application",{type:"literal",value:"application",description:'"application"'},"message",{type:"literal",value:"message",description:'"message"'},"multipart",{type:"literal",value:"multipart",description:'"multipart"'},"x-",{type:"literal",value:"x-",description:'"x-"'},function(e){p.data.value=parseInt(e.join(""))},function(e){p.data=e},function(e){p.data.event=e.toLowerCase()},function(){var e=p.data.tag;p.data=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params),e&&p.data.setParam("tag",e)},"tag",{type:"literal",value:"tag",description:'"tag"'},function(e){p.data.tag=e},function(e){p.data=parseInt(e.join(""))},function(e){p.data=e},function(){p.data=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params)},"digest",{type:"literal",value:"Digest",description:'"Digest"'},"realm",{type:"literal",value:"realm",description:'"realm"'},function(e){p.data.realm=e},"domain",{type:"literal",value:"domain",description:'"domain"'},"nonce",{type:"literal",value:"nonce",description:'"nonce"'},function(e){p.data.nonce=e},"opaque",{type:"literal",value:"opaque",description:'"opaque"'},function(e){p.data.opaque=e},"stale",{type:"literal",value:"stale",description:'"stale"'},"true",{type:"literal",value:"true",description:'"true"'},function(){p.data.stale=!0},"false",{type:"literal",value:"false",description:'"false"'},function(){p.data.stale=!1},"algorithm",{type:"literal",value:"algorithm",description:'"algorithm"'},"md5",{type:"literal",value:"MD5",description:'"MD5"'},"md5-sess",{type:"literal",value:"MD5-sess",description:'"MD5-sess"'},function(e){p.data.algorithm=e.toUpperCase()},"qop",{type:"literal",value:"qop",description:'"qop"'},"auth-int",{type:"literal",value:"auth-int",description:'"auth-int"'},"auth",{type:"literal",value:"auth",description:'"auth"'},function(e){p.data.qop||(p.data.qop=[]),p.data.qop.push(e.toLowerCase())},function(e){p.data.value=parseInt(e.join(""))},function(){var e,t;for(t=p.data.multi_header.length,e=0;e<t;e++)if(null===p.data.multi_header[e].parsed){p.data=null;break}null!==p.data?p.data=p.data.multi_header:p.data=-1},function(){var e;p.data.multi_header||(p.data.multi_header=[]);try{e=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params),delete p.data.uri,delete p.data.displayName,delete p.data.params}catch(t){e=null}p.data.multi_header.push({position:v,offset:r(),parsed:e})},function(){p.data=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params)},function(){p.data.replaces_from_tag&&p.data.replaces_to_tag||(p.data=-1)},function(){p.data={call_id:p.data}},"from-tag",{type:"literal",value:"from-tag",description:'"from-tag"'},function(e){p.data.replaces_from_tag=e},"to-tag",{type:"literal",value:"to-tag",description:'"to-tag"'},function(e){p.data.replaces_to_tag=e},"early-only",{type:"literal",value:"early-only",description:'"early-only"'},function(){p.data.early_only=!0},function(e){return e},function(e,t){return u(e,t)},function(e){"Require"===p.startRule&&(p.data=e||[])},function(e){p.data.value=parseInt(e.join(""))},"active",{type:"literal",value:"active",description:'"active"'},"pending",{type:"literal",value:"pending",description:'"pending"'},"terminated",{type:"literal",value:"terminated",description:'"terminated"'},function(){p.data.state=n()},"reason",{type:"literal",value:"reason",description:'"reason"'},function(e){void 0!==e&&(p.data.reason=e)},function(e){void 0!==e&&(p.data.expires=e)},"retry_after",{type:"literal",value:"retry_after",description:'"retry_after"'},function(e){void 0!==e&&(p.data.retry_after=e)},"deactivated",{type:"literal",value:"deactivated",description:'"deactivated"'},"probation",{type:"literal",value:"probation",description:'"probation"'},"rejected",{type:"literal",value:"rejected",description:'"rejected"'},"timeout",{type:"literal",value:"timeout",description:'"timeout"'},"giveup",{type:"literal",value:"giveup",description:'"giveup"'},"noresource",{type:"literal",value:"noresource",description:'"noresource"'},"invariant",{type:"literal",value:"invariant",description:'"invariant"'},function(e){"Supported"===p.startRule&&(p.data=e||[])},function(){var e=p.data.tag;p.data=new p.SIP.NameAddrHeader(p.data.uri,p.data.displayName,p.data.params),e&&p.data.setParam("tag",e)},"ttl",{type:"literal",value:"ttl",description:'"ttl"'},function(e){p.data.ttl=e},"maddr",{type:"literal",value:"maddr",description:'"maddr"'},function(e){p.data.maddr=e},"received",{type:"literal",value:"received",description:'"received"'},function(e){p.data.received=e},"branch",{type:"literal",value:"branch",description:'"branch"'},function(e){p.data.branch=e},"rport",{type:"literal",value:"rport",description:'"rport"'},function(){"undefined"!=typeof response_port&&(p.data.rport=response_port.join(""))},function(e){p.data.protocol=e},{type:"literal",value:"UDP",description:'"UDP"'},{type:"literal",value:"TCP",description:'"TCP"'},{type:"literal",value:"TLS",description:'"TLS"'},{type:"literal",value:"SCTP",description:'"SCTP"'},function(e){p.data.transport=e},function(){p.data.host=n()},function(e){p.data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===p.startRule&&(p.data.deltaSeconds=e)},"refresher",{type:"literal",value:"refresher",description:'"refresher"'},"uas",{type:"literal",value:"uas",description:'"uas"'},"uac",{type:"literal",value:"uac",description:'"uac"'},function(e){"Session_Expires"===p.startRule&&(p.data.refresher=e)},function(e){"Min_SE"===p.startRule&&(p.data=e)},"stuns",{type:"literal",value:"stuns",description:'"stuns"'},"stun",{type:"literal",value:"stun",description:'"stun"'},function(e){p.data.scheme=e},function(e){p.data.host=e},"?transport=",{type:"literal",value:"?transport=",description:'"?transport="'},"turns",{type:"literal",value:"turns",description:'"turns"'},"turn",{type:"literal",value:"turn",description:'"turn"'},function(){p.data.transport=transport},function(){p.data=n()}],g=[s('. ""2 3!'),s('0"""1!3#'),s('0$""1!3%'),s('0&""1!3\''),s("7'*# \"7("),s('0(""1!3)'),s('0*""1!3+'),s('.,""2,3-'),s('..""2.3/'),s('00""1!31'),s('.2""2233* ".4""2435*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),s('7)*# "7,'),s('.F""2F3G*} ".H""2H3I*q ".J""2J3K*e ".L""2L3M*Y ".N""2N3O*M ".P""2P3Q*A ".R""2R3S*5 ".T""2T3U*) ".V""2V3W'),s('!!.Y""2Y3Z+7$7#+-%7#+#%\'#%$## X$"# X"# X+! (%'),s('!! \\7$,#&7$"+-$7 +#%\'"%$"# X"# X*# " [+@$ \\7$+&$,#&7$""" X+\'%4"6]" %$"# X"# X'),s('7.*# " ['),s('! \\7\'*# "7(,)&7\'*# "7("+A$.8""2839+1%7/+\'%4#6^# %$## X$"# X"# X'),s('!! \\72+&$,#&72""" X+o$ \\! \\7.,#&7."+-$72+#%\'"%$"# X"# X,@&! \\7.,#&7."+-$72+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),s('0_""1!3`*# "73'),s('0a""1!3b'),s('0c""1!3d'),s('7!*) "0e""1!3f'),s('! \\7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),s('! \\7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),s('.T""2T3U*ã ".V""2V3W*× ".i""2i3j*Ë ".k""2k3l*¿ ".:""2:3;*³ ".D""2D3E*§ ".2""2233* ".8""2839* ".m""2m3n* "7&*} ".4""2435*q ".o""2o3p*e ".q""2q3r*Y ".6""2637*M ".>""2>3?*A ".s""2s3t*5 ".u""2u3v*) "7\'*# "7('),s('! \\7)*ī ".F""2F3G*ğ ".J""2J3K*ē ".L""2L3M*ć ".Y""2Y3Z*û ".P""2P3Q*ï ".H""2H3I*ã ".@""2@3A*× ".g""2g3h*Ë ".R""2R3S*¿ ".N""2N3O*³ ".T""2T3U*§ ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v+Ĵ$,ı&7)*ī ".F""2F3G*ğ ".J""2J3K*ē ".L""2L3M*ć ".Y""2Y3Z*û ".P""2P3Q*ï ".H""2H3I*ã ".@""2@3A*× ".g""2g3h*Ë ".R""2R3S*¿ ".N""2N3O*³ ".T""2T3U*§ ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v""" X+! (%'),s('!7/+A$.P""2P3Q+1%7/+\'%4#6w# %$## X$"# X"# X'),s('!7/+A$.4""2435+1%7/+\'%4#6x# %$## X$"# X"# X'),s('!7/+A$.>""2>3?+1%7/+\'%4#6y# %$## X$"# X"# X'),s('!7/+A$.T""2T3U+1%7/+\'%4#6z# %$## X$"# X"# X'),s('!7/+A$.V""2V3W+1%7/+\'%4#6{# %$## X$"# X"# X'),s('!.k""2k3l+1$7/+\'%4"6|" %$"# X"# X'),s('!7/+7$.i""2i3j+\'%4"6}" %$"# X"# X'),s('!7/+A$.D""2D3E+1%7/+\'%4#6~# %$## X$"# X"# X'),s('!7/+A$.2""2233+1%7/+\'%4#6# %$## X$"# X"# X'),s('!7/+A$.8""2839+1%7/+\'%4#6# %$## X$"# X"# X'),s('!7/+1$7&+\'%4"6" %$"# X"# X'),s('!7&+1$7/+\'%4"6" %$"# X"# X'),s('!7=+W$ \\7G*) "7K*# "7F,/&7G*) "7K*# "7F"+-%7>+#%\'#%$## X$"# X"# X'),s('0""1!3*A "0""1!3*5 "0""1!3*) "73*# "7.'),s('!!7/+U$7&+K% \\7J*# "7K,)&7J*# "7K"+-%7&+#%\'$%$$# X$## X$"# X"# X+! (%'),s('!7/+`$7&+V%! \\7J*# "7K,)&7J*# "7K"+! (%+2%7&+(%4$6$!!%$$# X$## X$"# X"# X'),s('7.*G ".L""2L3M*; "0""1!3*/ "0""1!3*# "73'),s('!.m""2m3n+K$0""1!3*5 "0""1!3*) "0""1!3+#%\'"%$"# X"# X'),s('!7N+Q$.8""2839+A%7O*# " [+1%7S+\'%4$6$ %$$# X$## X$"# X"# X'),s('!7N+k$.8""2839+[%7O*# " [+K%7S+A%7_+7%7l*# " [+\'%4&6& %$&# X$%# X$$# X$## X$"# X"# X'),s('!/""1$3*) "/""1#3+\' 4!6!! %'),s('!7P+b$!.8""2839+-$7R+#%\'"%$"# X"# X*# " [+7%.:""2:3;+\'%4#6# %$## X$"# X"# X'),s(' \\7+*) "7-*# "7Q+2$,/&7+*) "7-*# "7Q""" X'),s('.<""2<3=*q ".>""2>3?*e ".@""2@3A*Y ".B""2B3C*M ".D""2D3E*A ".2""2233*5 ".6""2637*) ".4""2435'),s('! \\7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E,e&7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E"+& 4!6! %'),s('!7T+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),s('!7U*) "7\\*# "7X+& 4!6! %'),s('! \\!7V+3$.J""2J3K+#%\'"%$"# X"# X,>&!7V+3$.J""2J3K+#%\'"%$"# X"# X"+G$7W+=%.J""2J3K*# " [+\'%4#6# %$## X$"# X"# X'),s(' \\0""1!3+,$,)&0""1!3""" X'),s('!0$""1!3%+A$ \\0""1!3,)&0""1!3"+#%\'"%$"# X"# X'),s('!.o""2o3p+A$7Y+7%.q""2q3r+\'%4#6 # %$## X$"# X"# X'),s('!!7Z+¿$.8""2839+¯%7Z+¥%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'-%$-# X$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*࠸ "!.¡""2¡3¢+¯$7Z+¥%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\',%$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ޕ "!.¡""2¡3¢+$7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*܌ "!.¡""2¡3¢+{$7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ڝ "!.¡""2¡3¢+a$7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'&%$&# X$%# X$$# X$## X$"# X"# X*و "!.¡""2¡3¢+G$7Z+=%.8""2839+-%7[+#%\'$%$$# X$## X$"# X"# X*؍ "!.¡""2¡3¢+-$7[+#%\'"%$"# X"# X*׬ "!.¡""2¡3¢+-$7Z+#%\'"%$"# X"# X*׋ "!7Z+¥$.¡""2¡3¢+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'+%$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*Ը "!7Z+¶$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%.¡""2¡3¢+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*Ҕ "!7Z+Ç$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+q%.¡""2¡3¢+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\')%$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ϟ "!7Z+Ø$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+­%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+W%.¡""2¡3¢+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*̙ "!7Z+é$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+¾%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.¡""2¡3¢+-%7[+#%\'\'%$\'# X$&# X$%# X$$# X$## X$"# X"# X*ɂ "!7Z+Ĕ$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+é%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+¾%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.¡""2¡3¢+-%7Z+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ŀ "!7Z+ĵ$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+Ċ%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+ß%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+´%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+^%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+3%.¡""2¡3¢+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X+& 4!6£! %'),s('!7#+S$7#*# " [+C%7#*# " [+3%7#*# " [+#%\'$%$$# X$## X$"# X"# X'),s('!7Z+=$.8""2839+-%7Z+#%\'#%$## X$"# X"# X*# "7\\'),s('!7]+u$.J""2J3K+e%7]+[%.J""2J3K+K%7]+A%.J""2J3K+1%7]+\'%4\'6¤\' %$\'# X$&# X$%# X$$# X$## X$"# X"# X'),s('!.¥""2¥3¦+3$0§""1!3¨+#%\'"%$"# X"# X*  "!.©""2©3ª+=$0«""1!3¬+-%7!+#%\'#%$## X$"# X"# X*o "!.­""2­3®+7$7!+-%7!+#%\'#%$## X$"# X"# X*D "!0¯""1!3°+-$7!+#%\'"%$"# X"# X*# "7!'),s('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6±!! %'),s(' \\!.2""2233+-$7`+#%\'"%$"# X"# X,>&!.2""2233+-$7`+#%\'"%$"# X"# X"'),s('7a*A "7b*; "7c*5 "7d*/ "7e*) "7f*# "7g'),s('!/²""1*3³+b$/´""1#3µ*G "/¶""1#3·*; "/¸""1$3¹*/ "/º""1#3»*# "76+(%4"6¼"! %$"# X"# X'),s('!/½""1%3¾+J$/¿""1%3À*/ "/Á""1"3Â*# "76+(%4"6Ã"! %$"# X"# X'),s('!/Ä""1\'3Å+2$7+(%4"6Æ"! %$"# X"# X'),s('!/Ç""1$3È+2$7ï+(%4"6É"! %$"# X"# X'),s('!/Ê""1&3Ë+2$7T+(%4"6Ì"! %$"# X"# X'),s('!/Í""1"3Î+R$!.>""2>3?+-$76+#%\'"%$"# X"# X*# " [+\'%4"6Ï" %$"# X"# X'),s('!7h+T$!.>""2>3?+-$7i+#%\'"%$"# X"# X*# " [+)%4"6Ð""! %$"# X"# X'),s('! \\7j+&$,#&7j""" X+! (%'),s('! \\7j+&$,#&7j""" X+! (%'),s('7k*) "7+*# "7-'),s('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".8""2839*A ".<""2<3=*5 ".@""2@3A*) ".B""2B3C'),s('!.6""2637+u$7m+k% \\!.<""2<3=+-$7m+#%\'"%$"# X"# X,>&!.<""2<3=+-$7m+#%\'"%$"# X"# X"+#%\'#%$## X$"# X"# X'),s('!7n+C$.>""2>3?+3%7o+)%4#6Ñ#"" %$## X$"# X"# X'),s(' \\7p*) "7+*# "7-+2$,/&7p*) "7+*# "7-""" X'),s(' \\7p*) "7+*# "7-,/&7p*) "7+*# "7-"'),s('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".6""2637*A ".8""2839*5 ".@""2@3A*) ".B""2B3C'),s('7*# "7r'),s("!7+K$7'+A%7s+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),s('7M*# "7t'),s('!7+G$.8""2839+7%7u*# "7x+\'%4#6Ò# %$## X$"# X"# X'),s('!7v*# "7w+N$!.6""2637+-$7+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),s('!.Ó""2Ó3Ô+=$7+3%7w*# " [+#%\'#%$## X$"# X"# X'),s('!.4""2435+-$7{+#%\'"%$"# X"# X'),s('!7z+5$ \\7y,#&7y"+#%\'"%$"# X"# X'),s('7**) "7+*# "7-'),s('7+* "7-* ".2""2233*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),s('!7|+k$ \\!.4""2435+-$7|+#%\'"%$"# X"# X,>&!.4""2435+-$7|+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('! \\7~,#&7~"+k$ \\!.2""2233+-$7}+#%\'"%$"# X"# X,>&!.2""2233+-$7}+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s(' \\7~,#&7~"'),s('7+*w "7-*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),s('!7"+$ \\7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K,M&7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K"+\'%4"6Õ" %$"# X"# X'),s('7*# "7'),s('!!7O+3$.:""2:3;+#%\'"%$"# X"# X*# " [+-$7S+#%\'"%$"# X"# X*# " ['),s(' \\7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A+$,&7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A""" X'),s(' \\7y,#&7y"'),s('!/""1#3Ö+y$.4""2435+i% \\7!+&$,#&7!""" X+P%.J""2J3K+@% \\7!+&$,#&7!""" X+\'%4%6×% %$%# X$$# X$## X$"# X"# X'),s('.Ø""2Ø3Ù'),s('.Ú""2Ú3Û'),s('.Ü""2Ü3Ý'),s('.Þ""2Þ3ß'),s('.à""2à3á'),s('.â""2â3ã'),s('.ä""2ä3å'),s('.æ""2æ3ç'),s('.è""2è3é'),s('.ê""2ê3ë'),s('!7*S "7*M "7*G "7*A "7*; "7*5 "7*/ "7*) "7*# "76+& 4!6ì! %'),s("!7+K$7'+A%7+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),s("!7+' 4!6í!! %"),s('!7!+7$7!+-%7!+#%\'#%$## X$"# X"# X'),s('! \\7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7(,G&7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7("+& 4!6î! %'),s('!7µ+_$ \\!7A+-$7µ+#%\'"%$"# X"# X,8&!7A+-$7µ+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!79+R$!.:""2:3;+-$79+#%\'"%$"# X"# X*# " [+\'%4"6ï" %$"# X"# X'),s('!7:*j "!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+& 4!6ð! %'),s('!7L*# "7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6ñ" %$"# X"# X'),s('!7*# " [+A$7@+7%7M+-%7?+#%\'$%$$# X$## X$"# X"# X'),s('!!76+_$ \\!7.+-$76+#%\'"%$"# X"# X,8&!7.+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X*# "7H+\' 4!6ò!! %'),s('7*) "7*# "7'),s('!/ó""1!3ô+<$7<+2%7+(%4#6õ#! %$## X$"# X"# X'),s('!/ö""1\'3÷+<$7<+2%7+(%4#6ø#! %$## X$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6ù!! %'),s('!.ú""2ú3û+x$!.J""2J3K+S$7!*# " [+C%7!*# " [+3%7!*# " [+#%\'$%$$# X$## X$"# X"# X*# " [+\'%4"6ü" %$"# X"# X'),s('!76+N$!7<+-$7 +#%\'"%$"# X"# X*# " [+)%4"6ý""! %$"# X"# X'),s('76*) "7T*# "7H'),s('!7¢+_$ \\!7B+-$7£+#%\'"%$"# X"# X,8&!7B+-$7£+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!/þ""1&3ÿ*G "/Ā""1\'3ā*; "/Ă""1$3ă*/ "/Ą""1%3ą*# "76+& 4!6Ć! %'),s('7¤*# "7'),s('!/ć""1(3Ĉ+O$7<+E%/ĉ""1(3Ċ*/ "/ċ""1(3Č*# "76+#%\'#%$## X$"# X"# X'),s('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6č!! %'),s("!7¨+& 4!6Ď! %"),s('!7©+s$7;+i%7®+_% \\!7B+-$7¯+#%\'"%$"# X"# X,8&!7B+-$7¯+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),s('7ª*# "7«'),s('/ď""1$3Đ*S "/đ""1%3Ē*G "/ē""1%3Ĕ*; "/ĕ""1%3Ė*/ "/ė""1+3Ę*# "7¬'),s('/ę""1\'3Ě*/ "/ě""1)3Ĝ*# "7¬'),s('76*# "7­'),s('!/ĝ""1"3Ğ+-$76+#%\'"%$"# X"# X'),s('7¬*# "76'),s('!76+7$7<+-%7°+#%\'#%$## X$"# X"# X'),s('76*# "7H'),s('!7²+7$7.+-%7+#%\'#%$## X$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6ğ!! %'),s("!7+' 4!6Ġ!! %"),s('!7µ+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6ġ"!!%$"# X"# X'),s('!!77+k$ \\!.J""2J3K+-$77+#%\'"%$"# X"# X,>&!.J""2J3K+-$77+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),s('!7L*# "7+c$ \\!7B+-$7·+#%\'"%$"# X"# X,8&!7B+-$7·+#%\'"%$"# X"# X"+\'%4"6Ģ" %$"# X"# X'),s('7¸*# "7'),s('!/ģ""1#3Ĥ+<$7<+2%76+(%4#6ĥ#! %$## X$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6Ħ!! %'),s("!7+' 4!6ħ!! %"),s('! \\7,#&7"+$7@+w%7M+m%7?+c% \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4%6Ĩ% %$%# X$$# X$## X$"# X"# X'),s("7½"),s('!/ĩ""1&3Ī+s$7.+i%7À+_% \\!7A+-$7À+#%\'"%$"# X"# X,8&!7A+-$7À+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X*# "7¾'),s('!76+s$7.+i%7¿+_% \\!7A+-$7¿+#%\'"%$"# X"# X,8&!7A+-$7¿+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),s('!76+=$7<+3%76*# "7H+#%\'#%$## X$"# X"# X'),s('7Á*G "7Ã*A "7Å*; "7Ç*5 "7È*/ "7É*) "7Ê*# "7¿'),s('!/ī""1%3Ĭ+7$7<+-%7Â+#%\'#%$## X$"# X"# X'),s("!7I+' 4!6ĭ!! %"),s('!/Į""1&3į+¥$7<+%7D+%7Ä+% \\! \\7\'+&$,#&7\'""" X+-$7Ä+#%\'"%$"# X"# X,G&! \\7\'+&$,#&7\'""" X+-$7Ä+#%\'"%$"# X"# X"+-%7E+#%\'&%$&# X$%# X$$# X$## X$"# X"# X'),s('7t*# "7w'),s('!/İ""1%3ı+7$7<+-%7Æ+#%\'#%$## X$"# X"# X'),s("!7I+' 4!6Ĳ!! %"),s('!/ĳ""1&3Ĵ+<$7<+2%7I+(%4#6ĵ#! %$## X$"# X"# X'),s('!/Ķ""1%3ķ+_$7<+U%!/ĸ""1$3Ĺ+& 4!6ĺ! %*4 "!/Ļ""1%3ļ+& 4!6Ľ! %+#%\'#%$## X$"# X"# X'),s('!/ľ""1)3Ŀ+T$7<+J%/ŀ""1#3Ł*/ "/ł""1(3Ń*# "76+(%4#6ń#! %$## X$"# X"# X'),s('!/Ņ""1#3ņ+$7<+%7D+%!7Ë+k$ \\!.D""2D3E+-$7Ë+#%\'"%$"# X"# X,>&!.D""2D3E+-$7Ë+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+-%7E+#%\'%%$%# X$$# X$## X$"# X"# X'),s('!/Ň""1(3ň*/ "/ŉ""1$3Ŋ*# "76+\' 4!6ŋ!! %'),s('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!7Î+K$7.+A%7Î+7%7.+-%7+#%\'%%$%# X$$# X$## X$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6Ō!! %'),s('!7Ð+c$ \\!7A+-$7Ð+#%\'"%$"# X"# X,8&!7A+-$7Ð+#%\'"%$"# X"# X"+\'%4"6ō" %$"# X"# X'),s('!7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6Ŏ" %$"# X"# X'),s('!7L*T "7*N "!7@*# " [+=$7t+3%7?*# " [+#%\'#%$## X$"# X"# X+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6ŏ" %$"# X"# X'),s('!7Ó+c$ \\!7B+-$7Ô+#%\'"%$"# X"# X,8&!7B+-$7Ô+#%\'"%$"# X"# X"+\'%4"6Ő" %$"# X"# X'),s("!7+& 4!6ő! %"),s('!/Œ""1(3œ+<$7<+2%76+(%4#6Ŕ#! %$## X$"# X"# X*j "!/ŕ""1&3Ŗ+<$7<+2%76+(%4#6ŗ#! %$## X$"# X"# X*: "!/Ř""1*3ř+& 4!6Ś! %*# "7'),s('!!76+o$ \\!7A+2$76+(%4"6ś"! %$"# X"# X,=&!7A+2$76+(%4"6ś"! %$"# X"# X"+)%4"6Ŝ""! %$"# X"# X*# " [+\' 4!6ŝ!! %'),s('!7×+_$ \\!7A+-$7×+#%\'"%$"# X"# X,8&!7A+-$7×+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!7+_$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('! \\7!+&$,#&7!""" X+\' 4!6Ş!! %'),s('!7Ú+_$ \\!7B+-$7Û+#%\'"%$"# X"# X,8&!7B+-$7Û+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!/ş""1&3Š*; "/š""1\'3Ţ*/ "/ţ""1*3Ť*# "76+& 4!6ť! %'),s('!/Ŧ""1&3ŧ+<$7<+2%7Ü+(%4#6Ũ#! %$## X$"# X"# X* "!/ö""1\'3÷+<$7<+2%7+(%4#6ũ#! %$## X$"# X"# X*S "!/Ū""1+3ū+<$7<+2%7+(%4#6Ŭ#! %$## X$"# X"# X*# "7'),s('/ŭ""1+3Ů*k "/ů""1)3Ű*_ "/ű""1(3Ų*S "/ų""1\'3Ŵ*G "/ŵ""1&3Ŷ*; "/ŷ""1*3Ÿ*/ "/Ź""1)3ź*# "76'),s('71*# " ['),s('!!76+o$ \\!7A+2$76+(%4"6ś"! %$"# X"# X,=&!7A+2$76+(%4"6ś"! %$"# X"# X"+)%4"6Ŝ""! %$"# X"# X*# " [+\' 4!6Ż!! %'),s('!7L*# "7+c$ \\!7B+-$7à+#%\'"%$"# X"# X,8&!7B+-$7à+#%\'"%$"# X"# X"+\'%4"6ż" %$"# X"# X'),s('7¸*# "7'),s('!7â+_$ \\!7A+-$7â+#%\'"%$"# X"# X,8&!7A+-$7â+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),s('!7é+s$7.+i%7ì+_% \\!7B+-$7ã+#%\'"%$"# X"# X,8&!7B+-$7ã+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),s('7ä*; "7å*5 "7æ*/ "7ç*) "7è*# "7'),s('!/Ž""1#3ž+<$7<+2%7ï+(%4#6ſ#! %$## X$"# X"# X'),s('!/ƀ""1%3Ɓ+<$7<+2%7T+(%4#6Ƃ#! %$## X$"# X"# X'),s('!/ƃ""1(3Ƅ+B$7<+8%7\\*# "7Y+(%4#6ƅ#! %$## X$"# X"# X'),s('!/Ɔ""1&3Ƈ+<$7<+2%76+(%4#6ƈ#! %$## X$"# X"# X'),s('!/Ɖ""1%3Ɗ+T$!7<+5$ \\7!,#&7!"+#%\'"%$"# X"# X*# " [+\'%4"6Ƌ" %$"# X"# X'),s('!7ê+K$7;+A%76+7%7;+-%7ë+#%\'%%$%# X$$# X$## X$"# X"# X'),s('!/""1#3Ö*# "76+\' 4!6ƌ!! %'),s('!/´""1#3ƍ*G "/¶""1#3Ǝ*; "/º""1#3Ə*/ "/¸""1$3Ɛ*# "76+\' 4!6Ƒ!! %'),s('!7í+H$!7C+-$7î+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),s('!7U*) "7\\*# "7X+& 4!6ƒ! %'),s('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6Ɠ!! %'),s('!!7!+C$7!*# " [+3%7!*# " [+#%\'#%$## X$"# X"# X+\' 4!6Ɣ!! %'),s("7½"),s('!7+d$ \\!7B+-$7ò+#%\'"%$"# X"# X,8&!7B+-$7ò+#%\'"%$"# X"# X"+(%4"6ƕ"!!%$"# X"# X'),s('7ó*# "7'),s('!.Ɩ""2Ɩ3Ɨ+N$7<+D%.Ƙ""2Ƙ3ƙ*) ".ƚ""2ƚ3ƛ+(%4#6Ɯ#! %$## X$"# X"# X'),s('!7+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6Ɲ"!!%$"# X"# X'),s('!76+7$70+-%7ö+#%\'#%$## X$"# X"# X'),s(' \\72*) "74*# "7.,/&72*) "74*# "7."'),s(' \\7%,#&7%"'),s('!7ù+=$.8""2839+-%7ú+#%\'#%$## X$"# X"# X'),s('!/ƞ""1%3Ɵ*) "/Ơ""1$3ơ+\' 4!6Ƣ!! %'),s('!7û+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),s('!7\\*) "7X*# "7+\' 4!6ƣ!! %'),s('! \\7ý*) "7-*# "7þ,/&7ý*) "7-*# "7þ"+! (%'),s('7"*S "7!*M ".F""2F3G*A ".J""2J3K*5 ".H""2H3I*) ".N""2N3O'),s('.L""2L3M* ".B""2B3C* ".<""2<3=*} ".R""2R3S*q ".T""2T3U*e ".V""2V3W*Y ".P""2P3Q*M ".@""2@3A*A ".D""2D3E*5 ".2""2233*) ".>""2>3?'),s('!7Ā+h$.8""2839+X%7ú+N%!.Ƥ""2Ƥ3ƥ+-$7ë+#%\'"%$"# X"# X*# " [+#%\'$%$$# X$## X$"# X"# X'),s('!/Ʀ""1%3Ƨ*) "/ƨ""1$3Ʃ+\' 4!6Ƣ!! %'),s('!7ë+Q$/´""1#3µ*7 "/¶""1#3·*+ " \\7+,#&7+"+\'%4"6ƪ" %$"# X"# X'),s('!7Ą+$.F""2F3G+%7ă+u%.F""2F3G+e%7ă+[%.F""2F3G+K%7ă+A%.F""2F3G+1%7ą+\'%4)6ƫ) %$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X'),s('!7#+A$7#+7%7#+-%7#+#%\'$%$$# X$## X$"# X"# X'),s('!7ă+-$7ă+#%\'"%$"# X"# X'),s('!7ă+7$7ă+-%7ă+#%\'#%$## X$"# X"# X')],v=0,y=0,_=0,b={line:1,column:1,seenCR:!1},T=0,w=[],E=0;if("startRule"in p){if(!(p.startRule in h))throw new Error("Can't start parsing from rule \""+p.startRule+'".');f=h[p.startRule]}if(p.data={},(l=c(f))!==d&&v===t.length)return l;throw l!==d&&v<t.length&&o({type:"end",description:"end of input"}),a(null,w,T)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:t}}()},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;a.call(this),Object.defineProperties(this,{_revision:{writable:!0,value:1},revision:{enumerable:!0,get:function(){return this._revision}}})}var i=n(173).getState,o=n(0).inherits,a=n(97);o(r,a),r.prototype.update=function(){return this._revision++,this},r.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(i)}},e.exports=r},function(e,t,n){"use strict";function r(){s.call(this,"closed",c)}var i=n(0).inherits,o=n(97),a=n(172),s=n(42),c={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]};i(r,s),r.prototype._close=function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},r.prototype._connect=function(e,t,n,r){e.connect("PA00000000000000000000000000000000","test");var i=Promise.resolve(new a(e,"RM00000000000000000000000000000000",r));return i.cancel=function(){},i},r.prototype._open=function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},r.prototype.close=function(){var e=this;return this.bracket("close",function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},r.prototype.connect=function(e,t,n,r){var i=this;return this.bracket("connect",function o(a){switch(i.state){case"closed":return i._open(a).then(o.bind(null,a));case"open":return i.releaseLockCompletely(a),i._connect(e,t,n,r);default:throw new Error('Unexpected Signaling state "'+i.state+'"')}})},r.prototype.createLocalParticipantSignaling=function(){return new o},r.prototype.open=function(){var e=this;return this.bracket("open",function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},e.exports=r},function(e,t,n){var r=n(482);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".VideoChat__container{min-height:100px}.VideoChat__container video{display:block;width:100%}.VideoChat__localMedia,.VideoChat__remoteMedia{position:relative;background:#ddd;min-height:200px;min-width:200px;color:#bbb}.VideoChat__localMedia video,.VideoChat__remoteMedia video{position:relative;z-index:2}.VideoChat__localMedia{margin:30px 0}.VideoChat__localMedia video{transform:rotateY(180deg)}.VideoChat__center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}.VideoChat__button{display:inline-block;color:#000;border:1px solid #fff844;border-radius:4px;background:#fff844;padding:.5em 1.5em;cursor:pointer;font-size:18px;outline:none;text-decoration:none}.VideoChat__button:hover{color:#000;border-color:#999;background:#fff333;text-decoration:none}.VideoChat__button:active{background:#fff71e}",""]),t.locals={container:"VideoChat__container",localMedia:"VideoChat__localMedia",remoteMedia:"VideoChat__remoteMedia",center:"VideoChat__center",button:"VideoChat__button"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),l=r(u),p=n(484),d=r(p),h=n(485),f=r(h),m=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={activeTab:0},e}return s(t,e),c(t,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=this.state.activeTab,n=this.props.children,r=Object.keys(n);return l.default.createElement("div",{className:f.default.container},l.default.createElement("div",{className:f.default.tabs},l.default.createElement("h4",null,this.props.title,":"),r.map(function(n,r){return l.default.createElement("div",{className:(0,d.default)(f.default.tab,i({},f.default.active,r===t)),onClick:function(){return e.setTab(r)}},n)})),l.default.createElement("div",{className:f.default.content},n[r[t]]))}}]),t}(u.PureComponent);t.default=m},function(e,t,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){var r=n(486);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Tabs__container{display:inline-block}.Tabs__tabs{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;border-bottom:1px solid #eee}.Tabs__tabs h4{margin:0 20px}.Tabs__tab{border:1px solid #eee;border-bottom-color:#fff;background:#eee;margin-bottom:-1px;padding:.5em 1em;cursor:pointer}.Tabs__tab.Tabs__active{background:#fff;cursor:default;pointer-events:none}.Tabs__tab:not(:first-of-type){margin-left:-1px}.Tabs__content{background:#fff;padding:20px 0;max-width:640px}",""]),t.locals={container:"Tabs__container",tabs:"Tabs__tabs",tab:"Tabs__tab",active:"Tabs__active",content:"Tabs__content"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(488),p=r(l),d=n(99),h=n(85),f=r(h),m=n(489),g=r(m),v=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.newsTopics=[],e.state={topic:null},e}return a(t,e),s(t,[{key:"setTopic",value:function(){var e=(0,d.randomItem)(this.newsTopics),t={title:e.title,url:e.url,imageUrl:e.multimedia[4].url.replace(/superJumbo/,"articleLarge")};this.setState({topic:t}),this.publish(t)}},{key:"publish",value:function(e){this.pubSub&&this.pubSub.publish(e)}},{key:"init",value:function(e){var t=this;this.pubSub=new f.default(e+"-image }"),this.pubSub.connect().then(function(){t.pubSub.onMessage(function(e){t.setState({topic:e})}),t.state.topic&&t.publish(t.state.topic)})}},{key:"componentWillMount",value:function(){var e=this;this.props.roomName&&this.init(this.props.roomName),p.default.getRandomStories().then(function(t){e.newsTopics=t.filter(function(e){var t=e.multimedia;return t[4].height<t[4].width}),e.state.topic||e.setTopic()})}},{key:"componentWillReceiveProps",value:function(e){e.roomName&&!this.pubSub&&this.init(e.roomName)}},{key:"componentWillUnmount",value:function(){this.pubSub&&this.pubSub.end()}},{key:"render",value:function(){var e=this,t=this.state.topic;return t?u.default.createElement("div",{className:g.default.container},u.default.createElement("a",{href:t.url,target:"_blank"},u.default.createElement("img",{src:t.imageUrl,title:t.title})),u.default.createElement("div",{className:g.default.controls},u.default.createElement("button",{onClick:function(){return e.setTopic()}},"↻ Another picture"))):null}}]),t}(c.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(99),a="https://api.nytimes.com/svc/topstories/v2/<topic>.json?api-key=ae35a3dcfdbd4814bef25aa5b9e62dd1",s=["arts","science"],c=function(){function e(){r(this,e)}return i(e,null,[{key:"requestTopStories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.randomItem)(s);return fetch(new Request(a.replace(/<topic>/,e),{mode:"cors",method:"GET"})).then(function(e){return e.json()})}},{key:"getRandomStories",value:function(){return e.requestTopStories().then(function(e){return e.results.filter(function(e){return e.multimedia&&e.multimedia.length})})}}]),e}();t.default=c},function(e,t,n){var r=n(490);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".ImageTopic__container{display:block}.ImageTopic__container h1{margin-top:0}.ImageTopic__container button{display:inline-block;color:#000;border:1px solid #fff844;border-radius:4px;background:#fff844;padding:.5em 1.5em;cursor:pointer;font-size:18px;outline:none;text-decoration:none}.ImageTopic__container button:hover{color:#000;border-color:#999;background:#fff333;text-decoration:none}.ImageTopic__container button:active{background:#fff71e}.ImageTopic__container img{display:block;width:100%;height:auto}.ImageTopic__controls{text-align:center;padding-top:1em}",""]),t.locals={container:"ImageTopic__container",controls:"ImageTopic__controls"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(85),p=r(l),d=n(492),h=r(d),f=n(493),m=r(f),g=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.clientId="video"+Math.random().toString(32).slice(2),e.playing=!1,e.player=null,e.state={videoId:null,loading:!1},e}return a(t,e),s(t,[{key:"loadVideo",value:function(){var e=this;this.setState({loading:!0}),h.default.searchRandom(this.props.lang).then(function(t){return e.setVideoId(t.id.videoId)})}},{key:"setVideoId",value:function(e){this.setState({videoId:e,loading:!1}),this.publish({videoId:e})}},{key:"publish",value:function(e){e.clientId=this.clientId,this.pubSub&&this.pubSub.publish(e)}},{key:"init",value:function(e){var t=this;this.pubSub=new p.default(e+"-video"),this.pubSub.connect().then(function(){t.state.videoId&&t.publish({videoId:t.state.videoId}),t.pubSub.onMessage(function(e){e.clientId!==t.clientId&&(e.videoId&&e.videoId!==t.state.videoId&&t.setVideoId(e.videoId),t.player&&null!==e.playing&&t.playing!==e.playing&&(Math.abs(e.currentTime-t.player.getCurrentTime())>1&&t.player.seekTo(e.currentTime),e.playing?t.player.playVideo():t.player.pauseVideo()))})})}},{key:"onLoad",value:function(){var e=this,t=window.YT,n=t.PlayerState,r=null,i=new t.Player(this.clientId,{events:{onReady:function(){e.player=i},onStateChange:function(o){e.playing=null,o.data===n.PLAYING||r===n.UNSTARTED&&o.data===n.BUFFERING?e.playing=!0:o.data===t.PlayerState.PAUSED&&(e.playing=!1),e.publish({videoId:e.state.videoId,currentTime:i.getCurrentTime(),playing:e.playing}),r=o.data}}})}},{key:"componentWillMount",value:function(){this.props.roomName&&this.init(this.props.roomName),this.loadVideo()}},{key:"componentWillReceiveProps",value:function(e){e.roomName&&!this.pubSub&&this.init(e.roomName)}},{key:"componentWillUnmount",value:function(){this.pubSub&&this.pubSub.end()}},{key:"render",value:function(){var e=this,t=this.state,n=t.videoId,r=t.loading;return n?u.default.createElement("div",{className:m.default.container},u.default.createElement("iframe",{id:this.clientId,onLoad:function(){return e.onLoad()},src:"https://www.youtube.com/embed/"+n+"?enablejsapi=1",width:"640",height:"360",frameBorder:0}),u.default.createElement("div",{className:m.default.controls},u.default.createElement("button",{onClick:function(){return e.loadVideo()},disabled:r},"↻ Another video"))):null}}]),t}(c.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(99),a=n(27),s=function(e){return e&&e.__esModule?e:{default:e}}(a),c={en:["UCLXo7UDZvByw2ixzpQCufnA","UCsXVk37bltHxD1rDPwtNM8Q"],de:["UCbxb2fqe9oNgglAoYqsYOtQ","UCySxeQ0avHLwZhys1J4J7Zw","UCwRH985XgMYXQ6NxXDo8npw","UC5E9-r42JlymhLPnDv2wHuA"]},u=function(){function e(){r(this,e)}return i(e,null,[{key:"search",value:function(e,t){var n={part:"snippet",maxResults:20,order:"date",type:"video",videoEmbeddable:"true",key:atob("QUl6YVN5RGRtQXpXQ2pvZ01vMTRqbjE4NXdfNVFDTUl4b0xidGUw"),relevanceLanguage:e};t?n.channelId=t:n.q=s.default.languages[e];var r=Object.keys(n).map(function(e){return e+"="+encodeURIComponent(n[e])}).join("&");return fetch(new Request("https://www.googleapis.com/youtube/v3/search?"+r),{mode:"cors",method:"GET"}).then(function(e){return e.json()})}},{key:"searchSelectedChannels",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",n=c[t];return n?Promise.all(n.map(function(n){return e.search(t,n)})).then(function(e){var t=[];return e.forEach(function(e){return t.push.apply(t,e.items)}),(0,o.shuffle)(t)}):e.search(t)}},{key:"searchRandom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",n=c[t]?(0,o.randomItem)(c[t]):void 0;return e.search(t,n).then(function(e){return(0,o.randomItem)(e.items)})}}]),e}();t.default=u},function(e,t,n){var r=n(494);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".YoutubeVideo__container button{display:inline-block;color:#000;border:1px solid #fff844;border-radius:4px;background:#fff844;padding:.5em 1.5em;cursor:pointer;font-size:18px;outline:none;text-decoration:none}.YoutubeVideo__container button:hover{color:#000;border-color:#999;background:#fff333;text-decoration:none}.YoutubeVideo__container button:active{background:#fff71e}.YoutubeVideo__container button[disabled]{opacity:.5;cursor:default;pointer-events:none}.YoutubeVideo__controls{text-align:center;padding-top:1em}",""]),t.locals={container:"YoutubeVideo__container",controls:"YoutubeVideo__controls"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(496),p=r(l),d=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={time:""},e}return a(t,e),s(t,[{key:"formatTime",value:function(e){var t=function(e){return("00"+e).slice(-2)},n=new Date(e);return[t(60*(n.getHours()-1)+n.getMinutes()),t(n.getSeconds())].join(":")}},{key:"componentWillMount",value:function(){var e=this,t=Date.now();setInterval(function(){var n=Math.round(Date.now()-t),r=e.formatTime(n);r!==e.state.time&&e.setState({time:r})},500)}},{key:"render",value:function(){return u.default.createElement("span",{className:p.default.container},this.state.time)}}]),t}(c.PureComponent);t.default=d},function(e,t,n){var r=n(497);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Timer__container{padding:0 20px;color:#ddd;font-weight:100;font-family:Menlo,monospace}",""]),t.locals={container:"Timer__container"}},function(e,t,n){var r=n(499);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Lobby__container{margin:0 auto;max-width:1400px;padding:0 30px}.Lobby__container h1{margin:50px auto;padding:0 20px}.Lobby__row{display:flex;flex-direction:row;flex-wrap:wrap-reverse;width:100%;overflow:hidden}.Lobby__column{flex:1}.Lobby__column-70{min-width:70%;margin-right:20px}",""]),t.locals={container:"Lobby__container",row:"Lobby__row",column:"Lobby__column","column-70":"Lobby__column-70",column70:"Lobby__column-70"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.match,n=t.params.id;return a.default.createElement("div",{className:d.default.container},a.default.createElement("div",{className:d.default.row},a.default.createElement("div",{className:d.default.column70},a.default.createElement(l.default,{lang:"de",roomName:n})),a.default.createElement("div",{className:d.default.column},a.default.createElement("div",{className:d.default.videoChat},a.default.createElement(c.default,{roomName:n,onConnect:function(){return null},onDisconnect:function(){return null}})))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(3),a=r(o),s=n(158),c=r(s),u=n(177),l=r(u),p=n(501),d=r(p)},function(e,t,n){var r=n(502);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Call__container{margin:40px auto 0;max-width:1400px;padding:0 30px}@media only screen and (min-width:1024px){.Call__container h1{width:900px;margin-left:auto;margin-right:auto}}.Call__row{display:flex;flex-direction:row;flex-wrap:wrap-reverse;width:100%;overflow:hidden}.Call__column{flex:1}.Call__column-70{min-width:70%;margin-right:20px}",""]),t.locals={container:"Call__container",row:"Call__row",column:"Call__column","column-70":"Call__column-70",column70:"Call__column-70"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=r(c),l=n(37),p=n(38),d=r(p),h=n(27),f=r(h),m=n(504),g=r(m),v=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unsubscribe=null,e.state={userData:{}},e}return a(t,e),s(t,[{key:"logout",value:function(){d.default.dispatch({type:"logout"})}},{key:"componentWillMount",value:function(){var e=this,t=function(){e.setState({userData:d.default.getState()})};this.unsubscribe=d.default.subscribe(t),t()}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state.userData;return u.default.createElement("div",{className:g.default.container},u.default.createElement("h1",null,"Dashboard"),u.default.createElement("div",{className:g.default.row},u.default.createElement("div",{className:g.default.col},u.default.createElement("div",{className:g.default.field},u.default.createElement("b",null,"Email:")," ",t.email),u.default.createElement("div",{className:g.default.field},u.default.createElement("b",null,t.teacher?"Teaching language":"Learning language",":")," ",f.default.languages[t.language]),u.default.createElement("div",{className:g.default.field},u.default.createElement("b",null,"Level:")," ",t.level),u.default.createElement("div",{className:g.default.field},u.default.createElement(l.Link,{to:"/",className:g.default.cta,onClick:function(){return e.logout()}},"Log out"))),u.default.createElement("div",{className:g.default.col})))}}]),t}(c.PureComponent);t.default=v},function(e,t,n){var r=n(505);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,".Dashboard__container{margin:0 auto;padding:0 1em;max-width:900px}.Dashboard__row{display:flex;flex-direction:row}.Dashboard__col{flex:1}.Dashboard__container h1{margin:50px auto}.Dashboard__field{margin-bottom:20px}.Dashboard__cta{display:inline-block;color:#333;border:1px solid #fff844;border-radius:4px;background:#fff;padding:.5em 1.5em;margin:20px 0;cursor:pointer;font-size:16px;outline:none;text-decoration:none}.Dashboard__cta:hover{color:#000;border-color:#999;text-decoration:none}.Dashboard__cta:active{border-color:#999}",""]),t.locals={container:"Dashboard__container",row:"Dashboard__row",col:"Dashboard__col",field:"Dashboard__field",cta:"Dashboard__cta"}},function(e,t,n){var r=n(507);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(14)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(13)(void 0),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,700);",""]),t.push([e.i,"html{background:#fff;background-size:cover;margin:0;padding:0;color:#333;min-height:100vh;position:relative}body{margin:0;padding:0 0 70px;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif}*{box-sizing:border-box}a{color:#333}a:visited{color:#555}a:active,a:hover{color:#000;text-decoration:none}h1,h2,h3{font-weight:400}",""])}]);
//# sourceMappingURL=app.js.map